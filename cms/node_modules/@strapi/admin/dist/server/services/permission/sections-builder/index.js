"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fp_1 = require("lodash/fp");
const builder_1 = __importDefault(require("./builder"));
const handlers_1 = require("./handlers");
const sectionPropMatcher = (0, fp_1.propEq)('section');
const createContentTypesInitialState = () => ({
    actions: [],
    subjects: [],
});
const createDefaultSectionBuilder = () => {
    const builder = (0, builder_1.default)();
    builder.createSection('plugins', {
        initialStateFactory: () => [],
        handlers: [handlers_1.plugins],
        matchers: [sectionPropMatcher('plugins')],
    });
    builder.createSection('settings', {
        initialStateFactory: () => [],
        handlers: [handlers_1.settings],
        matchers: [sectionPropMatcher('settings')],
    });
    builder.createSection('singleTypes', {
        initialStateFactory: createContentTypesInitialState,
        handlers: [handlers_1.contentTypesBase, (0, handlers_1.subjectsHandlerFor)('singleType'), handlers_1.fieldsProperty],
        matchers: [sectionPropMatcher('contentTypes')],
    });
    builder.createSection('collectionTypes', {
        initialStateFactory: createContentTypesInitialState,
        handlers: [handlers_1.contentTypesBase, (0, handlers_1.subjectsHandlerFor)('collectionType'), handlers_1.fieldsProperty],
        matchers: [sectionPropMatcher('contentTypes')],
    });
    return builder;
};
exports.default = createDefaultSectionBuilder;
//# sourceMappingURL=index.js.map