"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const serve_admin_panel_1 = __importDefault(require("./routes/serve-admin-panel"));
const admin_1 = __importDefault(require("./strategies/admin"));
const api_token_1 = __importDefault(require("./strategies/api-token"));
exports.default = ({ strapi }) => {
    const passportMiddleware = strapi.admin.services.passport.init();
    strapi.server.api('admin').use(passportMiddleware);
    strapi.container.get('auth').register('admin', admin_1.default);
    strapi.container.get('auth').register('content-api', api_token_1.default);
    if (strapi.config.serveAdminPanel) {
        (0, serve_admin_panel_1.default)({ strapi });
    }
};
//# sourceMappingURL=register.js.map