"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8880],{67275:function(Be,w,s){var t=s(32735),ee=s(77981),v=s(43806),Te=s(28868),N=s(90984),Q=s(54342),_=s(23673),we=s(79334),Me=s(44298),et=s(28385),tt=s(80016),_e=s(60384),Ue=s(32119),We=s(19455),Ke=s(60389),he=s(95556),nt=s(53226),le=s(12171),Fe=s(58316),c=s(50756),at=s(60216),Pe=s.n(at),pe=s(8471);const ve={biginteger:Te.Z,blocks:N.Z,boolean:Q.Z,collectionType:_.Z,component:we.Z,contentType:_.Z,date:Me.Z,datetime:Me.Z,decimal:Te.Z,dynamiczone:et.Z,email:tt.Z,enum:_e.Z,enumeration:_e.Z,file:Ue.Z,files:Ue.Z,float:Te.Z,integer:Te.Z,json:We.Z,JSON:We.Z,media:Ue.Z,number:Te.Z,password:Ke.Z,relation:he.Z,richtext:nt.Z,singleType:le.Z,string:Fe.Z,text:Fe.Z,time:Me.Z,timestamp:Me.Z,uid:c.Z},$=(0,pe.ZP)(ee.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,$e=({type:je,customField:st,...ot})=>{const it=(0,v.mZ)();let T=ve[je];if(st){const{icon:ze}=it.get(st);ze&&(T=ze)}return ve[je]?t.createElement($,{height:(0,v.Q1)(24),width:(0,v.Q1)(32),shrink:0,...ot,"aria-hidden":!0},t.createElement(ee.x,{as:T})):null};$e.defaultProps={customField:null},$e.propTypes={type:Pe().string.isRequired,customField:Pe().string},w.Z=$e},51401:function(Be,w,s){s.d(w,{c:function(){return Fn}});var t=s(98851),ee=s(88454),v=s(60860),Te=s(72480),N=s(70788),Q=s(25919),_=s(23381),we=s(32095),Me=s(87436),et=s(73892),tt=s(19999),_e=s(1586),Ue=s(2651),We=s(44494),Ke=s(98599),he=s(5894),nt=s(88026),le=s(94852),Fe=s(72911),c=s(37781),at=s(40501),Pe=s(31797),pe=s(24591),ve=s(68620),$=s(19594),$e=s(39638),je=s(17110),st=s(40685),ot=s(48644),it=s(9362),T=s(83708),ze=s(6665),Vt=s(66846),Gt=s(70146),Ot=s(80031),Ht=s(13713),Yt=s(37455),Qt=s(70321),a=s(84951),Ce=s(87816),Xt=s(50720),Jt=s(32880),Ae=s(62864),wt=s(10364),en=s(12350),Pt=s(69762),At=s(19211),U=s(53220),De=s(68527),rt=s(34901),Le=s(27840),tn=s(75337),q=s(9568),nn=s(15406),an=s(22523),sn=s(73981),Dt=s(64745),ge=s(44130),ya=s(85406),Lt=s(17626),Ea=s(51098),lt=s(42815),It=s(39126),on=s(9780),dt=s(42498),rn=s(47763),j=s(54275),ct=s(36328),ut=s(17037),ke=s(46051),qe=s(91528),ha=s(9137),xt=s(3448),ln=s(18981),mt=s(73136),dn=s(94140),va=s(3115),St=s(30279),Bt=s(15558),cn=s(46528),un=s(41186),Ut=s(73896),mn=s(18489),pn=s(39544),gn=s(63318),fn=s(81904),yn=s(59151),En=s(3747),hn=s(77021),Ma=s(42627),vn=s(58518),ba=s(82064),Mn=s(3718),Ft=s(601),bn=s(47372),Ve=s(98378),Ge=s(95412),pt=s(61131),Tn=s(29806),Nt=s(37982),Cn=s(23044),gt=s(17229),ft=s(42778),_t=s(19815),Zn=s(96151),Wt=s(10291),yt=s(90230),Rn=s(90517),Et=s(83997),On=s(57918),Kt=s(62996),Pn=s(98128),ht=s(42912),An=s(65558),vt=s(17994),Dn=s(78420),$t=s(56549),Ln=s(86399),In=s(27369),xn=s(13424),Mt=s(12681),Sn=s(69826),Ta=s(24322),Bn=s(19637),bt=s(50322),Un=s(22356);const Fn={alien:t.Z,apps:ee.Z,archive:v.Z,arrowDown:Te.Z,arrowLeft:N.Z,arrowRight:Q.Z,arrowUp:_.Z,attachment:we.Z,bell:Me.Z,bold:et.Z,book:tt.Z,briefcase:_e.Z,brush:Ue.Z,bulletList:We.Z,calendar:Ke.Z,car:he.Z,cast:nt.Z,chartBubble:le.Z,chartCircle:Fe.Z,chartPie:c.Z,check:at.Z,clock:Pe.Z,cloud:pe.Z,code:ve.Z,cog:$.Z,collapse:$e.Z,command:je.Z,connector:st.Z,crop:ot.Z,crown:it.Z,cube:T.Z,cup:ze.Z,cursor:Vt.Z,dashboard:Gt.Z,database:Ot.Z,discuss:Ht.Z,doctor:Yt.Z,earth:Qt.Z,emotionHappy:a.Z,emotionUnhappy:Ce.Z,envelop:Xt.Z,exit:Jt.Z,expand:Ae.Z,eye:wt.Z,feather:en.Z,file:Pt.Z,fileError:At.Z,filePdf:U.Z,filter:De.Z,folder:rt.Z,gate:Le.Z,gift:tn.Z,globe:q.Z,grid:nn.Z,handHeart:an.Z,hashtag:sn.Z,headphone:Dt.Z,heart:ge.Z,house:ya.Z,information:Lt.Z,italic:Ea.Z,key:lt.Z,landscape:It.Z,layer:on.Z,layout:dt.Z,lightbulb:rn.Z,link:j.Z,lock:ct.Z,magic:ut.Z,manyToMany:ke.Z,manyToOne:qe.Z,manyWays:ha.Z,medium:xt.Z,message:ln.Z,microphone:mt.Z,monitor:dn.Z,moon:va.Z,music:St.Z,oneToMany:Bt.Z,oneToOne:cn.Z,oneWay:un.Z,paint:Ut.Z,paintBrush:mn.Z,paperPlane:pn.Z,pencil:gn.Z,phone:fn.Z,picture:yn.Z,pin:En.Z,pinMap:hn.Z,plane:Ma.Z,play:vn.Z,plus:ba.Z,priceTag:Mn.Z,puzzle:Ft.Z,question:bn.Z,quote:Ve.Z,repeat:Ge.Z,restaurant:pt.Z,rocket:Tn.Z,rotate:Nt.Z,scissors:Cn.Z,search:gt.Z,seed:ft.Z,server:_t.Z,shield:Zn.Z,shirt:Wt.Z,shoppingCart:yt.Z,slideshow:Rn.Z,stack:Et.Z,star:On.Z,store:Kt.Z,strikeThrough:Pn.Z,sun:ht.Z,television:An.Z,thumbDown:vt.Z,thumbUp:Dn.Z,train:$t.Z,twitter:Ln.Z,typhoon:In.Z,underline:xn.Z,user:Mt.Z,volumeMute:Sn.Z,volumeUp:Ta.Z,walk:Bn.Z,wheelchair:bt.Z,write:Un.Z}},52219:function(Be,w,s){var t=s(32735);const ee=(0,t.createContext)();w.Z=ee},89798:function(Be,w,s){var t=s(32735);const ee=(0,t.createContext)();w.Z=ee},97782:function(Be,w,s){var t=s(32735),ee=s(52219);const v=()=>(0,t.useContext)(ee.Z);w.Z=v},20666:function(Be,w,s){var t=s(32735),ee=s(89798);const v=()=>(0,t.useContext)(ee.Z);w.Z=v},3681:function(Be,w,s){s.r(w),s.d(w,{default:function(){return Ko}});var t=s(32735),ee=s(99226),v=s(43806),Te=s(74758),N=s(67879),Q=s(53038),_=s(77981),we=s(43743),Me=s(18129),et=s(7141),tt=s(65352),_e=s(36473),Ue=s(88791),We=s(68080),Ke=s(89274),he=s(82064),nt=s(23940),le=s.n(nt),Fe=s(14911),c=s(32105),at=s(89793),Pe=s.n(at),pe=s(97782),ve=s(20666),$=s(53728),je=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:d,initialData:l}=(0,pe.Z)(),u=(0,v.lm)(),{trackUsage:m}=(0,v.rS)(),[f,g]=(0,t.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:D}=(0,ve.Z)(),{locale:C}=(0,N.Z)(),{startsWith:M}=(0,v.L0)(C,{sensitivity:"base"}),O=(0,v.Xe)(C,{sensitivity:"base"}),I=!Object.keys(o).some(S=>o[S].isTemporary===!0)&&!Object.keys(e).some(S=>e[S].isTemporary===!0)&&Pe()(d,l),b=()=>{I?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):x()},A=()=>{I?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):x()},L=()=>{I?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):x()},x=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},z=Object.entries(n).map(([S,ae])=>({name:S,title:S,isEditable:r,onClickEdit(k,ce){k.stopPropagation(),I?D(ce.name):x()},links:ae.map(k=>({name:k.uid,to:`/plugins/${$.Z}/component-categories/${S}/${k.uid}`,title:k.schema.displayName})).sort((k,ce)=>O.compare(k.title,ce.title))})).sort((S,ae)=>O.compare(S.title,ae.title)),ne=i.filter(S=>S.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:b},links:ne.filter(S=>S.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:A},links:ne.filter(S=>S.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:L},links:z}].map(S=>S.links.some(k=>Array.isArray(k.links))?{...S,links:S.links.map(k=>{const ce=k.links.filter(H=>M(H.title,f));return ce.length===0?null:{...k,links:ce.sort((H,G)=>O.compare(H.title,G.title))}}).filter(Boolean)}:{...S,links:S.links.filter(k=>M(k.title,f)).sort((k,ce)=>O.compare(k.title,ce.title))}),searchValue:f,onSearchChange:g}},ot=()=>{const{menu:e,searchValue:n,onSearchChange:o}=je(),{formatMessage:r}=(0,N.Z)();return t.createElement(et.m,{ariaLabel:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(tt.p,{searchable:!0,value:n,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),t.createElement(_e.Z,null,e.map(i=>t.createElement(t.Fragment,{key:i.name},t.createElement(Ue.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(d=>d.links?t.createElement(We.z,{key:d.name,label:le()(d.title)},d.links.map(l=>t.createElement(Ke.E,{as:Fe.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},le()(r({id:l.name,defaultMessage:l.title}))))):t.createElement(Ke.E,{as:Fe.OL,to:d.to,active:d.active,key:d.name},le()(r({id:d.name,defaultMessage:d.title}))))),i.customLink&&t.createElement(_.x,{paddingLeft:7},t.createElement(we.A,{onClick:i.customLink.onClick,startIcon:t.createElement(Me.J,{as:he.Z,width:(0,v.Q1)(8),height:(0,v.Q1)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))},it=s(33795),T=s.n(it),ze=s(81346),Vt=s.n(ze),Gt=s(3040),Ot=s.n(Gt),Ht=s(61868),Yt=s.n(Ht),Qt=s(60216),a=s.n(Qt),Ce=s(15062),Xt=s(6680),Jt=s(52219),Ae=s(19323),wt=s(43468),en=s(21223),Pt=s(87674),At=s(49854),U=s(84642),De=s(89599),rt=s(2775),Le=s(8623),tn=s(74973),q=s(91779),nn=s(23973),an=s.n(nn),sn=s(59578),Dt=s.n(sn),ge=s(8471),Lt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),lt=(e,n)=>e.find(({name:o})=>o===n),It=s(63057);const on=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],dt=({intlLabel:e,name:n,onChange:o,value:r})=>{const{formatMessage:i}=(0,N.Z)(),d=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>le()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):n;return t.createElement(It.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:n,value:u,type:"allowed-types-select"}}):o({target:{name:n,value:null,type:"allowed-types-select"}})},options:on,value:r||[]})};dt.defaultProps={value:null},dt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().object,a().array])};var rn=dt,j=s(8365),ct=s(75293),ut=s(10710),ke=s(97037),qe=s(67275),xt=(0,ge.ZP)(_.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`;const ln=(0,ge.ZP)(_.x)`
  background-color: ${({theme:e})=>e.colors.warning100};
  border: ${({theme:e})=>`1px solid ${e.colors.warning200}`};
  border-radius: ${({theme:e})=>e.borderRadius};
  font-size: ${({theme:e})=>e.fontSizes[0]};
  padding: ${({theme:e})=>`${2/16}rem ${e.spaces[1]}`};
`,mt=({type:e})=>{const{formatMessage:n}=(0,N.Z)(),{onClickSelectField:o}=(0,ve.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},t.createElement(U.k,null,t.createElement(qe.Z,{type:e}),t.createElement(_.x,{paddingLeft:4,width:"100%"},t.createElement(U.k,{justifyContent:"space-between"},t.createElement(j.Z,{fontWeight:"bold"},n({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e})),e==="blocks"&&t.createElement(ln,null,t.createElement(j.Z,{textColor:"warning600",variant:"sigma"},"ALPHA"))),t.createElement(U.k,null,t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};mt.defaultProps={type:"text"},mt.propTypes={type:a().string};var dn=mt,St=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}};const Bt=({attributes:e})=>t.createElement(ct.k,{tagName:"button"},t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:8},e.map((n,o)=>t.createElement(ut.r,{key:o,gap:0},n.map((r,i)=>{const{paddingLeft:d,paddingRight:l}=St(i);return t.createElement(ke.P,{key:r,col:6},t.createElement(_.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},t.createElement(dn,{type:r})))})))));Bt.propTypes={attributes:a().array.isRequired};var cn=Bt,un=s(84458);const Ut=({customFieldUid:e,customField:n})=>{const{type:o,intlLabel:r,intlDescription:i}=n,{formatMessage:d}=(0,N.Z)(),{onClickSelectCustomField:l}=(0,ve.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},t.createElement(U.k,null,t.createElement(qe.Z,{type:o,customField:e}),t.createElement(_.x,{paddingLeft:4},t.createElement(U.k,null,t.createElement(j.Z,{fontWeight:"bold"},d(r))),t.createElement(U.k,null,t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(i))))))};Ut.propTypes={customFieldUid:a().string.isRequired,customField:a().shape({type:a().string.isRequired,icon:a().func,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,intlDescription:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired}).isRequired};var mn=Ut,pn=s(18101),gn=s(23982),fn=s(33348),yn=s.n(fn);const En=(0,ge.ZP)(_.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,hn=()=>t.createElement(U.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>t.createElement(En,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0})));var vn=()=>{const{formatMessage:e}=(0,N.Z)();return t.createElement(_.x,{position:"relative"},t.createElement(hn,null),t.createElement(_.x,{position:"absolute",top:6,width:"100%"},t.createElement(U.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(Me.J,{as:gn.Z,color:"",width:"160px",height:"88px"}),t.createElement(_.x,{paddingTop:6,paddingBottom:4},t.createElement(_.x,{textAlign:"center"},t.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(_.x,{paddingTop:4},t.createElement(j.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(pn.Q,{to:`/marketplace?${yn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(he.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Mn=()=>{const{formatMessage:e}=(0,N.Z)(),n=(0,v.mZ)(),o=Object.entries(n.getAll());if(!o.length)return t.createElement(vn,null);const r=o.sort((i,d)=>i[1].name>d[1].name?1:-1);return t.createElement(ct.k,{tagName:"button"},t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:3},t.createElement(ut.r,{gap:0},r.map(([i,d],l)=>{const{paddingLeft:u,paddingRight:m}=St(l);return t.createElement(ke.P,{key:i,col:6,style:{height:"100%"}},t.createElement(_.x,{paddingLeft:u,paddingRight:m,paddingBottom:1,style:{height:"100%"}},t.createElement(mn,{key:i,customFieldUid:i,customField:d})))})),t.createElement(un.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))};const Ft=({attributes:e,forTarget:n,kind:o})=>{const{formatMessage:r}=(0,N.Z)(),i=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=n.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return t.createElement(Pt.f,{padding:6},t.createElement(At.v,{label:r({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(U.k,{justifyContent:"space-between"},t.createElement(j.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),t.createElement(De.m,null,t.createElement(De.O,null,r({id:i,defaultMessage:"Default"})),t.createElement(De.O,null,r({id:d,defaultMessage:"Custom"})))),t.createElement(_.x,{paddingBottom:6},t.createElement(rt.i,null)),t.createElement(Le.n,null,t.createElement(Le.x,null,t.createElement(cn,{attributes:e})),t.createElement(Le.x,null,t.createElement(Mn,null)))))};Ft.propTypes={attributes:a().array.isRequired,forTarget:a().string.isRequired,kind:a().string.isRequired};var bn=Ft,Ve=s(16773),Ge=s(40260);const pt=({intlLabel:e,name:n,options:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,u=m=>{let f="";m==="true"&&(f=!0),m==="false"&&(f=!1),r({target:{name:n,value:f,type:"select-default-boolean"}})};return t.createElement(Ve.P,{label:l,id:n,name:n,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:m,disabled:f,hidden:g},key:p,value:D})=>t.createElement(Ge.W,{key:p,value:D,disabled:f,hidden:g},m.defaultMessage)))};pt.defaultProps={value:null},pt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().any};var Tn=pt,Nt=s(59619);const Cn=(0,ge.ZP)(U.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Nt.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${j.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:n,onChange:o,radios:r,value:i})=>{const{formatMessage:d}=(0,N.Z)();return t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},d(e)),t.createElement(Cn,{gap:4,alignItems:"stretch"},r.map(l=>t.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},t.createElement("input",{id:l.value.toString(),name:n,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),t.createElement(_.x,{className:"option",padding:4},t.createElement(U.k,null,t.createElement(_.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(j.Z,{fontWeight:"bold"},d(l.title)),t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};gt.defaultProps={radios:[]},gt.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,radios:a().arrayOf(a().shape({title:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}),value:a().any.isRequired})),value:a().oneOfType([a().string,a().bool]).isRequired};var ft=gt;const _t=({onChange:e,name:n,...o})=>{const r=i=>{const d=i.target.value!=="false";e({target:{name:n,value:d,type:"boolean-radio-group"}})};return t.createElement(ft,{...o,name:n,onChange:r})};_t.propTypes={name:a().string.isRequired,onChange:a().func.isRequired};var Zn=_t,Wt=s(31014),yt=s(2846),Rn=s(8919);const Et=({error:e,intlLabel:n,modifiedData:o,name:r,onChange:i,value:d})=>{const{formatMessage:l}=(0,N.Z)(),[u,m]=(0,t.useState)(!!d||d===0),f=n.id?l({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):r,g=o.type==="biginteger"?"text":"number",p=!o.type,D=e?l({id:e,defaultMessage:e}):"";return t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(Wt.X,{id:r,name:r,onValueChange:C=>{i({target:{name:r,value:C?g==="text"?"0":0:null}}),m(I=>!I)},value:u},f),u&&t.createElement(_.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?t.createElement(yt.o,{"aria-label":f,disabled:p,error:D,id:r,name:r,onChange:i,value:d===null?"":d}):t.createElement(Rn.Y,{"aria-label":f,disabled:p,error:D,id:r,name:r,onValueChange:C=>{i({target:{name:r,value:C,type:g}})},value:d||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().oneOfType([a().string,a().object,a().bool,a().number])};var On=Et;const Kt=({onChange:e,...n})=>{const o=(0,v.lm)(),r=i=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return t.createElement(ft,{...n,onChange:r})};Kt.propTypes={onChange:a().func.isRequired};var Pn=Kt;const ht=({description:e,disabled:n,intlLabel:o,isCreating:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),[m,f]=(0,t.useState)(!1),g=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",D=()=>f(O=>!O),C=()=>{d({target:{name:i,value:!1}}),D()},M=({target:{checked:O}})=>{if(!O&&!r){D();return}d({target:{name:i,value:O}})};return t.createElement(t.Fragment,null,t.createElement(Wt.X,{checked:l,disabled:n,hint:p,name:i,onChange:M},g),t.createElement(v.QH,{isOpen:m,onToggleDialog:D,onConfirm:C,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isCreating:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().bool};var An=ht;const vt=({categoryName:e,deleteCategory:n,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:m,isCreatingComponent:f,isCreatingComponentAttribute:g,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:D,isCreatingContentType:C,isCreatingDz:M,isComponentModal:O,isDzAttribute:I,isEditingAttribute:b,isEditingCategory:A,isInFirstComponentStep:L,onSubmitAddComponentAttribute:x,onSubmitAddComponentToDz:z,onSubmitCreateContentType:ne,onSubmitCreateComponent:de,onSubmitCreateDz:S,onSubmitEditAttribute:ae,onSubmitEditCategory:k,onSubmitEditComponent:ce,onSubmitEditContentType:H,onSubmitEditCustomFieldAttribute:G,onSubmitEditDz:Ze,onClickFinish:se})=>{const{formatMessage:K}=(0,N.Z)();return u?p?t.createElement(q.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),z(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(q.z,{variant:"default",type:"submit",onClick:Z=>{Z.preventDefault(),z(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"})):i&&I&&!M?t.createElement(q.z,{variant:"default",type:"submit",onClick:Z=>{Z.preventDefault(),se(),Ze(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"})):i&&I&&M?t.createElement(t.Fragment,null,t.createElement(q.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),S(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?L?t.createElement(q.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),x(Z,!0)}},K(g?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(q.z,{variant:"secondary",type:"submit",onClick:Z=>{Z.preventDefault(),x(Z,!0)},startIcon:t.createElement(he.Z,null)},K(D?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(q.z,{variant:"default",type:"button",onClick:Z=>{Z.preventDefault(),se(),x(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!I?t.createElement(t.Fragment,null,t.createElement(q.z,{type:b?"button":"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),ae(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(q.z,{type:b?"submit":"button",variant:"default",onClick:Z=>{Z.preventDefault(),se(),ae(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):m?t.createElement(t.Fragment,null,!C&&t.createElement(t.Fragment,null,t.createElement(q.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),r()}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(q.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),H(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))),C&&t.createElement(q.z,{type:"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),ne(Z,!0)}},K({id:"global.continue",defaultMessage:"Continue"}))):O?t.createElement(t.Fragment,null,!f&&t.createElement(t.Fragment,null,t.createElement(q.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),o()}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(q.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),ce(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))),f&&t.createElement(q.z,{type:"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),de(Z,!0)}},K({id:"global.continue",defaultMessage:"Continue"}))):A?t.createElement(t.Fragment,null,t.createElement(q.z,{type:"button",variant:"danger",onClick:Z=>{Z.preventDefault(),n(e)}},K({id:"global.delete",defaultMessage:"Delete"})),t.createElement(q.z,{type:"submit",variant:"default",onClick:Z=>{Z.preventDefault(),k(Z)}},K({id:"global.finish",defaultMessage:"finish"}))):d?t.createElement(t.Fragment,null,t.createElement(q.z,{type:b?"button":"submit",variant:"secondary",onClick:Z=>{Z.preventDefault(),G(Z,!0)},startIcon:t.createElement(he.Z,null)},K({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(q.z,{type:b?"submit":"button",variant:"default",onClick:Z=>{Z.preventDefault(),se(),G(Z,!1)}},K({id:"global.finish",defaultMessage:"Finish"}))):null};vt.defaultProps={categoryName:null,onClickFinish(){}},vt.propTypes={categoryName:a().string,deleteCategory:a().func.isRequired,deleteComponent:a().func.isRequired,deleteContentType:a().func.isRequired,isAttributeModal:a().bool.isRequired,isCustomFieldModal:a().bool.isRequired,isComponentAttribute:a().bool.isRequired,isComponentModal:a().bool.isRequired,isComponentToDzModal:a().bool.isRequired,isContentTypeModal:a().bool.isRequired,isCreatingComponent:a().bool.isRequired,isCreatingComponentAttribute:a().bool.isRequired,isCreatingComponentInDz:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,isCreatingContentType:a().bool.isRequired,isCreatingDz:a().bool.isRequired,isDzAttribute:a().bool.isRequired,isEditingAttribute:a().bool.isRequired,isEditingCategory:a().bool.isRequired,isInFirstComponentStep:a().bool.isRequired,onSubmitAddComponentAttribute:a().func.isRequired,onSubmitAddComponentToDz:a().func.isRequired,onSubmitCreateContentType:a().func.isRequired,onSubmitCreateComponent:a().func.isRequired,onSubmitCreateDz:a().func.isRequired,onSubmitEditAttribute:a().func.isRequired,onSubmitEditCategory:a().func.isRequired,onSubmitEditComponent:a().func.isRequired,onSubmitEditContentType:a().func.isRequired,onSubmitEditCustomFieldAttribute:a().func.isRequired,onSubmitEditDz:a().func.isRequired,onClickFinish:a().func};var Dn=vt,$t=s(98887),Ln=s(79129),In=s(2748),xn=s(70788);const Mt=({actionType:e,attributeName:n,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:m,customFieldUid:f,showBackLink:g})=>{const{formatMessage:p}=(0,N.Z)(),{modifiedData:D}=(0,pe.Z)(),{onOpenModalAddField:C}=(0,ve.Z)();let M,O=[];const I=D?.[l]?.[m]||D?.[l]||null;let b=I?.schema.displayName;if(u==="contentType"&&(M=i),["component","editCategory"].includes(u)&&(M="component"),["component","contentType"].includes(u)){let L=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(L=(0,c.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(L=(0,c.Z)("modalForm.header-edit")),t.createElement($t.x,null,t.createElement(U.k,null,t.createElement(_.x,null,t.createElement(qe.Z,{type:M})),t.createElement(_.x,{paddingLeft:3},t.createElement(j.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:L},{name:b})))))}return O=[{label:b,info:{category:I?.category||null,name:I?.schema.displayName}}],u==="chooseAttribute"&&(M=["component","components"].includes(l)?"component":I.schema.kind),u==="addComponentToDynamicZone"&&(M="dynamiczone",O.push({label:d})),(u==="attribute"||u==="customField")&&(M=o,O.push({label:n})),u==="editCategory"&&(O=[{label:p({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),t.createElement($t.x,null,t.createElement(U.k,{gap:3},g&&t.createElement(v.rU,{"aria-label":p({id:(0,c.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:t.createElement(xn.Z,null),onClick:()=>C({forTarget:l,targetUid:m}),to:"#back"}),t.createElement(qe.Z,{type:M,customField:f}),t.createElement(Ln.O,{label:O.map(({label:L})=>L).join(",")},O.map(({label:L,info:x},z,ne)=>{if(L=le()(L),!L)return null;const de=`${L}.${z}`;return x?.category&&(L=`${L} (${le()(x.category)} - ${le()(x.name)})`),t.createElement(In.$,{isCurrent:z===ne.length-1,key:de},L)}))))};Mt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Mt.propTypes={actionType:a().string,attributeName:a().string,attributeType:a().string,categoryName:a().string,contentTypeKind:a().string,dynamicZoneTarget:a().string,forTarget:a().oneOf(["contentType","component","components"]),modalType:a().string.isRequired,targetUid:a().string,customFieldUid:a().string,showBackLink:a().bool};var Sn=Mt,Bn=({modalType:e,forTarget:n,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}};const bt=({actionType:e,modalType:n,forTarget:o,kind:r,step:i,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:m}=(0,N.Z)(),f=n==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return t.createElement(U.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(j.Z,{as:"h2",variant:"beta"},m({id:Bn({actionType:e,forTarget:o,kind:r,step:i,modalType:n}),defaultMessage:"Add new field"},{type:le()(m(f)),name:le()(l),step:i})),t.createElement(j.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};bt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},bt.propTypes={actionType:a().string,modalType:a().string,forTarget:a().string,kind:a().string,step:a().string,attributeType:a().string,attributeName:a().string,customField:a().object};var Un=bt,Fn=s(750),ls=s(99391),ds=s(99320),cs=s(37561),us=s(41604),Ca=s(14763),ms=s(11349),ps=s(17229),gs=s(94997),Za=s(51401);const fs=(0,ge.ZP)(U.k)`
  label {
    ${Nt.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Ra=({iconKey:e,name:n,onChange:o,isSelected:r,ariaLabel:i})=>t.createElement(Fn.g,{name:n,required:!1},t.createElement(ls.Q,{htmlFor:e,id:`${e}-label`},t.createElement(ds.T,null,t.createElement(cs._,{type:"radio",id:e,name:n,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),t.createElement(U.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},t.createElement(Me.J,{as:Za.c[e],color:r?"primary600":"neutral300"}))));Ra.propTypes={iconKey:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,isSelected:a().bool.isRequired,ariaLabel:a().string.isRequired};const Nn=({intlLabel:e,name:n,onChange:o,value:r})=>{const{formatMessage:i}=(0,N.Z)(),[d,l]=(0,t.useState)(!1),[u,m]=(0,t.useState)(""),f=Object.keys(Za.c),[g,p]=(0,t.useState)(f),D=(0,t.useRef)(null),C=(0,t.useRef)(null),M=()=>{l(!d)},O=({target:{value:A}})=>{m(A),p(()=>f.filter(L=>L.toLowerCase().includes(A.toLowerCase())))},I=()=>{M(),m(""),p(f)},b=()=>{o({target:{name:n,value:""}})};return(0,t.useEffect)(()=>{d&&C.current.focus()},[d]),t.createElement(t.Fragment,null,t.createElement(U.k,{justifyContent:"space-between",paddingBottom:2},t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),t.createElement(U.k,{gap:1},d?t.createElement(us.w,{ref:C,name:"searchbar",size:"S",placeholder:i({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||M()},onChange:O,value:u,onClear:I,clearLabel:i({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):t.createElement(Ca.h,{ref:D,onClick:M,"aria-label":i({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:t.createElement(ps.Z,null),noBorder:!0}),r&&t.createElement(ms.u,{description:i({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},t.createElement(Ca.h,{onClick:b,"aria-label":i({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:t.createElement(gs.Z,null),noBorder:!0})))),t.createElement(fs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},g.length>0?g.map(A=>t.createElement(Ra,{key:A,iconKey:A,name:n,onChange:o,isSelected:A===r,ariaLabel:i({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:A})})):t.createElement(_.x,{padding:4,grow:2},t.createElement(j.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Nn.defaultProps={value:""},Nn.propTypes={intlLabel:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var ys=Nn,Es=s(24443),_n=s.n(Es),Oa=s(43658);const Wn=({description:e,error:n,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),m=(0,t.useRef)(d),f=r?.displayName||"";(0,t.useEffect)(()=>{if(f){const C=(0,Oa.Z)(f);try{const M=_n()(C,2);m.current({target:{name:i,value:M}})}catch{m.current({target:{name:i,value:C}})}}else m.current({target:{name:i,value:""}})},[f,i]);const g=n?u({id:n,defaultMessage:n}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",D=u(o);return t.createElement(yt.o,{error:g,label:D,id:i,hint:p,name:i,onChange:d,value:l||""})};Wn.defaultProps={description:null,error:null,value:null},Wn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var hs=Wn,Kn=s(11165),jt=s(98202),V=s(52486);const $n=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,pe.Z)(),i=(0,Ce.I0)(),d=r.filter(Lt),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[n]??{},m=({uid:f,plugin:g,title:p,restrictRelationsTo:D})=>()=>{const C=g?`${g}_${p}`:p;i({type:V.aG,target:{value:f,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:C,targetContentTypeAllowedRelations:D}})};return t.createElement(jt.fC,null,t.createElement(vs,null,`${u} ${l?`(from: ${l})`:""}`),t.createElement(jt.VY,{zIndex:5},d.map(({uid:f,title:g,restrictRelationsTo:p,plugin:D})=>t.createElement(jt.ck,{key:f,onSelect:m({uid:f,plugin:D,title:g,restrictRelationsTo:p})},g,"\xA0",D&&t.createElement(t.Fragment,null,"(from: ",D,")")))))};$n.defaultProps={target:null},$n.propTypes={oneThatIsCreatingARelationWithAnother:a().string.isRequired,target:a().string};const vs=(0,ge.ZP)(jt.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`;var Ms=$n;const jn=({disabled:e,error:n,header:o,isMain:r,name:i,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:m})=>t.createElement(_.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(U.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?t.createElement(j.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(Ms,{target:u,oneThatIsCreatingARelationWithAnother:l})),t.createElement(rt.i,{background:"neutral200"}),t.createElement(_.x,{padding:4},t.createElement(v.jm,{disabled:e,error:n?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:d,type:"text",value:m})));jn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},jn.propTypes={disabled:a().bool,error:a().object,header:a().string,isMain:a().bool,name:a().string.isRequired,onChange:a().func,oneThatIsCreatingARelationWithAnother:a().string,target:a().string,value:a().string};var Pa=jn,bs=s(41186),Ts=s(46528),Cs=s(15558),Zs=s(91528),Rs=s(46051),Os=s(9137),Ps=s(51382),Aa=s.n(Ps);const As=(0,ge.ZP)(_.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ds=(0,ge.ZP)(_.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ls=(0,ge.ZP)(U.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Is={oneWay:bs.Z,oneToOne:Ts.Z,oneToMany:Cs.Z,manyToOne:Zs.Z,manyToMany:Rs.Z,manyWay:Os.Z},zn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:o,target:r})=>{const i=(0,Ce.I0)(),{formatMessage:d}=(0,N.Z)(),{contentTypes:l,modifiedData:u}=(0,pe.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],f=["oneWay","manyWay"],p=(e==="contentType"?T()(u,[e,"schema","kind"],""):e)==="collectionType"?m:f,D=o==="manyToOne",C=T()(l,[r,"schema","displayName"],"unknown"),M=D?C:n,O=D?n:C,I=_n()(M,o==="manyToMany"?2:1),b=T()(l,[r,"schema","restrictRelationsTo"],null),A=_n()(O,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(U.k,{style:{flex:1}},t.createElement(As,null,t.createElement(U.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(ct.k,{tagName:"button"},t.createElement(U.k,{gap:3},p.map(L=>{const x=Is[L],z=b===null||b.includes(L);return t.createElement(Ds,{as:"button",isSelected:o===L,disabled:!z,key:L,onClick:()=>{z&&i({type:V.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:r,value:L}})},padding:2,type:"button"},t.createElement(x,{key:L}))}))))),t.createElement(Ls,{justifyContent:"center"},t.createElement(j.Z,null,Aa()(I,{length:24}),"\xA0"),t.createElement(j.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),t.createElement(j.Z,null,Aa()(A,{length:24})))):null};zn.defaultProps={relationType:null,target:null},zn.propTypes={naturePickerType:a().string.isRequired,oneThatIsCreatingARelationWithAnother:a().string.isRequired,relationType:a().string,target:a().string};var xs=zn;const Da=({formErrors:e,mainBoxHeader:n,modifiedData:o,naturePickerType:r,onChange:i})=>{const d=(0,Kn.Z)(o.relation,o.targetAttribute);return t.createElement(U.k,{style:{position:"relative"}},t.createElement(Pa,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),t.createElement(xs,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:n,relationType:d,target:o.target}),t.createElement(Pa,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:n,target:o.target,value:o?.targetAttribute||""}))};Da.propTypes={formErrors:a().object.isRequired,mainBoxHeader:a().string.isRequired,modifiedData:a().object.isRequired,naturePickerType:a().string.isRequired,onChange:a().func.isRequired};var Ss=Da,Bs=s(70843),Us=s(8241);const kn=({error:e,intlLabel:n,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),{allComponentsCategories:l}=(0,pe.Z)(),[u,m]=(0,t.useState)(l),f=e?d({id:e,defaultMessage:e}):"",g=d(n),p=C=>{r({target:{name:o,value:C,type:"select-category"}})},D=C=>{m(M=>[...M,C]),p(C)};return t.createElement(Bs.XU,{error:f,id:o,label:g,name:o,onChange:p,onCreateOption:D,value:i},u.map(C=>t.createElement(Us.O,{key:C,value:C},C)))};kn.defaultProps={error:null,value:null},kn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var Fs=kn;const qn=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:d,name:l,onChange:u,targetUid:m,forTarget:f,value:g})=>{const{formatMessage:p}=(0,N.Z)(),D=e?p({id:e,defaultMessage:e}):"",C=p(n),{componentsGroupedByCategory:M,componentsThatHaveOtherComponentInTheirAttributes:O}=(0,pe.Z)(),I=["component","components"].includes(f);let b=Object.entries(M).reduce((A,L)=>{const[x,z]=L,ne=z.map(de=>({uid:de.uid,label:de.schema.displayName,categoryName:x}));return[...A,...ne]},[]);return o&&(b=b.filter(A=>!O.includes(A.uid))),I&&(b=b.filter(A=>A.uid!==m)),i&&(b=[{uid:g,label:d.displayName,categoryName:d.category}]),t.createElement(Ve.P,{disabled:i||!r,error:D,label:C,id:l,name:l,onChange:A=>{u({target:{name:l,value:A,type:"select-category"}})},value:g||""},b.map(A=>t.createElement(Ge.W,{key:A.uid,value:A.uid},`${A.categoryName} - ${A.label}`)))};qn.defaultProps={componentToCreate:null,error:null},qn.propTypes={componentToCreate:a().object,forTarget:a().string.isRequired,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,isAddingAComponentToAnotherComponent:a().bool.isRequired,isCreating:a().bool.isRequired,isCreatingComponentWhileAddingAField:a().bool.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,targetUid:a().string.isRequired,value:a().string.isRequired};var Ns=qn;const La=({dynamicZoneTarget:e,intlLabel:n,name:o,onChange:r,value:i})=>{const{formatMessage:d}=(0,N.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,pe.Z)(),f=(lt(u.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(l).reduce((C,M)=>{const O=l[M].filter(({uid:I})=>!f.includes(I));return O.length>0&&(C[M]=O),C},{}),p=Object.entries(g).reduce((C,M)=>{const[O,I]=M,b={label:O,children:I.map(({uid:A,schema:{displayName:L}})=>({label:L,value:A}))};return C.push(b),C},[]),D=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return t.createElement(It.Q,{id:"select1",label:d(n),customizeContent:()=>D,name:o,onChange:C=>{r({target:{name:o,value:C,type:"select-components"}})},options:p,value:i||[]})};La.propTypes={intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,dynamicZoneTarget:a().string.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().array.isRequired};var _s=La;const Vn=({intlLabel:e,error:n,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),m=u(e),f=n?u({id:n,defaultMessage:n}):"",g=p=>{i({target:{name:r,value:p,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return t.createElement(Ve.P,{error:f,label:m,id:r,name:r,onChange:g,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:D,hidden:C},key:M,value:O})=>t.createElement(Ge.W,{key:M,value:O,disabled:D,hidden:C},u({id:p.id,defaultMessage:p.defaultMessage},p.values))))};Vn.defaultProps={error:void 0,value:""},Vn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};var Ws=Vn;const Gn=({intlLabel:e,error:n,modifiedData:o,name:r,onChange:i,options:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),m=u(e),f=n?u({id:n,defaultMessage:n}):"",g=p=>{i({target:{name:r,value:p,type:"select"}}),l&&(p==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return t.createElement(Ve.P,{error:f,label:m,id:r,name:r,onChange:g,value:l||""},d.map(({metadatas:{intlLabel:p,disabled:D,hidden:C},key:M,value:O})=>t.createElement(Ge.W,{key:M,value:O,disabled:D,hidden:C},u(p))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,options:a().arrayOf(a().shape({metadatas:a().shape({intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,disabled:a().bool,hidden:a().bool}).isRequired,key:a().oneOfType([a().string,a().number]).isRequired,value:a().oneOfType([a().string,a().number]).isRequired}).isRequired).isRequired,value:a().string};var Ks=Gn;const Hn=({description:e,error:n,intlLabel:o,modifiedData:r,name:i,onChange:d,value:l})=>{const{formatMessage:u}=(0,N.Z)(),m=(0,t.useRef)(d),f=r?.displayName||"";(0,t.useEffect)(()=>{f?m.current({target:{name:i,value:(0,Oa.Z)(f)}}):m.current({target:{name:i,value:""}})},[f,i]);const g=n?u({id:n,defaultMessage:n}):"",p=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",D=u(o);return t.createElement(yt.o,{error:g,label:D,id:i,hint:p,name:i,onChange:d,value:l||""})};Hn.defaultProps={description:null,error:null,value:null},Hn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,modifiedData:a().object.isRequired,name:a().string.isRequired,onChange:a().func.isRequired,value:a().string};var $s=Hn;const Ia=({form:e,formErrors:n,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:d}=(0,N.Z)();return e.map((l,u)=>l.items.length===0?null:t.createElement(_.x,{key:u},l.sectionTitle&&t.createElement(_.x,{paddingBottom:4},t.createElement(j.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),t.createElement(ut.r,{gap:4},l.items.map((m,f)=>{const g=`${u}.${f}`,p=T()(r,m.name,""),D=Object.keys(n).find(M=>M===m.name),C=D?n[D].id:T()(n,[...m.name.split(".").filter(M=>M!=="componentToCreate"),"id"],null);return m.type==="pushRight"?t.createElement(ke.P,{col:m.size||6,key:m.name||g},t.createElement("div",null)):t.createElement(ke.P,{col:m.size||6,key:m.name||g},t.createElement(v.jm,{...m,...o,error:C,onChange:i,value:p}))}))))};Ia.propTypes={form:a().arrayOf(a().object).isRequired,formErrors:a().object.isRequired,genericInputProps:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired};var xa=Ia,js=s(15367);const Yn=({description:e,disabled:n,error:o,intlLabel:r,labelAction:i,name:d,onChange:l,placeholder:u,value:m})=>{const{formatMessage:f}=(0,N.Z)(),g=o?f({id:o,defaultMessage:o}):"",p=e?f({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",D=f(r),C=u?f({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",M=Array.isArray(m)?m.join(`
`):"",O=I=>{const b=I.target.value.split(`
`);l({target:{name:d,value:b}})};return t.createElement(js.g,{disabled:n,error:g,label:D,labelAction:i,id:d,hint:p,name:d,onChange:O,placeholder:C,value:M},M)};Yn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Yn.propTypes={description:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),disabled:a().bool,error:a().string,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}).isRequired,labelAction:a().element,name:a().string.isRequired,onChange:a().func.isRequired,placeholder:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired,values:a().object}),value:a().oneOfType([a().array,a().string])};var zs=Yn;const be={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var ks={sections:[{sectionTitle:null,items:[be]}]},Qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},h=s(24346),Sa=/^[A-Za-z][-_0-9A-Za-z]*$/,qs=e=>{const n={name:h.Z_().matches(Sa,v.I0.regex).test({name:"nameNotAllowed",message:v.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(v.I0.required)};return h.Ry(n)},Vs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},He=s(72666),Gs=(e,n,o)=>{const r={displayName:h.Z_().test({name:"nameAlreadyUsed",message:v.I0.unique,test(i){if(!i)return!1;const d=(0,He.N)(i,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(i){return i?!n.includes(i?.trim()?.toLowerCase()):!1}}).required(v.I0.required),category:h.Z_().matches(Sa,v.I0.regex).required(v.I0.required),icon:h.Z_()};return h.Ry(r)},Ye={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},R={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Hs={blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},component({repeatable:e},n){return n==="1"?{sections:Ye.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private,R.max,R.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...R.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.max,R.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...R.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.maxLength,R.minLength,R.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,o)=>e.enum.indexOf(n)===o&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.max,R.min,R.private]}]}},password(){return{sections:[{sectionTitle:null,items:[R.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[R.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}},text(){return{sections:[{sectionTitle:null,items:[R.default,R.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.unique,R.maxLength,R.minLength,R.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...R.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[R.required,R.maxLength,R.minLength,R.private]}]}}},Ys={component(e,n){if(n==="1"){const o=e.createComponent===!0?Ye.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Qn]},...o]}}return{sections:[{sectionTitle:null,items:[be,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[be,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[be,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[be]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...be,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}},Ba={advanced:Hs,base:Ys},Qs=s(91815),Xs=s.n(Qs),Js=s(40791),ws=s.n(Js),Xn=e=>ws()(e,{decamelize:!1,lowercase:!1,separator:"_"}),eo=s(78746),Jn=s.n(eo);const Ua=/^[A-Za-z][_0-9A-Za-z]*$/,Fa=e=>({name:"attributeNameAlreadyUsed",message:v.I0.unique,test(n){return n?!e.includes(n):!1}}),yi=(e,n,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>n?i!==o:!0)},wn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),E={default:()=>h.Z_().nullable(),max:()=>h.Rx().integer().nullable(),min:()=>h.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,c.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>h.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>h.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,c.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return h.Z_().test(Fa(e)).test(wn(n)).matches(Ua,v.I0.regex).required(v.I0.required)},required:()=>h.O7(),type:()=>h.Z_().required(v.I0.required),unique:()=>h.O7().nullable()},ea=(e,n)=>({name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:h.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),ta={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN(Jn()(e))?!0:Jn()(n)>=Jn()(e)}};var na={date(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},datetime(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},time(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},default(e,n){const o={name:E.name(e,n),type:E.type()};return h.Ry(o)},biginteger(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:h.Z_().nullable().matches(/^-?\d*$/,v.I0.regex),min:h.Z_().nullable().test(ta).matches(/^-?\d*$/,v.I0.regex)};return h.Ry(o)},boolean(e,n){const o={name:E.name(e,n),default:h.O7().nullable(),required:E.required(),unique:E.unique()};return h.Ry(o)},component(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:h.Z_().required(v.I0.required)};return h.Ry(o)},decimal(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Rx(),required:E.required(),max:h.Rx(),min:h.Rx().test(ta)};return h.Ry(o)},dynamiczone(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return h.Ry(o)},email(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},enumeration(e,n){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:h.Z_().test(Fa(e)).test(wn(n)).matches(o,v.I0.regex).required(v.I0.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:h.IX().of(h.Z_()).min(1,v.I0.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(i){return!Xs()(i.map(Xn).filter((l,u,m)=>m.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:i=>!i.map(Xn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:i=>i.map(Xn).every(d=>o.test(d))}),enumName:h.Z_().nullable()};return h.Ry(r)},float(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),default:h.Rx(),max:h.Rx(),min:h.Rx().test(ta)};return h.Ry(o)},integer(e,n){const o={name:E.name(e,n),type:E.type(),default:h.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return h.Ry(o)},json(e,n){const o={name:E.name(e,n),type:E.type(),required:E.required(),unique:E.unique()};return h.Ry(o)},media(e,n){const o={name:E.name(e,n),type:E.type(),multiple:h.O7(),required:E.required(),allowedTypes:h.IX().of(h.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return h.Ry(o)},password(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},relation(e,n,o,{initialData:r,modifiedData:i}){const d={name:E.name(e,n),target:h.Z_().required(v.I0.required),relation:h.Z_().required(),type:h.Z_().required(),targetAttribute:h.Vo(()=>{const l=(0,Kn.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return h.Z_().nullable();let u=h.Z_().test(wn(n)),f=[...o.map(({name:g})=>g),i.name].filter(g=>g!==r.targetAttribute);return u.matches(Ua,v.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!f.includes(g):!1}}).required(v.I0.required)})};return h.Ry(d)},richtext(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},blocks(e,n){const o={name:E.name(e,n),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return h.Ry(o)},string(e,n){const o=ea(e,n);return h.Ry(o)},text(e,n){const o=ea(e,n);return h.Ry(o)},uid(e,n){const o=ea(e,n);return h.Ry(o)}},to=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const d={displayName:h.Z_().test({name:"nameAlreadyUsed",message:v.I0.unique,test(l){if(!l)return!1;const u=(0,He.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),pluralName:h.Z_().test({name:"pluralNameAlreadyUsed",message:v.I0.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),singularName:h.Z_().test({name:"singularNameAlreadyUsed",message:v.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes(l?.trim()?.toLowerCase()):!1}}).required(v.I0.required),draftAndPublish:h.O7(),kind:h.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:h.O7()};return h.Ry(d)};const Na={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}};var aa={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Na,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Na,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},sa={advanced:{default(){return{sections:Ye.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Qn]},...Ye.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},_a=(e,n)=>{e.forEach(o=>{if(!("sectionTitle"in o)){n[0].items.push(o);return}n.push(o)})},Wa=(e,n)=>e.filter(({name:o})=>o!==n.initialData.name).map(({name:o})=>o),Ie={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:d}){const l=Wa(e,i),u=na[n](l,r.attributes);return d.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[be]}];return e.options?.base&&_a(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:o,extensions:r,...i}){const d=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:o,...i});if(e.options?.advanced&&_a(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,n,o,r,i,d){const l=e?.schema?.attributes??[],u=Wa(l,i);try{let m=na[n](u,o.attributes,r,i);return d.makeValidator(["attribute",n],m,u,o.attributes,r,i)}catch(m){return console.error("Error yup build schema",m),na.default(u,o.attributes)}},form:{advanced({data:e,type:n,step:o,extensions:r,...i}){try{const d=Ba.advanced[n](e,o).sections,l=r.getAdvancedForm(["attribute",n],{data:e,type:n,step:o,...i});return{sections:d.reduce((m,f)=>(f.sectionTitle===null?m.push(f):m.push({...f,items:[...f.items,...l]}),m),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:n,step:o,attributes:r}){try{return Ba.base[n](e,o,r)}catch{return ks}}}},contentType:{schema(e,n,o,r,i,d){const l=Object.values(d).map(M=>M.schema.singularName),u=Object.values(d).map(M=>M?.schema?.pluralName??""),m=n?e.filter(M=>M!==o):e,f=n?l.filter(M=>{const{schema:O}=d[o];return O.singularName!==M}):l,g=n?u.filter(M=>{const{schema:O}=d[o];return O.pluralName!==M}):u,p=Object.values(d).map(M=>M?.schema?.collectionName??""),D=n?p.filter(M=>{const{schema:O}=d[o],I=O.pluralName,b=O.collectionName;return M!==I||M!==b}):p,C=to({usedContentTypeNames:m,reservedModels:r.models,singularNames:f,pluralNames:g,collectionNames:D});return i.makeValidator(["contentType"],C,m,r.models,f,g)},form:{base({actionType:e}){return e==="create"?aa.base.create():aa.base.edit()},advanced({extensions:e}){const n=aa.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...o]}]}}}},component:{schema(e,n,o,r=!1,i=null){const d=r?e.filter(l=>l!==i):e;return Gs(d,o.models,n)},form:{advanced(){return{sections:Ye.advanced()}},base(){return{sections:Ye.base()}}}},addComponentToDynamicZone:{form:{advanced(){return sa.advanced.default()},base({data:e}){return e?.createComponent??!1?sa.base.createComponent():sa.base.default()}}},editCategory:{schema(e,n){const o=e.filter(r=>r!==n.name).map(r=>r.toLowerCase());return qs(o)},form:{advanced:()=>({sections:[]}),base(){return Vs.base}}}},Ka=s(98178),no=s(61738);const ao=()=>e=>e[`${$.Z}_formModal`]||no.E;var so=()=>(0,Ka.P1)(ao(),e=>e),oo=(e,n)=>{const o=T()(e,["contentType","schema","kind"],"");return o==="singleType"||o===n.kind?!0:T()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const m=(0,Kn.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},io=(e="",n,o)=>{const r=["text","email","richtext","password","blocks","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",d=o.includes(n),l=!i&&!d;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},$a=e=>e.reduce((n,o)=>{const r=o.items.reduce((i,d)=>(d.name&&i.push(d.name),i),[]);return[...n,...r]},[]);const ja=(0,ge.ZP)(wt.b)`
  button {
    display: none;
  }
`;var ro=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:d,attributeType:l,customFieldUid:u,categoryName:m,dynamicZoneTarget:f,forTarget:g,modalType:p,isOpen:D,showBackLink:C,kind:M,step:O,targetUid:I}=(0,ve.Z)(),b=(0,v.mZ)().get(u),A=(0,t.useRef)(),L=(0,t.useMemo)(so,[]),x=(0,Ce.I0)(),z=(0,v.lm)(),ne=(0,Ce.v9)(F=>L(F),Ce.wU),{push:de}=(0,Q.k6)(),{trackUsage:S}=(0,v.rS)(),{formatMessage:ae}=(0,N.Z)(),{getPlugin:k}=(0,v.j1)(),H=k($.Z).apis.forms,G=H.components.inputs,{addAttribute:Ze,addCustomFieldAttribute:se,addCreatedComponentToDynamicZone:K,allComponentsCategories:Z,changeDynamicZoneComponents:ia,contentTypes:Qe,components:Ct,createSchema:Xe,deleteCategory:ra,deleteData:kt,editCategory:la,editCustomFieldAttribute:da,submitData:ca,modifiedData:oe,nestedComponents:ua,setModifiedData:ma,sortedContentTypesList:pa,updateSchema:qt,reservedNames:xe}=(0,pe.Z)(),{componentToCreate:Zt,formErrors:Re,initialData:X,isCreatingComponentWhileAddingAField:Rt,modifiedData:y}=ne,P=g==="contentType"||g==="component"?[g]:[g,I];(0,t.useEffect)(()=>{if(D){const F=pa.filter(Lt);p==="editCategory"&&ma(),i==="edit"&&p==="attribute"&&g==="contentType"&&S("willEditFieldOfContentType");const me=[...P,"schema","attributes"],ye=lt(T()(oe,me,[]),f)||null;if(p==="editCategory"&&i==="edit"&&x({type:V._H,modalType:p,actionType:i,data:{name:m}}),p==="contentType"&&i==="create"&&x({type:V._H,modalType:p,actionType:i,data:{draftAndPublish:!0},pluginOptions:{}}),p==="contentType"&&i==="edit"){const{displayName:W,draftAndPublish:J,kind:Ee,pluginOptions:re,pluralName:ti,reviewWorkflows:ni,singularName:ai}=T()(oe,[...P,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});x({type:V._H,actionType:i,modalType:p,data:{displayName:W,draftAndPublish:J,kind:Ee,pluginOptions:re,pluralName:ti,reviewWorkflows:ni??!1,singularName:ai}})}if(p==="component"&&i==="edit"){const W=T()(oe,P,{});x({type:V._H,actionType:i,modalType:p,data:{displayName:W.schema.displayName,category:W.category,icon:W.schema.icon}})}if(p==="addComponentToDynamicZone"&&i==="edit"){const W={...ye,components:[],name:f,createComponent:!1,componentToCreate:{type:"component"}};x({type:V.VZ,attributeToEdit:W})}if(l){const J={...lt(T()(oe,me,[]),d),name:d};l==="component"&&i==="edit"&&(J.repeatable||Ot()(J,"repeatable",!1)),x(p==="customField"?{type:V.OY,customField:b,isEditing:i==="edit",modifiedDataToSetForEditing:J,forTarget:g}:{type:V.S0,attributeType:l,nameToSetForRelation:T()(F,["0","title"],"error"),targetUid:T()(F,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:J,step:O,forTarget:g})}}else x({type:V.c2})},[i,d,l,m,f,g,D,p]);const B=p==="contentType",Y=p==="component",ie=p==="attribute",ue=p==="customField",Oe=l==="component"&&ie,Ne=i==="create",Se=T()(y,"createComponent",!1)||Rt,Je=O==="1",es=p==="editCategory",ts=p==="chooseAttribute",ga=(0,He.E)(y.displayName||""),fa=T()(oe,[...P,"schema","attributes"],null),$o=async()=>{let F;const me=Se&&O==="1"?T()(y,"componentToCreate",{}):y;if(B)F=Ie.contentType.schema(Object.keys(Qe),i==="edit",T()(oe,[...P,"uid"],null),xe,H,Qe);else if(Y)F=Ie.component.schema(Object.keys(Ct),y.category||"",xe,i==="edit",T()(oe,[...P,"uid"],null),H);else if(ue)F=Ie.customField.schema({schemaAttributes:T()(oe,[...P,"schema","attributes"],[]),attributeType:b.type,reservedNames:xe,schemaData:{modifiedData:y,initialData:X},ctbFormsAPI:H,customFieldValidator:b.options?.validator});else if(Oe&&Se&&Je)F=Ie.component.schema(Object.keys(Ct),T()(y,"componentToCreate.category",""),xe,H);else if(ie&&!Je){const ye=l==="relation"?"relation":y.type;let W=[];if(ye==="relation"){const J=T()(y,["target"],null);W=T()(Qe,[J,"schema","attributes"],[]).filter(({name:re})=>i!=="edit"?!0:re!==X.targetAttribute)}F=Ie.attribute.schema(T()(oe,P,{}),ye,xe,W,{modifiedData:y,initialData:X},H)}else if(es)F=Ie.editCategory.schema(Z,X,H);else if(Je&&Se)F=Ie.component.schema(Object.keys(Ct),T()(y,"componentToCreate.category",""),xe,H);else return;await F.validate(me,{abortEarly:!1})},ns=(0,t.useCallback)(({target:{name:F,value:me,type:ye,...W}})=>{const J=["enumName","max","min","maxLength","minLength","regex","default"];let Ee;J.includes(F)&&me===""?Ee=null:Ee=me;const re=Object.assign({},Re);F==="max"&&delete re.min,F==="maxLength"&&delete re.minLength,delete re[F],x({type:V.Ey,errors:re}),x({type:V.P0,keys:F.split("."),value:Ee,...W})},[x,Re]),fe=async(F,me=Ne)=>{F.preventDefault();try{await $o(),ko(me);const ye=g==="components"?I:ga;if(B)if(Ne)Xe({...y,kind:M},p,ga),de({pathname:`/plugins/${$.Z}/content-types/${ga}`}),n({forTarget:g,targetUid:ye});else{oo(oe,y)?(e(),ca(y)):z({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(Ne){const W=(0,He.N)(y.displayName,y.category),{category:J,...Ee}=y;Xe(Ee,"component",W,J),de({pathname:`/plugins/${$.Z}/component-categories/${J}/${W}`}),n({forTarget:g,targetUid:W})}else{qt(y,p,I),e();return}else if(es){if(Dt()(X.name)===Dt()(y.name)){e();return}la(X.name,y);return}else if(ue){const W={attributeToSet:{...y,customField:u},forTarget:g,targetUid:I,initialAttribute:X};i==="edit"?da(W):se(W),me?n({forTarget:g,targetUid:ye}):e();return}else if(ie&&!Se){if(l==="dynamiczone"){Ze(y,g,I,i==="edit",X),Ne?(x({type:V.I}),A.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:y.name})):e();return}if(!Oe){Ze(y,g,I,i==="edit",X),me?n({forTarget:g,targetUid:ye}):e();return}if(Je){r(),x({type:V.yC,forTarget:g});return}Ze(y,g,I,i==="edit",X,!0),me?n({forTarget:g,targetUid:I}):e()}else if(ie&&Se){if(Je){S("willCreateComponentFromAttributesModal"),x({type:V.oF,forTarget:g}),r();return}const{category:W,type:J,...Ee}=Zt,re=(0,He.N)(Zt.displayName,W);Xe(Ee,J,re,W,Se),Ze(y,g,I,!1),x({type:V.c2}),me?n({forTarget:"components",targetUid:re}):e();return}else{if(Je)if(Se){const{category:W,type:J,...Ee}=y.componentToCreate,re=(0,He.N)(y.componentToCreate.displayName,W);Xe(Ee,J,re,W,Se),K(f,[re]),n({forTarget:"components",targetUid:re})}else ia(f,y.components),e();else console.error("This case is not handled");return}x({type:V.c2})}catch(ye){const W=(0,v.CJ)(ye);console.log({err:ye,errors:W}),x({type:V.Ey,errors:W})}},jo=()=>{window.confirm(ae({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),x({type:V.c2}))},as=()=>{Pe()(y,X)?(e(),x({type:V.c2})):jo()},zo=F=>{if(F==="advanced"){if(B){S("didSelectContentTypeSettings");return}g==="contentType"&&S("didSelectContentTypeFieldSettings")}},ko=F=>{p==="attribute"&&g==="contentType"&&l!=="dynamiczone"&&F&&S("willAddMoreFieldToContentType")},qo=()=>!!(p==="editCategory"||p==="component"||an()(y,"createComponent")),Vo=io(g,I,ua);if(!D||!p)return null;const ss=T()(Ie,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Go=g==="components"||g==="component",os={customInputs:{"allowed-types-select":rn,"boolean-radio-group":Zn,"checkbox-with-number-field":On,"icon-picker":ys,"content-type-radio-group":Pn,"radio-group":ft,relation:Ss,"select-category":Fs,"select-component":Ns,"select-components":_s,"select-default-boolean":Tn,"select-number":Ks,"select-date":Ws,"toggle-draft-publish":An,"text-plural":hs,"text-singular":$s,"textarea-enum":zs,...G},componentToCreate:Zt,dynamicZoneTarget:f,formErrors:Re,isAddingAComponentToAnotherComponent:Go,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:T()(oe,[...P,"schema","displayName"],""),modifiedData:y,naturePickerType:g,isCreating:Ne,targetUid:I,forTarget:g},is=ss.advanced({data:y,type:l,step:O,actionType:i,attributes:fa,extensions:H,forTarget:g,contentTypeSchema:oe.contentType||{},customField:b}).sections,rs=ss.base({data:y,type:l,step:O,actionType:i,attributes:fa,extensions:H,forTarget:g,contentTypeSchema:oe.contentType||{},customField:b}).sections,Ho=$a(rs),Yo=$a(is),Qo=Object.keys(Re).some(F=>Ho.includes(F)),Xo=Object.keys(Re).some(F=>Yo.includes(F)),Jo=T()(Qe,[I,"schema","kind"]),wo=()=>i==="edit"&&fa.every(({name:F})=>F!==y?.name),ei=()=>{wo()&&S("didEditFieldNameOnContentType")};return t.createElement(en.P,{onClose:as,labelledBy:"title"},t.createElement(Sn,{actionType:i,attributeName:d,categoryName:m,contentTypeKind:M,dynamicZoneTarget:f,modalType:p,forTarget:g,targetUid:I,attributeType:l,customFieldUid:u,showBackLink:C}),ts&&t.createElement(bn,{attributes:Vo,forTarget:g,kind:Jo||"collectionType"}),!ts&&t.createElement("form",{onSubmit:fe},t.createElement(Pt.f,null,t.createElement(At.v,{label:"todo",id:"tabs",variant:"simple",ref:A,onTabChange:F=>{F===1&&zo("advanced")}},t.createElement(U.k,{justifyContent:"space-between"},t.createElement(Un,{actionType:i,forTarget:g,kind:M,step:O,modalType:p,attributeType:l,attributeName:d,customField:b}),t.createElement(De.m,null,t.createElement(De.O,{hasError:Qo},ae({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(De.O,{hasError:Xo,disabled:qo()},ae({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(rt.i,null),t.createElement(_.x,{paddingTop:6},t.createElement(Le.n,null,t.createElement(Le.x,null,t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&t.createElement(ja,{variant:"warning"},ae({id:(0,c.Z)("form.feature.alpha"),defaultMessage:"This feature is in Alpha."})),t.createElement(xa,{form:rs,formErrors:Re,genericInputProps:os,modifiedData:y,onChange:ns}))),t.createElement(Le.x,null,t.createElement(U.k,{direction:"column",alignItems:"stretch",gap:6},l==="blocks"&&t.createElement(ja,{variant:"warning"},ae({id:(0,c.Z)("form.feature.alpha"),defaultMessage:"This feature is in Alpha."})),t.createElement(xa,{form:is,formErrors:Re,genericInputProps:os,modifiedData:y,onChange:ns}))))))),t.createElement(tn.m,{endActions:t.createElement(Dn,{deleteCategory:ra,deleteContentType:kt,deleteComponent:kt,categoryName:X.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:y.createComponent||!1,isCreatingComponentInDz:y.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:O==="1",onSubmitAddComponentAttribute:fe,onSubmitAddComponentToDz:fe,onSubmitCreateComponent:fe,onSubmitCreateContentType:fe,onSubmitCreateDz:fe,onSubmitEditAttribute:fe,onSubmitEditCategory:fe,onSubmitEditComponent:fe,onSubmitEditContentType:fe,onSubmitEditCustomFieldAttribute:fe,onSubmitEditDz:fe,onClickFinish:ei}),startActions:t.createElement(q.z,{variant:"tertiary",onClick:as},ae({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},te=s(98954),lo=s(41486);const co=()=>e=>e[`${$.Z}_dataManagerProvider`]||lo.E;var uo=()=>(0,Ka.P1)(co(),e=>e),mo=s(39935),po=s.n(mo),go=s(9086),za=s.n(go),fo=s(98978),yo=s.n(fo);const Eo=(e,n)=>{const o=Object.keys(e).filter(r=>{const i=T()(e,r,{}),d=T()(n,r,{}),l=T()(i,["isTemporary"],!1),u=!Pe()(i,d);return l||u});return(0,Ae.Z)(o)},ho=(e,n)=>{const o=qa(T()(e,"schema.attributes",[]),n),r=T()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},za()(e.schema,"attributes"),{attributes:o})},ka=(e,n=!1)=>{const o=T()(e,"uid",null),r=qa(T()(e,"schema.attributes",[]),o),i=n?{category:T()(e,"category","")}:{},d=Object.assign(i,za()(e.schema,"attributes"),{attributes:r});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},qa=(e,n)=>e.reduce((o,{name:r,...i})=>{const d=i,l=d.target===n,u=d.type==="relation",m=T()(d,"targetAttribute",null);if(!l)if(u){const f=Object.assign({},d,{targetAttribute:Va(m)});o[r]=zt(f)}else o[r]=zt(d);if(l){const f=d.target,g=Object.assign({},d,{target:f,targetAttribute:Va(m)});o[r]=zt(g)}if(d.customField){const f={...d,type:"customField"};o[r]=zt(f)}return o},{}),Va=e=>e==="-"?null:e,zt=e=>Object.keys(e).reduce((n,o)=>(e[o]!==null&&o!=="plugin"&&(n[o]=e[o]),n),{}),vo=(e,n,o,r=!1)=>Eo(e,n).map(l=>{const u=T()(e,l,{});return ho(u,o,r)}),Mo=e=>yo()(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${$.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>po()(n.title));var Ga=e=>e.reduce((n,o)=>(n[o.uid]=o,n),{}),bo=(e,n,o,r)=>{const i=n.reduce((u,m)=>{const f=T()(o,m,{});return u[m]=f,u},{});return{[r?"contentType":"component"]:e,components:i}};const To=e=>Object.keys(e).reduce((n,o)=>{const r=e[o].schema;return n[o]={...e[o],schema:{...r,attributes:Co(r.attributes)}},n},{}),Co=e=>Object.keys(e).reduce((n,o)=>(n.push({...e[o],name:o}),n),[]);var Ha=To,Zo=s(61730);const Ro=e=>{const n=Object.keys(e).reduce((o,r)=>{const i=T()(e,[r],{}),d=i.uid;return Oo(i)&&o.push(d),o},[]);return(0,Ae.Z)(n)},Oo=e=>T()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"}),Po=e=>{const n=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],d=Ao(i);return[...o,...d]},[]);return(0,Ae.Z)(n)},Ao=e=>e.reduce((n,o)=>{const{type:r,component:i}=o;return r==="component"&&n.push(i),n},[]);var Ya=Po,Do=(e,n)=>{const o=Object.keys(e).map(r=>T()(e,[r,...n],""));return(0,Ae.Z)(o)};const Qa="did-not-kill-server",Lo="server is down";function Tt(e,n){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(Lo);if(!n)throw new Error(Qa);o(e)}).catch(r=>{setTimeout(()=>Tt(e,r.message!==Qa).then(o),100)})})}var Io=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);const oa=({children:e,components:n,contentTypes:o,isLoading:r,isLoadingForDataToBeSet:i,initialData:d,modifiedData:l,reservedNames:u})=>{const m=(0,Ce.I0)(),f=(0,v.lm)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:p}=(0,v.Vu)(),{setCurrentStep:D}=(0,v.c1)(),{getPlugin:C}=(0,v.j1)(),{apis:M}=C($.Z),{autoReload:O}=(0,v.L7)(),{formatMessage:I}=(0,N.Z)(),{trackUsage:b}=(0,v.rS)(),{refetchPermissions:A}=(0,v.vn)(),{pathname:L}=(0,Q.TH)(),{onCloseModal:x}=(0,ve.Z)(),z=(0,Q.$B)(`/plugins/${$.Z}/content-types/:uid`),ne=(0,Q.$B)(`/plugins/${$.Z}/component-categories/:categoryUid/:componentUid`),de=(0,v.kY)(),{put:S,post:ae,del:k}=de,ce=(0,t.useRef)();ce.current=I;const H=O,G=z!==null,Ze=G?"contentType":"component",se=G?T()(z,"params.uid",null):T()(ne,"params.componentUid",null),K=(0,t.useRef)(),Z=G?"content-types":"components";K.current=async()=>{try{const[{data:{data:y}},{data:{data:P}},{data:B}]=await Promise.all(["components","content-types","reserved-names"].map(Ne=>de.get(`/${$.Z}/${Ne}`))),Y=Ga(y),ie=Ha(Y),ue=Ga(P),Oe=Ha(ue);m({type:te.Id,components:ie,contentTypes:Oe,reservedNames:B})}catch(y){console.error({err:y}),f({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(K.current(),()=>{m({type:te.Zl})}),[]),(0,t.useEffect)(()=>{!r&&se&&qt()},[r,L,se]),(0,t.useEffect)(()=>{O||f({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[O,f]);const ia=(y,P,B,Y=!1,ie,ue=!1)=>{const Oe=Y?te.JO:te.gz;m({type:Oe,attributeToSet:y,forTarget:P,targetUid:B,initialAttribute:ie,shouldAddComponentToData:ue})},Qe=({attributeToSet:y,forTarget:P,targetUid:B,initialAttribute:Y})=>{m({type:te.Ir,attributeToSet:y,forTarget:P,targetUid:B,initialAttribute:Y})},Ct=({attributeToSet:y,forTarget:P,targetUid:B,initialAttribute:Y})=>{m({type:te.Ly,attributeToSet:y,forTarget:P,targetUid:B,initialAttribute:Y})},Xe=(y,P)=>{m({type:te.Uu,dynamicZoneTarget:y,componentsToAdd:P})},ra=(y,P,B,Y,ie=!1)=>{const ue=P==="contentType"?te.Sh:te.VR;m({type:ue,data:y,componentCategory:Y,schemaType:P,uid:B,shouldAddComponentToData:ie})},kt=(y,P)=>{m({type:te.o_,dynamicZoneTarget:y,newComponents:P})},la=(y,P,B="")=>{const Y=y==="components"?te.lw:te.ai;y==="contentType"&&b("willDeleteFieldOfContentType"),m({type:Y,mainDataKey:y,attributeToRemoveName:P,componentUid:B})},da=async y=>{try{const P=`/${$.Z}/component-categories/${y}`,B=window.confirm(I({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));x(),B&&(g(),await k(P),await Tt(!0),await p(),await X())}catch(P){console.error({err:P}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},ca=async()=>{try{const y=`/${$.Z}/${Z}/${se}`,P=T()(l,[Ze,"isTemporary"],!1),B=window.confirm(I({id:(0,c.Z)(`popUpWarning.bodyMessage.${G?"contentType":"component"}.delete`)}));if(x(),B){if(P){m({type:te.Ap});return}g(),await k(y),await Tt(!0),await p(),await X()}}catch(y){console.error({err:y}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},oe=async(y,P)=>{try{const B=`/${$.Z}/component-categories/${y}`;x(),g(),await S(B,P),await Tt(!0),await p(),await X()}catch(B){console.error({err:B}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},ua=()=>{const y=Object.assign({},n,l.components);if(!G){const B=T()(l,"component",{});Ot()(y,T()(B,["uid"],""),B)}const P=Ro(y);return(0,Ae.Z)(P)},ma=()=>{const y=Ya(n),P=Ya(l.components||{});return(0,Ae.Z)([...P,...y])},pa=(y,P)=>{m({type:te.NG,dzName:y,componentToRemoveIndex:P})},qt=()=>{const y=G?o:n,P=T()(y,se,{schema:{attributes:[]}}),B=(0,Zo.Z)(P.schema.attributes,n),Y=bo(P,B,n,G),ie=T()(P,"isTemporary",!1)&&Yt()(T()(P,"schema.attributes",[]))===0;m({type:te.xx,schemaToSet:Y,hasJustCreatedSchema:ie})},xe=(0,t.useMemo)(()=>{const y=G?o:n;return se==="create-content-type"?!1:!Object.keys(y).includes(se)&&!r},[n,o,se,G,r]),Zt=(0,t.useMemo)(()=>{const y=Object.keys(o).filter(P=>T()(o,[P,"schema","visible"],!0)).sort();return T()(y,"0","create-content-type")},[o]);if(xe)return t.createElement(Q.l_,{to:`/plugins/${$.Z}/content-types/${Zt}`});const Re=async y=>{try{const P=T()(l,[Ze,"isTemporary"],!1),B={components:vo(l.components,n,se,P)};if(G){const ue=M.forms.mutateContentTypeSchema({...ka(l.contentType),...y},d.contentType);if(!Io(ue)){f({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}B.contentType=ue,b("willSaveContentType")}else B.component=ka(l.component,!0),b("willSaveComponent");g();const Y=`/${$.Z}/${Z}`,ie=P?Y:`${Y}/${se}`;if(P?await ae(ie,B):await S(ie,B),await Tt(!0),await p(),P&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&D("contentTypeBuilder.success"),G){b("didSaveContentType");const ue=T()(B,["contentType","schema","name"],""),Oe=T()(d,["contentType","schema","name"],"");!P&&ue!==Oe&&b("didEditNameOfContentType")}else b("didSaveComponent");await X()}catch(P){G||b("didNotSaveComponent"),console.error({err:P.response}),f({type:"warning",message:{id:"notification.error"}})}finally{p()}},X=async()=>{await A()},Rt=(y,P,B)=>{m({type:te.bi,data:y,schemaType:P,uid:B})};return t.createElement(Jt.Z.Provider,{value:{addAttribute:ia,addCustomFieldAttribute:Qe,addCreatedComponentToDynamicZone:Xe,allComponentsCategories:Do(n,["category"]),changeDynamicZoneComponents:kt,components:n,componentsGroupedByCategory:Vt()(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:ua(),contentTypes:o,createSchema:ra,deleteCategory:da,deleteData:ca,editCategory:oe,editCustomFieldAttribute:Ct,isInDevelopmentMode:H,initialData:d,isInContentTypeView:G,modifiedData:l,nestedComponents:ma(),removeAttribute:la,removeComponentFromDynamicZone:pa,reservedNames:u,setModifiedData:qt,sortedContentTypesList:Mo(o),submitData:Re,updateSchema:Rt}},i?t.createElement(v.dO,null):t.createElement(t.Fragment,null,e,H&&t.createElement(ro,null)))};oa.defaultProps={components:{}},oa.propTypes={children:a().node.isRequired,components:a().object,contentTypes:a().object.isRequired,isLoading:a().bool.isRequired,isLoadingForDataToBeSet:a().bool.isRequired,initialData:a().object.isRequired,modifiedData:a().object.isRequired,reservedNames:a().object.isRequired};const xo=uo(),So=(0,Ce.$j)(xo,null);var Bo=(0,Xt.compose)(So)((0,t.memo)(oa)),Uo=s(89798);const Xa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ja=({children:e})=>{const[n,o]=(0,t.useState)(Xa),{trackUsage:r}=(0,v.rS)(),i=({attributeType:b,customFieldUid:A})=>{o(L=>({...L,actionType:"create",modalType:"customField",attributeType:b,customFieldUid:A}))},d=({attributeType:b,step:A})=>{n.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:b}),o(L=>({...L,actionType:"create",modalType:"attribute",step:A,attributeType:b,showBackLink:!0}))},l=({dynamicZoneTarget:b,targetUid:A})=>{o(L=>({...L,dynamicZoneTarget:b,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:b,targetUid:A})=>{o(L=>({...L,actionType:"create",forTarget:b,targetUid:A,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},m=b=>{o(A=>({...A,...b,isOpen:!0}))},f=b=>{o(A=>({...A,categoryName:b,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:b,targetUid:A,attributeName:L,attributeType:x,customFieldUid:z})=>{o(ne=>({...ne,modalType:"customField",customFieldUid:z,actionType:"edit",forTarget:b,targetUid:A,attributeName:L,attributeType:x,isOpen:!0}))},p=({forTarget:b,targetUid:A,attributeName:L,attributeType:x,step:z})=>{o(ne=>({...ne,modalType:"attribute",actionType:"edit",forTarget:b,targetUid:A,attributeName:L,attributeType:x,step:z,isOpen:!0}))},D=({modalType:b,forTarget:A,targetUid:L,kind:x})=>{o(z=>({...z,modalType:b,actionType:"edit",forTarget:A,targetUid:L,kind:x,isOpen:!0}))},C=()=>{o(Xa)},M=({forTarget:b,targetUid:A})=>{o(L=>({...L,forTarget:b,targetUid:A,modalType:"chooseAttribute"}))},O=()=>{o(b=>({...b,attributeType:"component",modalType:"attribute",step:"2"}))},I=({dynamicZoneTarget:b})=>{o(A=>({...A,dynamicZoneTarget:b,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(Uo.Z.Provider,{value:{...n,onClickSelectField:d,onClickSelectCustomField:i,onCloseModal:C,onNavigateToChooseAttributeModal:M,onNavigateToAddCompoToDZModal:I,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:O,onOpenModalAddField:u,onOpenModalCreateSchema:m,onOpenModalEditCategory:f,onOpenModalEditField:p,onOpenModalEditCustomField:g,onOpenModalEditSchema:D,setFormModalNavigationState:o}},e)};Ja.propTypes={children:a().node.isRequired};var Fo=Ja,No=s(63338);const _o=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,14417)));var Wo=()=>{const{url:e}=(0,Q.$B)(),{categoryUid:n}=(0,Q.UO)();return t.createElement(t.Suspense,{fallback:t.createElement(v.dO,null)},t.createElement(Q.rs,null,t.createElement(Q.AW,{path:`${e}/:componentUid`},t.createElement(_o,{categoryId:n}))))};const wa=(0,t.lazy)(()=>s.e(5905).then(s.bind(s,14417)));var Ko=()=>{const{formatMessage:e}=(0,N.Z)(),n=e({id:`${$.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,v.c1)(),r=(0,t.useRef)(o);return(0,t.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),t.createElement(v.O4,{permissions:No._.main},t.createElement(Te.q,{title:n}),t.createElement(Fo,null,t.createElement(Bo,null,t.createElement(ee.A,{sideNav:t.createElement(ot,null)},t.createElement(t.Suspense,{fallback:t.createElement(v.dO,null)},t.createElement(Q.rs,null,t.createElement(Q.AW,{path:`/plugins/${$.Z}/content-types/create-content-type`,component:wa}),t.createElement(Q.AW,{path:`/plugins/${$.Z}/content-types/:uid`,component:wa}),t.createElement(Q.AW,{path:`/plugins/${$.Z}/component-categories/:categoryUid`,component:Wo})))))))}},32105:function(Be,w,s){var t=s(53728);const ee=v=>`${t.Z}.${v}`;w.Z=ee}}]);
