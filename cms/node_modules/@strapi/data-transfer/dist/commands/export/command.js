"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const commander_1 = require("commander");
const data_transfer_1 = require("../data-transfer");
const commander_2 = require("../commander");
const action_1 = __importDefault(require("./action"));
/**
 * `$ strapi export`
 */
const command = ({ command }) => {
    command
        .command('export')
        .description('Export data from Strapi to file')
        .allowExcessArguments(false)
        .addOption(new commander_1.Option('--no-encrypt', `Disables 'aes-128-ecb' encryption of the output file`).default(true))
        .addOption(new commander_1.Option('--no-compress', 'Disables gzip compression of output file').default(true))
        .addOption(new commander_1.Option('-k, --key <string>', 'Provide encryption key in command instead of using the prompt'))
        .addOption(new commander_1.Option('-f, --file <file>', 'name to use for exported file (without extensions)'))
        .addOption(data_transfer_1.excludeOption)
        .addOption(data_transfer_1.onlyOption)
        .addOption(data_transfer_1.throttleOption)
        .hook('preAction', data_transfer_1.validateExcludeOnly)
        .hook('preAction', commander_2.promptEncryptionKey)
        .action(action_1.default);
};
exports.default = command;
//# sourceMappingURL=command.js.map