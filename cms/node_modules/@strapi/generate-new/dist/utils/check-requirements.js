"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const chalk_1 = __importDefault(require("chalk"));
const semver_1 = __importDefault(require("semver"));
const engines_1 = __importDefault(require("../resources/json/common/engines"));
function checkRequirements() {
    const currentNodeVersion = process.versions.node;
    // error if the node version isn't supported
    if (!semver_1.default.satisfies(currentNodeVersion, engines_1.default.node)) {
        console.error(chalk_1.default.red(`You are running ${chalk_1.default.bold(`Node.js ${currentNodeVersion}`)}`));
        console.error(`Strapi requires ${chalk_1.default.bold(chalk_1.default.green(`Node.js ${engines_1.default.node}`))}`);
        console.error('Please make sure to use the right version of Node.');
        process.exit(1);
    }
    // warn if not using a LTS version
    else if (semver_1.default.major(currentNodeVersion) % 2 !== 0) {
        console.warn(chalk_1.default.yellow(`You are running ${chalk_1.default.bold(`Node.js ${currentNodeVersion}`)}`));
        console.warn(`Strapi only supports ${chalk_1.default.bold(chalk_1.default.green('LTS versions of Node.js'))}, other versions may not be compatible.`);
    }
}
exports.default = checkRequirements;
//# sourceMappingURL=check-requirements.js.map