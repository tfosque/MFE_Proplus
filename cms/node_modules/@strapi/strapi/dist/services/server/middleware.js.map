{"version":3,"file":"middleware.js","sourceRoot":"","sources":["../../../src/services/server/middleware.ts"],"names":[],"mappings":"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"}