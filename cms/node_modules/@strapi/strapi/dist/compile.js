"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const typescript_utils_1 = __importDefault(require("@strapi/typescript-utils"));
async function compile(options) {
    const { appDir = process.cwd(), ignoreDiagnostics = false } = options ?? {};
    const isTSProject = await typescript_utils_1.default.isUsingTypeScript(appDir);
    const outDir = await typescript_utils_1.default.resolveOutDir(appDir);
    if (isTSProject) {
        await typescript_utils_1.default.compile(appDir, {
            configOptions: { options: { incremental: true }, ignoreDiagnostics },
        });
    }
    const distDir = isTSProject ? outDir : appDir;
    return { appDir, distDir };
}
exports.default = compile;
//# sourceMappingURL=compile.js.map