"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const lodash_1 = __importDefault(require("lodash"));
async function loadAdmin(strapi) {
    strapi.admin = require('@strapi/admin/strapi-server');
    strapi.container.get('services').add(`admin::`, strapi.admin?.services);
    strapi.container.get('controllers').add(`admin::`, strapi.admin?.controllers);
    strapi.container.get('content-types').add(`admin::`, strapi.admin?.contentTypes);
    strapi.container.get('policies').add(`admin::`, strapi.admin?.policies);
    strapi.container.get('middlewares').add(`admin::`, strapi.admin?.middlewares);
    const userAdminConfig = strapi.config.get('admin');
    strapi.container.get('config').set('admin', lodash_1.default.merge(strapi.admin?.config, userAdminConfig));
}
exports.default = loadAdmin;
//# sourceMappingURL=admin.js.map