"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateModule = void 0;
const utils_1 = require("@strapi/utils");
const strapiServerSchema = utils_1.yup
    .object()
    .shape({
    bootstrap: utils_1.yup.mixed().isFunction(),
    destroy: utils_1.yup.mixed().isFunction(),
    register: utils_1.yup.mixed().isFunction(),
    config: utils_1.yup.object(),
    routes: utils_1.yup.lazy((value) => {
        if (Array.isArray(value)) {
            return utils_1.yup.array();
        }
        return utils_1.yup.object();
    }),
    controllers: utils_1.yup.object(),
    services: utils_1.yup.object(),
    policies: utils_1.yup.object(),
    middlewares: utils_1.yup.object(),
    contentTypes: utils_1.yup.object(),
})
    .noUnknown();
const validateModule = (data) => {
    return strapiServerSchema.validateSync(data, { strict: true, abortEarly: false });
};
exports.validateModule = validateModule;
//# sourceMappingURL=validation.js.map