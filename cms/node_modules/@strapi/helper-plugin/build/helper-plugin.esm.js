import*as j from"react";import*as b from"@strapi/design-system";import*as N from"@strapi/icons";import*as It from"react-intl";import*as ne from"react-router-dom";import*as $e from"@strapi/design-system/v2";import*as wt from"axios";import*as de from"qs";import*as Pt from"lodash/isEmpty";import*as Mt from"lodash/isNil";import*as fe from"styled-components";import*as Ot from"date-fns/formatISO";import*as De from"formik";import*as Be from"react-select";import*as Ne from"date-fns";import*as At from"react-helmet";import*as Ft from"lodash/get";import*as Rt from"react-dom";import*as $t from"react-query";import*as Dt from"lodash/isEqual";import*as Bt from"lodash/isObject";import*as Nt from"lodash/transform";import*as jt from"lodash/startsWith";var k={};(function(){k.d=function(e,t){for(var r in t)k.o(t,r)&&!k.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),function(){k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var p={};k.d(p,{Hn:function(){return zt},xC:function(){return ie},iq:function(){return Ze},NY:function(){return yn},OB:function(){return xn},ug:function(){return Ie},m$:function(){return Lr},uT:function(){return be},O4:function(){return dn},jW:function(){return fn},QH:function(){return G},Y_:function(){return gn},W1:function(){return dt},vq:function(){return we},MG:function(){return Ar},xZ:function(){return hn},tM:function(){return kn},c4:function(){return et},x7:function(){return Ce},W$:function(){return jn},J5:function(){return Wn},l0:function(){return Hn},jm:function(){return Kn},JQ:function(){return Pe},Zc:function(){return Rr},XL:function(){return Jn},Hw:function(){return Me},rt:function(){return Dr},rU:function(){return Zn},Qj:function(){return er},dO:function(){return Ge},dJ:function(){return tr},Hz:function(){return nr},ZF:function(){return rr},X0:function(){return ar},cJ:function(){return pe},N$:function(){return Vt},vG:function(){return Oe},w7:function(){return Nr},v4:function(){return sr},tU:function(){return lr},RM:function(){return _e},oL:function(){return Kt},JV:function(){return cr},ij:function(){return gr},fG:function(){return aa},fC:function(){return he},m:function(){return vr},SL:function(){return br},fz:function(){return Te},qb:function(){return yr},t3:function(){return wa},Bg:function(){return ke},_Y:function(){return Gn},iA:function(){return Nn},Ui:function(){return ye},L8:function(){return Tn},I8:function(){return O},w6:function(){return sa},e5:function(){return ma},ZT:function(){return Ke},dU:function(){return la},nn:function(){return _a},tg:function(){return ve},mD:function(){return ga},k2:function(){return te},UN:function(){return Le},CJ:function(){return Ea},qX:function(){return Ee},OT:function(){return Ae},X7:function(){return Ia},CR:function(){return ha},jV:function(){return ba},Q1:function(){return U},WY:function(){return ka},YB:function(){return La},UW:function(){return xt},to:function(){return ia},I0:function(){return Pa},So:function(){return Yr},L7:function(){return xe},QI:function(){return bn},Vu:function(){return Or},Wq:function(){return Tr},W6:function(){return je},VP:function(){return Qr},Xe:function(){return gt},mZ:function(){return Fr},kY:function(){return vt},L0:function(){return Vr},E2:function(){return st},go:function(){return Xr},c1:function(){return $r},yX:function(){return Br},F5:function(){return Kr},lm:function(){return me},o1:function(){return Ur},Yw:function(){return Gr},aM:function(){return ot},Kx:function(){return Y},ss:function(){return ea},vn:function(){return ae},Uq:function(){return na},j1:function(){return lt},Sh:function(){return H},rS:function(){return Z},Od:function(){return Ma}});var Ut=e=>{var t={};return k.d(t,e),t},Os=e=>()=>e,n=Ut({Children:()=>j.Children,Fragment:()=>j.Fragment,cloneElement:()=>j.cloneElement,createContext:()=>j.createContext,createElement:()=>j.createElement,default:()=>j.default,useCallback:()=>j.useCallback,useContext:()=>j.useContext,useEffect:()=>j.useEffect,useLayoutEffect:()=>j.useLayoutEffect,useMemo:()=>j.useMemo,useRef:()=>j.useRef,useState:()=>j.useState}),Wt=e=>{var t={};return k.d(t,e),t},As=e=>()=>e,c=Wt({Alert:()=>b.Alert,BaseCheckbox:()=>b.BaseCheckbox,Box:()=>b.Box,Button:()=>b.Button,Checkbox:()=>b.Checkbox,DatePicker:()=>b.DatePicker,DateTimePicker:()=>b.DateTimePicker,Dialog:()=>b.Dialog,DialogBody:()=>b.DialogBody,DialogFooter:()=>b.DialogFooter,Dots:()=>b.Dots,EmptyStateLayout:()=>b.EmptyStateLayout,Field:()=>b.Field,FieldInput:()=>b.FieldInput,Flex:()=>b.Flex,Icon:()=>b.Icon,IconButton:()=>b.IconButton,JSONInput:()=>b.JSONInput,Loader:()=>b.Loader,NextLink:()=>b.NextLink,NumberInput:()=>b.NumberInput,PageLink:()=>b.PageLink,Pagination:()=>b.Pagination,Popover:()=>b.Popover,PreviousLink:()=>b.PreviousLink,SearchForm:()=>b.SearchForm,Searchbar:()=>b.Searchbar,SingleSelect:()=>b.SingleSelect,SingleSelectOption:()=>b.SingleSelectOption,Table:()=>b.Table,Tag:()=>b.Tag,Tbody:()=>b.Tbody,Td:()=>b.Td,TextInput:()=>b.TextInput,Textarea:()=>b.Textarea,Th:()=>b.Th,Thead:()=>b.Thead,TimePicker:()=>b.TimePicker,ToggleInput:()=>b.ToggleInput,Tooltip:()=>b.Tooltip,Tr:()=>b.Tr,Typography:()=>b.Typography,VisuallyHidden:()=>b.VisuallyHidden}),qt=e=>{var t={};return k.d(t,e),t},Fs=e=>()=>e,M=qt({CarretDown:()=>N.CarretDown,Clock:()=>N.Clock,Cross:()=>N.Cross,EmptyDocuments:()=>N.EmptyDocuments,EmptyPermissions:()=>N.EmptyPermissions,EmptyPictures:()=>N.EmptyPictures,ExclamationMarkCircle:()=>N.ExclamationMarkCircle,Eye:()=>N.Eye,EyeStriked:()=>N.EyeStriked,Minus:()=>N.Minus,Plus:()=>N.Plus,Refresh:()=>N.Refresh,Search:()=>N.Search,Trash:()=>N.Trash}),Yt=e=>{var t={};return k.d(t,e),t},Rs=e=>()=>e,L=Yt({useIntl:()=>It.useIntl});const zt=({content:e={id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}},...t})=>{const{formatMessage:r}=(0,L.useIntl)();return n.createElement(c.EmptyStateLayout,{...t,icon:n.createElement(M.ExclamationMarkCircle,{width:"10rem"}),content:r({id:e.id,defaultMessage:e.defaultMessage},e.values)})};var Ht=e=>{var t={};return k.d(t,e),t},$s=e=>()=>e,V=Ht({NavLink:()=>ne.NavLink,Redirect:()=>ne.Redirect,useHistory:()=>ne.useHistory,useLocation:()=>ne.useLocation}),Qt=e=>{var t={};return k.d(t,e),t},Ds=e=>()=>e,re=Qt({Link:()=>$e.Link,LinkButton:()=>$e.LinkButton});const je=e=>{const t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...r)=>t.current?.(...r),[])},pe=n.createContext(null),Vt=({children:e})=>{const t=n.useRef(0),[r,a]=n.useState([]),o=n.useCallback(({type:s,message:u,link:d,timeout:f,blockTransition:m,onClose:v,title:_})=>{a(g=>[...g,{id:t.current++,type:s,message:u,link:d,timeout:f,blockTransition:m,onClose:v,title:_}])},[]),i=n.useCallback(s=>{a(u=>u.filter(d=>d.id!==s))},[]),l=n.useMemo(()=>({toggleNotification:o}),[o]);return n.createElement(pe.Provider,{value:l},n.createElement(c.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},r.map(s=>n.createElement(Xt,{key:s.id,...s,clearNotification:i}))),e)},Xt=({clearNotification:e,blockTransition:t=!1,id:r,link:a,message:o={id:"notification.success.saved",defaultMessage:"Saved"},onClose:i,timeout:l=2500,title:s="success",type:u})=>{const{formatMessage:d}=(0,L.useIntl)(),f=je(i),m=n.useCallback(()=>{f(),e(r)},[e,r,f]);n.useEffect(()=>{if(!t){const g=setTimeout(()=>{m()},l);return()=>{clearTimeout(g)}}},[t,m,l]);let v,_;return u==="info"?(v="default",_=d({id:"notification.default.title",defaultMessage:"Information:"})):u==="warning"?(v="danger",_=d({id:"notification.warning.title",defaultMessage:"Warning:"})):u==="softWarning"?(v="warning",_=d({id:"notification.warning.title",defaultMessage:"Warning:"})):(v="success",_=d({id:"notification.success.title",defaultMessage:"Success:"})),s&&(_=typeof s=="string"?s:d({id:s.id,defaultMessage:s.defaultMessage??s.id},s.values)),n.createElement(c.Alert,{action:a?n.createElement(re.Link,{href:a.url,isExternal:!0},d({id:typeof a.label=="object"?a.label.id:a.label,defaultMessage:typeof a.label=="object"?a.label.defaultMessage??a.label.id:a.label})):void 0,onClose:m,closeLabel:d({id:"global.close",defaultMessage:"Close"}),title:_,variant:v},d({id:typeof o=="object"?o.id:o,defaultMessage:typeof o=="object"?o.defaultMessage??o.id:o},typeof o=="object"?o.values:void 0))};/**
 * @preserve
 * @description Returns an object to interact with the notification
 * system. The callbacks are wrapped in `useCallback` for a stable
 * identity.
 *
 * @example
 * ```tsx
 * import { useNotification } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { toggleNotification } = useNotification();
 *
 *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
 */const me=()=>n.useContext(pe)?.toggleNotification,_e=n.createContext({}),Kt=_e,Gt=()=>n.useContext(_e),ae=Gt;var Jt=e=>{var t={};return k.d(t,e),t},Bs=e=>()=>e,Ue=Jt({default:()=>wt.default}),Zt=e=>{var t={};return k.d(t,e),t},Ns=e=>()=>e,oe=Zt({default:()=>de.default,parse:()=>de.parse,stringify:()=>de.stringify}),en=e=>{var t={};return k.d(t,e),t},js=e=>()=>e,tn=en({default:()=>Pt.default}),nn=e=>{var t={};return k.d(t,e),t},Us=e=>()=>e,We=nn({default:()=>Mt.default});const se="jwtToken",ge="userInfo",qe="GUIDED_TOUR_CURRENT_STEP",Ye="GUIDED_TOUR_COMPLETED_STEPS",ze="GUIDED_TOUR_SKIPPED",He="STRAPI_THEME",Qe="STRAPI_UPLOAD_MODAL_VIEW",Ve="STRAPI_UPLOAD_LIBRARY_VIEW",Xe=JSON.parse,q=JSON.stringify,O={clear(e){return localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=O.get("videos"),t=O.get("onboarding"),r=O.get("STRAPI_UPDATE_NOTIF"),a=localStorage.getItem("strapi-admin-language"),o=O.get(qe),i=O.get(Ye),l=O.get(ze),s=O.get(He),u=O.get(Ve),d=O.get(Qe);localStorage.clear(),localStorage.setItem("videos",q(e)),localStorage.setItem(qe,q(o)),localStorage.setItem(Ye,q(i)),localStorage.setItem(ze,q(l)),localStorage.setItem("STRAPI_UPDATE_NOTIF",q(r)),t&&localStorage.setItem("onboarding",q(t)),a&&localStorage.setItem("strapi-admin-language",a),s&&localStorage.setItem(He,s),(0,We.default)(u)||localStorage.setItem(Ve,q(u)),(0,We.default)(d)||localStorage.setItem(Qe,q(d))}sessionStorage.clear()},get(e){const t=localStorage.getItem(e);if(t)try{return Xe(t)}catch{return t}const r=sessionStorage.getItem(e);if(r)try{return Xe(r)}catch{return r}return null},set(e,t,r){return(0,tn.default)(e)?null:r?localStorage.setItem(t,q(e)):sessionStorage.setItem(t,q(e))},clearToken(e=se){O.clear(e)},clearUserInfo(e=ge){return O.clear(e)},getToken(e=se){return O.get(e)},getUserInfo(e=ge){return O.get(e)},setToken(e="",t=!1,r=se){O.set(e,r,t)},setUserInfo(e,t=!1,r=ge){O.set(e,r,t)},updateToken(e=""){const t=Boolean(localStorage.getItem(se));O.setToken(e,t)}},rn=()=>{const e=Ue.default.create({headers:{Accept:"application/json","Content-Type":"application/json"},paramsSerializer:t=>oe.default.stringify(t,{encode:!1})});return e.interceptors.request.use(async t=>(t.headers.Authorization=`Bearer ${O.getToken()}`,t),t=>Promise.reject(t)),e.interceptors.response.use(t=>t,t=>{throw t?.response?.status===401&&(O.clearAppStorage(),window.location.reload()),t}),e},J=rn(),an=e=>e.charAt(0)!=="/"?`/${e}`:e,on=e=>new RegExp("^(?:[a-z+]+:)?//","i").test(e),le=e=>on(e)?e:an(e),ve=(e={})=>(J.defaults.baseURL=window.strapi.backendURL,{get:(t,r)=>J.get(le(t),{...e,...r}),put:(t,r,a)=>J.put(le(t),r,{...e,...a}),post:(t,r,a)=>J.post(le(t),r,{...e,...a}),del:(t,r)=>J.delete(le(t),{...e,...r})}),Ke=(e,t)=>e.reduce((r,a)=>(t.find(i=>i.action===a.action&&i.subject===a.subject)&&r.push(a),r),[]),sn=e=>e.map(t=>{if(!t.action)return{};const r={action:t.action};return t.subject&&(r.subject=t.subject),r}),ln=e=>e.length>0&&e.every(t=>Array.isArray(t.conditions)&&t.conditions.length>0),Ee=async(e,t,r)=>{if(!t||!t.length)return!0;const a=Ke(e,t);if(ln(a)){let o=!1;try{const{data:{data:i}}=await ve().post("/admin/permissions/check",{permissions:sn(a)},{signal:r});o=i.every(l=>l===!0)}catch(i){console.error("Error while checking permissions",i)}return o}return a.length>0};var cn=e=>{var t={};return k.d(t,e),t},Ws=e=>()=>e,R=cn({default:()=>fe.default,keyframes:()=>fe.keyframes,useTheme:()=>fe.useTheme});const un=(0,R.default)(c.Flex)`
  height: 100vh;
`,Ge=({children:e="Loading content.","data-testid":t="loader"})=>n.createElement(un,{justifyContent:"space-around","data-testid":t},n.createElement(c.Loader,null,e)),dn=({permissions:e=[],children:t})=>{const r=new AbortController,{signal:a}=r,{allPermissions:o}=ae(),i=me(),[l,s]=n.useState({isLoading:!0,canAccess:!1}),u=n.useRef(!0);return n.useEffect(()=>((async()=>{try{s({isLoading:!0,canAccess:!1});const f=await Ee(o||[],e,a);u.current&&s({isLoading:!1,canAccess:f})}catch(f){u.current&&(console.error(f),i?.({type:"warning",message:{id:"notification.error"}}),s({isLoading:!1,canAccess:!1}))}})(),()=>{r.abort()}),[e]),n.useEffect(()=>()=>{u.current=!1},[]),l.isLoading?n.createElement(Ge,null):l.canAccess?t:n.createElement(V.Redirect,{to:"/"})},fn=({permissions:e=[],children:t})=>{const{allPermissions:r}=ae(),a=me(),[o,i]=n.useState({isLoading:!0,canAccess:!1}),l=n.useRef(!0),s=new AbortController,{signal:u}=s;return n.useEffect(()=>((async()=>{try{i({isLoading:!0,canAccess:!1});const f=await Ee(r||[],e,u);l.current&&i({isLoading:!1,canAccess:f})}catch(f){l.current&&(console.error(f),a?.({type:"warning",message:{id:"notification.error"}}),i({isLoading:!1,canAccess:!1}))}})(),()=>{s.abort()}),[e]),n.useEffect(()=>()=>{l.current=!1},[]),o.isLoading||!o.canAccess?null:t},he=({children:e,iconRightButton:t,isConfirmButtonLoading:r=!1,isOpen:a,onConfirm:o,onToggleDialog:i,leftButtonText:l={id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:s={id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:u={id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:d="danger-light",...f})=>{const{formatMessage:m}=(0,L.useIntl)();return n.default.createElement(c.Dialog,{onClose:i,title:m({id:u.id,defaultMessage:u.defaultMessage}),isOpen:a,id:"confirmation",...f},n.default.createElement(c.Box,{id:"confirm-description"},e),n.default.createElement(pn,{iconRightButton:t,isConfirmButtonLoading:r,leftButtonText:l,onConfirm:o,onToggleDialog:i,rightButtonText:s,variantRightButton:d}))},be=({iconBody:e=n.default.createElement(M.ExclamationMarkCircle,null),children:t})=>n.default.createElement(c.DialogBody,{icon:e},n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:2},n.default.createElement(c.Flex,{justifyContent:"center"},t))),pn=({iconRightButton:e=n.default.createElement(M.Trash,null),isConfirmButtonLoading:t,leftButtonText:r,onConfirm:a,onToggleDialog:o,rightButtonText:i,variantRightButton:l})=>{const{formatMessage:s}=(0,L.useIntl)();return n.default.createElement(c.DialogFooter,{startAction:n.default.createElement(c.Button,{onClick:o,variant:"tertiary"},s({id:r.id,defaultMessage:r.defaultMessage})),endAction:n.default.createElement(c.Button,{onClick:a,variant:l,startIcon:e,id:"confirm-delete",loading:t},s({id:i.id,defaultMessage:i.defaultMessage}))})},G=({bodyText:e={id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},...t})=>{const{formatMessage:r}=(0,L.useIntl)();return n.default.createElement(he,{...t},n.default.createElement(be,null,n.default.createElement(c.Typography,{variant:"omega"},r({id:e.id,defaultMessage:e.defaultMessage}))))};G.Root=he,G.Body=be;const mn=(0,R.default)(c.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,_n=(0,R.default)(c.Typography)`
  word-break: break-all;
`,gn=({title:e,subtitle:t,icon:r,iconBackground:a,endAction:o,titleEllipsis:i=!1})=>(e&&e.length>70&&i&&(e=`${e.substring(0,70)}...`),n.default.createElement(c.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},n.default.createElement(mn,{background:a,hasRadius:!0,padding:3},r),n.default.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:o?0:1},n.default.createElement(c.Flex,null,n.default.createElement(_n,{fontWeight:"semiBold",variant:"pi"},e),o),n.default.createElement(c.Typography,{textColor:"neutral600"},t)))),vn="[@strapi/helper-plugin]:",Je=e=>{const t=e;let r=!1;if(typeof t!="function")throw new TypeError(`${vn} once requires a function parameter`);return(...a)=>{r||(t(...a),r=!0)}},En=Je(console.warn),hn=e=>(En(`
      Deprecation warning: Usage of "DateTimePicker" component from the helper-plugin is deprecated and will be removed in the next major release. Instead, use the DateTimePicker from the Design System: import { DateTimePicker } from '@strapi/design-system';"
    `),n.createElement(c.DateTimePicker,{...e})),ie=n.createContext({}),Ze=({children:e,autoReload:t,communityEdition:r,currentEnvironment:a,dependencies:o,latestStrapiReleaseTag:i,nodeVersion:l,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:d,strapiVersion:f,useYarn:m,userDisplayName:v,userId:_})=>{const g=n.useMemo(()=>({autoReload:t,communityEdition:r,currentEnvironment:a,dependencies:o,latestStrapiReleaseTag:i,nodeVersion:l,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:d,strapiVersion:f,useYarn:m,userDisplayName:v,userId:_}),[t,r,a,o,i,l,s,u,d,f,m,v,_]);return n.createElement(ie.Provider,{value:g},e)},xe=()=>n.useContext(ie);/**
 * @preserve
 * @deprecated use useAppInfo instead
 */const bn=xe;/**
 * @preserve
 * @deprecated use AppInfoProvider instead
 */const xn=Ze;/**
 * @preserve
 * @deprecated use AppInfoContext instead
 */const yn=ie,ye=n.createContext({uuid:!1}),Tn=({value:e={uuid:!1},children:t})=>{const r=n.useMemo(()=>e,[e]);return n.createElement(ye.Provider,{value:r},t)},Z=()=>{const{uuid:e,telemetryProperties:t,deviceId:r}=n.useContext(ye),o=xe()?.userId;return{trackUsage:n.useCallback(async(l,s)=>{try{if(e&&!window.strapi.telemetryDisabled)return await Ue.default.post("https://analytics.strapi.io/api/v2/track",{event:l,userId:o,deviceId:r,eventProperties:{...s},userProperties:{},groupProperties:{...t,projectId:e,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json","X-Strapi-Event":l}})}catch{}return null},[r,t,o,e])}},Y=e=>{const{search:t}=(0,V.useLocation)(),{push:r}=(0,V.useHistory)(),a=(0,n.useMemo)(()=>{const i=t.substring(1);return t?(0,oe.parse)(i):e},[t,e]),o=(0,n.useCallback)((i,l="push")=>{let s={...a};l==="remove"?Object.keys(i).forEach(u=>{Object.prototype.hasOwnProperty.call(s,u)&&delete s[u]}):s={...a,...i},r({search:(0,oe.stringify)(s,{encode:!1})})},[r,a]);return[{query:a,rawQuery:t},o]},Cn={isUp:!0},Te=(0,R.default)(M.CarretDown).withConfig({shouldForwardProp:(e,t)=>!Cn[e]&&t(e)})`
  transform: ${({isUp:e=!1})=>`rotate(${e?"180":"0"}deg)`};
`,Sn={document:M.EmptyDocuments,media:M.EmptyPictures,permissions:M.EmptyPermissions},Ce=({action:e,content:t={id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found"},hasRadius:r=!0,icon:a="document",shadow:o="tableShadow"})=>{const i=Sn[a],{formatMessage:l}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{action:e,content:l({id:t.id,defaultMessage:t.defaultMessage},t.values),hasRadius:r,icon:n.default.createElement(i,{width:"10rem"}),shadow:o})},et=({colSpan:e,isLoading:t=!1,...r})=>t?n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(c.Flex,{justifyContent:"center"},n.default.createElement(c.Box,{padding:11,background:"neutral0"},n.default.createElement(c.Loader,null,"Loading content...")))))):n.default.createElement(c.Tbody,null,n.default.createElement(c.Tr,null,n.default.createElement(c.Td,{colSpan:e},n.default.createElement(Ce,{...r,hasRadius:!1})))),kn=({action:e,children:t,contentType:r,components:a,footer:o,headers:i=[],isLoading:l=!1,onConfirmDeleteAll:s,onConfirmDelete:u,rows:d=[],withBulkActions:f=!1,withMainAction:m=!1,renderBulkActionsBar:v,..._})=>{const[g,x]=(0,n.useState)([]),[h,S]=(0,n.useState)(!1),[C,y]=(0,n.useState)(!1),[T,w]=(0,n.useState)(!1),[{query:D}]=Y(),{formatMessage:P}=(0,L.useIntl)(),{trackUsage:X}=Z(),F=d.length+1,Q=i.length+(f?1:0)+(m?1:0),ce=D?.filters!==void 0,A=g.length===d.length&&d.length>0,$=ce?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:r}}:void 0,W=async()=>{try{w(!0),await s?.(g),z(),x([]),w(!1)}catch{w(!1),z()}},E=async()=>{try{w(!0),await u?.(g[0]),K(),w(!1)}catch{w(!1),K()}},I=()=>{x(A?[]:d.map(B=>B.id))},z=()=>{h||X("willBulkDeleteEntries"),S(B=>!B)},K=()=>{C&&x([]),y(B=>!B)},ue=B=>{x([B]),K()},yt=({name:B,value:kt})=>{x(Re=>kt?Re.concat(B):Re.filter(Lt=>Lt!==B))},Tt=()=>{x([])},Ct=a?.ConfirmDialogDeleteAll?a.ConfirmDialogDeleteAll:G,St=a?.ConfirmDialogDelete?a.ConfirmDialogDelete:G;return n.default.createElement(n.default.Fragment,null,g.length>0&&n.default.createElement(c.Flex,{gap:3},n.default.createElement(c.Typography,{variant:"omega",textColor:"neutral500"},P({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:g.length})),v?v({selectedEntries:g,clearSelectedEntries:Tt}):n.default.createElement(c.Button,{onClick:z,startIcon:n.default.createElement(M.Trash,null),size:"L",variant:"danger-light"},P({id:"global.delete",defaultMessage:"Delete"}))),n.default.createElement(c.Table,{colCount:Q,rowCount:F,footer:o},n.default.createElement(Ln,{areAllEntriesSelected:A,entriesToDelete:g,headers:i,onSelectAll:I,withMainAction:m,withBulkActions:f}),!d.length||l?n.default.createElement(et,{colSpan:Q,content:$,isLoading:l,action:e}):n.Children.toArray(t).map(B=>(0,n.cloneElement)(B,{entriesToDelete:g,onClickDelete:ue,onSelectRow:yt,headers:i,rows:d,withBulkActions:f,withMainAction:m,..._}))),n.default.createElement(Ct,{isConfirmButtonLoading:T,onConfirm:W,onToggleDialog:z,isOpen:h}),n.default.createElement(St,{isConfirmButtonLoading:T,onConfirm:E,onToggleDialog:K,isOpen:C}))},Ln=({areAllEntriesSelected:e=!1,entriesToDelete:t=[],headers:r=[],onSelectAll:a,withMainAction:o,withBulkActions:i})=>{const{formatMessage:l}=(0,L.useIntl)(),[{query:s},u]=Y(),d=typeof s?.sort=="string"?s.sort:"",[f,m]=d.split(":"),v=!e&&t.length>0;return n.default.createElement(c.Thead,null,n.default.createElement(c.Tr,null,o&&n.default.createElement(c.Th,null,n.default.createElement(c.BaseCheckbox,{"aria-label":l({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:v,onChange:a})),r.map(({fieldSchema:_,name:g,metadatas:{sortable:x,label:h,mainField:S}})=>{let C=f===g;const y=m==="ASC";_?.type==="relation"&&S&&(C=f===`${g.split(".")[0]}[${S.name}]`);const T=l({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:h}),w=(D=!0)=>{if(x&&D){let P=g;_?.type==="relation"&&S&&(P=`${g.split(".")[0]}[${S.name}]`),u({sort:`${P}:${C&&m==="ASC"?"DESC":"ASC"}`})}};return n.default.createElement(c.Th,{key:g,action:C&&n.default.createElement(c.IconButton,{label:T,onClick:()=>w(),icon:C&&n.default.createElement(Te,{isUp:y}),noBorder:!0})},n.default.createElement(c.Tooltip,{label:x?T:h},n.default.createElement(c.Typography,{as:!C&&x?"button":"span",textColor:"neutral600",onClick:()=>w(!C),variant:"sigma"},h)))}),i&&n.default.createElement(c.Th,null,n.default.createElement(c.VisuallyHidden,null,l({id:"global.actions",defaultMessage:"Actions"})))))},tt=n.createContext(null),H=()=>{const e=n.useContext(tt);if(!e)throw new Error("useTableContext must be used within a TableProvider");return e},In=({children:e})=>{const{formatMessage:t}=(0,L.useIntl)(),{selectedEntries:r}=H();return r.length===0?null:n.createElement(c.Flex,{gap:2},n.createElement(c.Typography,{variant:"omega",textColor:"neutral500"},t({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:r.length})),e)},wn=({onConfirmDeleteAll:e})=>{const{selectedEntries:t,setSelectedEntries:r}=H(),{formatMessage:a}=(0,L.useIntl)(),[o,i]=n.useState(!1),[l,s]=n.useState(!1),u=async()=>{try{s(!0),await e(t),s(!1),d(),r([])}catch{s(!1),d()}},d=()=>{i(f=>!f)};return n.createElement(n.Fragment,null,n.createElement(c.Button,{onClick:d,startIcon:n.createElement(M.Trash,null),size:"L",variant:"danger-light"},a({id:"global.delete",defaultMessage:"Delete"})),n.createElement(G,{isConfirmButtonLoading:l,onConfirm:u,onToggleDialog:d,isOpen:o}))},Pn=({children:e})=>n.createElement(c.Thead,null,n.createElement(c.Tr,null,e)),Mn=()=>{const{selectedEntries:e,setSelectedEntries:t,rows:r}=H(),{formatMessage:a}=(0,L.useIntl)(),o=e.length===r.length&&r.length>0,i=!o&&e.length>0,l=()=>{t(o?[]:r.map(s=>s.id))};return r.length===0?null:n.createElement(c.Th,null,n.createElement(c.BaseCheckbox,{"aria-label":a({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:o,indeterminate:i,onChange:l}))},On=()=>{const{formatMessage:e}=(0,L.useIntl)();return n.createElement(c.Th,null,n.createElement(c.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"})))},An=({fieldSchemaType:e,name:t,relationFieldName:r,isSortable:a,label:o})=>{const[{query:i},l]=Y(),s=typeof i?.sort=="string"?i.sort:"",[u,d]=s.split(":"),{formatMessage:f}=(0,L.useIntl)();let m=u===t;const v=d==="ASC";e==="relation"&&r&&(m=u===`${t.split(".")[0]}[${r}]`);const _=f({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:o}),g=(x=!0)=>{if(a&&x){let h=t;e==="relation"&&r&&(h=`${t.split(".")[0]}[${r}]`),l({sort:`${h}:${m&&d==="ASC"?"DESC":"ASC"}`})}};return n.createElement(c.Th,{key:t,action:m&&a&&n.createElement(c.IconButton,{label:_,onClick:()=>g(!0),icon:n.createElement(Te,{isUp:v}),noBorder:!0})},n.createElement(c.Tooltip,{label:a?_:o},n.createElement(c.Typography,{textColor:"neutral600",as:!m&&a?"button":"span",onClick:()=>g(),variant:"sigma"},o)))},Fn=({children:e,defaultSelectedEntries:t=[],rows:r=[],colCount:a=0,isLoading:o,isFetching:i})=>{const[l,s]=n.useState(t),u=r.length+1,d=n.useCallback(({name:m,value:v})=>{s(_=>v?_.concat(m):_.filter(g=>g!==m))},[]),f=n.useMemo(()=>({selectedEntries:l,setSelectedEntries:s,onSelectRow:d,rows:r,isLoading:o,isFetching:i,colCount:a,rowCount:u}),[d,l,s,r,o,i,a,u]);return n.createElement(tt.Provider,{value:f},e)},Rn=({contentType:e,...t})=>{const{rows:r,colCount:a,isLoading:o}=H(),[{query:i}]=Y(),s=i?.filters!==void 0?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:e}}:void 0;return r?.length>0||o?null:n.createElement(c.Tbody,null,n.createElement(c.Tr,null,n.createElement(c.Td,{colSpan:a},n.createElement(Ce,{...t,content:s,hasRadius:!1,shadow:void 0}))))},$n=()=>{const{isLoading:e,colCount:t}=H();return e?n.createElement(c.Tbody,null,n.createElement(c.Tr,null,n.createElement(c.Td,{colSpan:t},n.createElement(c.Flex,{justifyContent:"center"},n.createElement(c.Box,{padding:11,background:"neutral0"},n.createElement(c.Loader,null,"Loading content")))))):null},Dn=({children:e})=>{const{rows:t,isLoading:r}=H();return r||t.length===0?null:n.createElement(c.Tbody,null,e)},Bn=({children:e,footer:t})=>{const{rowCount:r,colCount:a}=H();return n.createElement(c.Table,{rowCount:r,colCount:a,footer:t},e)},Nn={Content:Bn,Root:Fn,Body:Dn,ActionBar:In,Head:Pn,HeaderCell:An,HeaderHiddenActionsCell:On,HeaderCheckboxCell:Mn,LoadingBody:$n,EmptyBody:Rn,BulkDeleteButton:wn},jn=({filtersSchema:e=[]})=>{const[{query:t},r]=Y(),a=o=>{const i=(t?.filters?.$and||[]).filter(l=>{const s=Object.keys(o)[0],u=Object.keys(o[s])[0],d=o[s][u];return l[s]?.[u]!==d});r({filters:{$and:i},page:1})};return t?.filters?.$and?.length?n.createElement(n.Fragment,null,t?.filters?.$and?.map((o,i)=>{const l=Object.keys(o)[0],s=e.find(({name:u})=>u===l);if(!s)return null;if(s.fieldSchema.type==="relation"){const u=s?.fieldSchema?.mainField?.name,d=o[l][u];if(typeof d=="object"&&d!==null){const f=Object.keys(d)[0],m=d[f]??"";return n.createElement(nt,{key:`${l}-${i}`,attribute:s,filter:o,onClick:a,operator:f,value:m})}return null}else{const u=o[l],d=Object.keys(u)[0],f=u[d];return typeof f=="string"||f===null?n.createElement(nt,{key:`${l}-${i}`,attribute:s,filter:o,onClick:a,operator:d,value:f??""}):null}})):null},nt=({attribute:e,filter:t,onClick:r,operator:a,value:o})=>{const{formatMessage:i,formatDate:l,formatTime:s,formatNumber:u}=(0,L.useIntl)(),d=()=>{r(t)},{fieldSchema:f}=e,m=f.type==="relation"?f?.mainField?.schema?.type:f.type;let v=o;if(m==="date"&&(v=l(o,{dateStyle:"full"})),m==="datetime"&&(v=l(o,{dateStyle:"full",timeStyle:"short"})),m==="time"){const[g,x]=o.split(":"),h=new Date;h.setHours(Number(g)),h.setMinutes(Number(x)),v=s(h,{hour:"numeric",minute:"numeric"})}["float","integer","biginteger","decimal"].includes(m)&&(v=u(Number(o))),e.metadatas.customInput&&e.metadatas.options&&(v=e.metadatas.options.find(x=>x.customValue===o)?.label||o);const _=`${e.metadatas.label||e.name} ${i({id:`components.FilterOptions.FILTER_TYPES.${a}`,defaultMessage:a})} ${a!=="$null"&&a!=="$notNull"?v:""}`;return n.createElement(c.Box,{padding:1},n.createElement(c.Tag,{onClick:d,icon:n.createElement(M.Cross,null)},_))};var Un=e=>{var t={};return k.d(t,e),t},qs=e=>()=>e,rt=Un({default:()=>Ot.default});const Wn=({displayedFilters:e,isVisible:t,onBlur:r,onToggle:a,source:o})=>{const[{query:i},l]=Y(),{formatMessage:s}=(0,L.useIntl)(),{trackUsage:u}=Z(),d={fieldSchema:{type:"string"}},[f,m]=n.useState({name:e[0]?.name||"",filter:Se((e[0]||d).fieldSchema)[0].value,value:""});if(!t||e.length===0)return null;const v=y=>{const T=e.find(F=>F.name===y);if(!T)return;const{fieldSchema:{type:w,options:D}}=T;let P="";w==="boolean"&&(P="true"),w==="enumeration"&&Array.isArray(D)&&(P=D[0]);const X=Se(T.fieldSchema)[0].value;m({name:y,filter:X,value:P})},_=y=>{y.preventDefault();const T=i?.filters?.$and.find(w=>w[f.name]&&w[f.name]?.[f.filter]===f.value)!==void 0;if(f.value&&!T){const w=e.find(({name:D})=>D===f.name);if(w){w.trackedEvent&&u(w.trackedEvent.name,w.trackedEvent.properties);let D;w.fieldSchema.type==="relation"?D={[f.name]:{[w.fieldSchema.mainField.name]:{[f.filter]:f.value}}}:D={[f.name]:{[f.filter]:f.value}};const P=[...i?.filters?.$and||[],D];l({filters:{$and:P},page:1})}}a()},g=y=>{if(y==="$null"||y==="$notNull"){m(T=>({...T,value:"true",filter:y}));return}m(T=>({...T,filter:y,value:""}))},x=e.find(y=>y.name===f.name),h=f.filter,S=x.metadatas.customOperators||Se(x.fieldSchema),C=x.metadatas.customInput||Yn;return n.createElement(c.Popover,{source:o,onDismiss:a,padding:3,spacing:4,onBlur:r},n.createElement("form",{onSubmit:_},n.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},n.createElement(qn,{direction:"column",alignItems:"stretch",gap:1},n.createElement(c.SingleSelect,{label:s({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:v,value:f.name},e.map(y=>n.createElement(c.SingleSelectOption,{key:y.name,value:y.name},y.metadatas.label))),n.createElement(c.SingleSelect,{label:s({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:f.filter,onChange:y=>g(y)},S.map(y=>n.createElement(c.SingleSelectOption,{key:y.value,value:y.value},s(y.intlLabel))))),h!=="$null"&&h!=="$notNull"&&n.createElement(c.Box,null,n.createElement(C,{...x.metadatas,...x.fieldSchema,value:f.value,onChange:y=>m(T=>({...T,value:y}))})),n.createElement(c.Box,null,n.createElement(c.Button,{size:"L",variant:"secondary",startIcon:n.createElement(M.Plus,null),type:"submit",fullWidth:!0},s({id:"app.utils.add-filter",defaultMessage:"Add filter"}))))))},qn=(0,R.default)(c.Flex)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Yn=({label:e="",onChange:t,options:r=[],type:a,value:o=""})=>{const{formatMessage:i}=(0,L.useIntl)();return a==="boolean"?n.createElement(c.SingleSelect,{"aria-label":e,onChange:l=>t(String(l)),value:o},n.createElement(c.SingleSelectOption,{value:"true"},"true"),n.createElement(c.SingleSelectOption,{value:"false"},"false")):a==="date"?n.createElement(c.DatePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:l=>t(l?(0,rt.default)(l,{representation:"date"}):null),onClear:()=>t(null),selectedDate:o?new Date(o):void 0}):a==="datetime"?n.createElement(c.DateTimePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:l=>t(l?l.toISOString():null),onClear:()=>t(null),value:o?new Date(o):void 0}):a==="enumeration"?n.createElement(c.SingleSelect,{"aria-label":e,onChange:t,value:o},r.map(l=>n.createElement(c.SingleSelectOption,{key:l,value:l},l))):["float","integer","biginteger","decimal"].includes(a)?n.createElement(c.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:l=>t(l?String(l):null),value:o||0}):a==="time"?n.createElement(c.TimePicker,{"aria-label":e,onClear:()=>t(""),onChange:l=>t(l||null),value:o??void 0,clearLabel:"Clear the selected time picker value"}):n.createElement(c.Field,null,n.createElement(c.FieldInput,{"aria-label":i({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:l}})=>t(l),value:o??void 0,size:"M"}))},Se=e=>{let t=e.type;switch(e.type==="relation"&&(t=e.mainField.schema.type),t){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$nei",defaultMessage:"is not (case insensitive)"},value:"$nei"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$containsi",defaultMessage:"contains (case insensitive)"},value:"$containsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContainsi",defaultMessage:"not contains (case insensitive)"},value:"$notContainsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWithi",defaultMessage:"starts with (case insensitive)"},value:"$startsWithi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWithi",defaultMessage:"ends with (case insensitive)"},value:"$endsWithi"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};var zn=e=>{var t={};return k.d(t,e),t},Ys=e=>()=>e,at=zn({Form:()=>De.Form,useFormikContext:()=>De.useFormikContext});const Hn=({...e})=>{const t=(0,n.useRef)(null),{isSubmitting:r,isValidating:a,errors:o,touched:i}=(0,at.useFormikContext)();return(0,n.useEffect)(()=>{if(r&&!a){const l=t.current.querySelectorAll("[data-strapi-field-error]");if(l&&l.length>0){const u=l[0].getAttribute("id"),d=t.current.querySelector(`[aria-describedby="${u}"]`);d&&d instanceof HTMLElement&&d.focus()}}if(!r&&!a&&Object.keys(o).length){const l=document.getElementById("global-form-error");l&&l.focus()}},[o,r,a,i]),n.default.createElement(at.Form,{ref:t,...e,noValidate:!0})},Qn=({description:e,fieldSchema:t,type:r})=>{const{formatMessage:a}=(0,L.useIntl)(),o=()=>e?.id?a({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:l,minimum:s}=Xn(t),u=Vn({type:r,minimum:s,maximum:l}),d=typeof s=="number",f=typeof l=="number",m=f&&d,v=f||d;return!e?.id&&!v?"":a({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:s,max:l,description:o(),unit:u?.message&&v?a(u.message,u.values):null,divider:m?a({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:v?n.default.createElement("br",null):null})})()}},Vn=({type:e,minimum:t,maximum:r})=>{if(e&&["biginteger","integer","number"].includes(e))return{};const a=Math.max(t||0,r||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:a}}},Xn=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:r,max:a,min:o}=e;let i,l;const s=Number(o),u=Number(t);Number.isNaN(s)?Number.isNaN(u)||(i=u):i=s;const d=Number(a),f=Number(r);return Number.isNaN(d)?Number.isNaN(f)||(l=f):l=d,{maximum:l,minimum:i}},ot=()=>{const{search:e}=(0,V.useLocation)();return(0,n.useMemo)(()=>new URLSearchParams(e),[e])},st=e=>{const t=ot(),[r,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{t.has("field")&&t.get("field")===e&&r&&("input"in r?(r.input.current.focus(),r.input.current.scrollIntoView({block:"center"})):(r.focus(),r.scrollIntoView({block:"center"})))},[t,e,r]),a},U=e=>`${e/16}rem`,Kn=({autoComplete:e,customInputs:t,description:r,disabled:a,intlLabel:o,labelAction:i,error:l,name:s,onChange:u,options:d=[],placeholder:f,required:m,step:v,type:_,value:g,isNullable:x,attribute:h,...S})=>{const{formatMessage:C}=(0,L.useIntl)(),y=(E,I)=>{if(E&&(I==="minLength"&&I in E||I==="maxLength"&&I in E||I==="max"&&I in E||I==="min"&&I in E))return E[I]},{hint:T}=Qn({description:r,fieldSchema:{minLength:y(h,"minLength"),maxLength:y(h,"maxLength"),max:y(h,"max"),min:y(h,"min")},type:h?.type||_}),[w,D]=n.useState(!1),P=st(s),X=t?t[_]:null,F=g??void 0,Q=F??"";function ce(E){if(!E)return null;if(typeof E=="string")return C({id:E,defaultMessage:E});const I={...E.values};return C({id:E.id,defaultMessage:E?.defaultMessage??E.id},I)}const A=ce(l)??void 0;if(X)return n.createElement(X,{...S,ref:P,attribute:h,description:r,hint:T,disabled:a,intlLabel:o,labelAction:i,error:A||"",name:s,onChange:u,options:d,required:m,placeholder:f,type:_,value:F});const $=o.id?C({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):s,W=f?C({id:f.id,defaultMessage:f.defaultMessage},{...f.values}):"";switch(_){case"json":return n.createElement(c.JSONInput,{ref:P,label:$,labelAction:i,value:F,error:A,disabled:a,hint:T,required:m,onChange:E=>{const I="required"in h&&!h?.required&&!E.length?null:E;u({target:{name:s,value:I}},!1)},minHeight:U(252),maxHeight:U(504)});case"bool":return n.createElement(c.ToggleInput,{ref:P,checked:g===null?null:g||!1,disabled:a,hint:T,label:$,error:A,labelAction:i,name:s,offLabel:C({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:C({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:E=>{u({target:{name:s,value:E.target.checked}})},required:m,onClear:()=>{u({target:{name:s,value:null}})},clearLabel:x?C({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"}):void 0});case"checkbox":return n.createElement(c.Checkbox,{ref:P,disabled:a,error:A,hint:T,id:s,name:s,onValueChange:E=>{u({target:{name:s,value:E}})},required:m,value:Boolean(F)},$);case"datetime":return n.createElement(c.DateTimePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>{const I=E?E.toISOString():null;u({target:{name:s,value:I,type:_}})},onClear:()=>u({target:{name:s,value:null,type:_}}),placeholder:W,required:m,value:F});case"date":return n.createElement(c.DatePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:a,error:A,label:$,id:s,hint:T,name:s,onChange:E=>{u({target:{name:s,value:E?(0,rt.default)(E,{representation:"date"}):null,type:_}})},onClear:()=>u({target:{name:s,value:null,type:_}}),placeholder:W,required:m,selectedDate:F});case"number":return n.createElement(c.NumberInput,{ref:P,disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onValueChange:E=>{u({target:{name:s,value:E,type:_}})},placeholder:W,required:m,step:v,value:F});case"email":return n.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>{u({target:{name:s,value:E.target.value,type:_}})},placeholder:W,required:m,type:"email",value:Q});case"timestamp":case"text":case"string":return n.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>{u({target:{name:s,value:E.target.value,type:_}})},placeholder:W,required:m,type:"text",value:Q});case"password":return n.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:a,error:A,endAction:n.createElement("button",{"aria-label":C({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{D(E=>!E)},style:{border:"none",padding:0,background:"transparent"},type:"button"},w?n.createElement(c.Icon,{as:M.Eye,color:"neutral500"}):n.createElement(c.Icon,{as:M.EyeStriked,color:"neutral500"})),label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>{u({target:{name:s,value:E.target.value,type:_}})},placeholder:W,required:m,type:w?"text":"password",value:Q});case"select":return n.createElement(c.SingleSelect,{ref:P,disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>{u({target:{name:s,value:E,type:"select"}})},placeholder:W,required:m,value:F},d.map(({metadatas:{intlLabel:E,disabled:I,hidden:z},key:K,value:ue})=>n.createElement(c.SingleSelectOption,{key:K,value:ue,disabled:I,hidden:z},C(E))));case"textarea":return n.createElement(c.Textarea,{ref:P,disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:E=>u({target:{name:s,value:E.target.value,type:_}}),required:m,placeholder:W,value:Q});case"time":{let E=F;if(typeof F=="string"&&F.split(":").length>2){const[I,z]=F.split(":");E=`${I}:${z}`}return n.createElement(c.TimePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:a,error:A,label:$,labelAction:i,id:s,hint:T,name:s,onChange:I=>{u({target:{name:s,value:`${I}`,type:_}})},onClear:()=>{u({target:{name:s,value:null,type:_}})},required:m,value:E})}default:return n.createElement(c.TextInput,{disabled:!0,error:A,label:$,labelAction:i,id:s,hint:T,name:s,placeholder:"Not supported",required:m,type:"text",value:""})}},ke=n.createContext({getPlugin:()=>{},menu:[],plugins:{},settings:{},runHookParallel:()=>Promise.resolve(),runHookWaterfall:()=>Promise.resolve(),runHookSeries:()=>Promise.resolve()}),Gn=({children:e,getPlugin:t,menu:r,plugins:a,runHookParallel:o,runHookSeries:i,runHookWaterfall:l,settings:s})=>{const u=n.useMemo(()=>({getPlugin:t,menu:r,plugins:a,runHookParallel:o,runHookSeries:i,runHookWaterfall:l,settings:s}),[t,r,a,o,i,l,s]);return n.createElement(ke.Provider,{value:u},e)},lt=()=>n.useContext(ke),Jn=({area:e,...t})=>{const{getPlugin:r}=lt(),[a,o,i]=e.split("."),l=r(a);if(!l)return null;const s=l.getInjectedComponents(o,i);return s?s.map(({name:u,Component:d})=>n.createElement(d,{key:u,...t})):null};/**
 * @preserve
 *
 * @deprecated Use @strapi/design-system LinkButton instead.
 */const Zn=e=>n.default.createElement(re.Link,{...e,as:V.NavLink});/**
 * @preserve
 *
 * @deprecated Use @strapi/design-system LinkButton instead.
 */const er=e=>n.default.createElement(re.LinkButton,{...e,as:V.NavLink}),tr=({content:e={id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},...t})=>{const{formatMessage:r}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{...t,icon:n.default.createElement(M.EmptyDocuments,{width:"10rem"}),content:r({id:e.id,defaultMessage:e.defaultMessage},e.values)})},nr=e=>n.default.createElement(c.EmptyStateLayout,{...e,icon:n.default.createElement(M.EmptyPictures,{width:"10rem"})}),rr=({action:e})=>{const{formatMessage:t}=(0,L.useIntl)();return n.default.createElement(c.EmptyStateLayout,{icon:n.default.createElement(M.EmptyPermissions,{width:"10rem"}),content:t({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})},ar=({description:e,error:t,intlLabel:r,labelAction:a,name:o=""})=>{const{formatMessage:i}=(0,L.useIntl)(),l=r?.id?i({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):o,s=e?.id?i({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",u=i({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),d=t?i({id:t,defaultMessage:t}):"";return n.default.createElement(c.TextInput,{disabled:!0,error:d,label:l,labelAction:a,id:o,hint:s,name:o,placeholder:u,startAction:n.default.createElement(or,null),type:"text",value:""})},or=(0,R.default)(M.EyeStriked)`
  & > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,sr=({trackedEvent:e,options:t=["10","20","50","100"],defaultValue:r="10"})=>{const{formatMessage:a}=(0,L.useIntl)(),[{query:o},i]=Y(),{trackUsage:l}=Z(),s=d=>{e&&l(e),i({pageSize:d,page:1})},u=typeof o?.pageSize=="string"&&o?.pageSize!==""?o.pageSize:r;return n.createElement(c.Flex,{gap:2},n.createElement(c.SingleSelect,{size:"S","aria-label":a({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:s,value:u},t.map(d=>n.createElement(c.SingleSelectOption,{key:d,value:d},d))),n.createElement(c.Typography,{textColor:"neutral600",as:"span"},a({id:"components.PageFooter.select",defaultMessage:"Entries per page"})))},lr=({pagination:{pageCount:e},boundaryCount:t=1,siblingCount:r=1})=>{const[{query:a}]=Y(),o=parseInt(a?.page||"1",10),{pathname:i}=(0,V.useLocation)(),{formatMessage:l}=(0,L.useIntl)(),s=h=>(0,oe.stringify)({...a,page:h},{encode:!1}),u=s(o+(e>1?1:0)),d=s(o-1),f=(h,S)=>{const C=S-h+1;return Array.from({length:C},(y,T)=>h+T)},m=f(1,Math.min(t,e)),v=f(Math.max(e-t+1,t+1),e),_=Math.max(Math.min(o-r,e-t-r*2-1),t+2),g=Math.min(Math.max(o+r,t+r*2+2),v.length>0?v[0]-2:e-1),x=[...m,..._>t+2?["start-ellipsis"]:t+1<e-t?[t+1]:[],...f(_,g),...g<e-t-1?["end-ellipsis"]:e-t>t?[e-t]:[],...v];return n.default.createElement(c.Pagination,{activePage:o,pageCount:e},n.default.createElement(c.PreviousLink,{active:!1,to:{pathname:i,search:d}},l({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),x.map(h=>typeof h=="number"?n.default.createElement(c.PageLink,{active:h===o,key:h,number:h,to:{pathname:i,search:s(h)}},l({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:h})):n.default.createElement(c.Dots,{key:h})),n.default.createElement(c.NextLink,{active:!1,to:{pathname:i,search:u}},l({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};var ir=e=>{var t={};return k.d(t,e),t},zs=e=>()=>e,it=ir({components:()=>Be.components,default:()=>Be.default});const cr=({components:e,styles:t,error:r,ariaErrorMessage:a,...o})=>{const i=(0,R.useTheme)(),l=pr(i,r);return n.default.createElement(it.default,{menuPosition:"fixed",components:{ClearIndicator:ur,DropdownIndicator:fr,IndicatorSeparator:()=>null,LoadingIndicator:()=>null,...e},"aria-errormessage":r&&a,"aria-invalid":!!r,styles:{...l,...t},...o})},ct=(0,R.default)(c.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,ur=e=>{const t=it.components.ClearIndicator;return n.default.createElement(t,{...e},n.default.createElement(ct,{as:"button",type:"button"},n.default.createElement(M.Cross,null)))},dr=(0,R.default)(ct)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`,fr=({innerProps:e})=>n.default.createElement(dr,{paddingRight:3,...e},n.default.createElement(M.CarretDown,null)),pr=(e,t)=>({clearIndicator:r=>({...r,padding:0,paddingRight:e.spaces[3]}),container:r=>({...r,background:e.colors.neutral0,lineHeight:"normal"}),control(r,a){let o=e.colors.neutral200,i,l;return a.isFocused?(o=e.colors.primary600,i=e.colors.primary600):t&&(o=e.colors.danger600),a.isDisabled&&(l=`${e.colors.neutral150} !important`),{...r,fontSize:e.fontSizes[2],height:40,border:`1px solid ${o} !important`,outline:0,backgroundColor:l,borderRadius:e.borderRadius,boxShadow:i?`${i} 0px 0px 0px 2px`:""}},indicatorsContainer:r=>({...r,padding:0,paddingRight:e.spaces[3]}),input:r=>({...r,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(r){return{...r,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:r=>({...r,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:r=>({...r,zIndex:100}),option(r,a){let o=r.backgroundColor;return(a.isFocused||a.isSelected)&&(o=e.colors.primary100),{...r,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:o,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:r=>({...r,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(r,a){let o=e.colors.neutral800;return a.isDisabled&&(o=e.colors.neutral600),{...r,marginLeft:0,color:o}},valueContainer:r=>({...r,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});var mr=e=>{var t={};return k.d(t,e),t},Hs=e=>()=>e,ut=mr({intervalToDuration:()=>Ne.intervalToDuration,isPast:()=>Ne.isPast});const _r=["years","months","days","hours","minutes","seconds"],gr=({timestamp:e,customIntervals:t=[]})=>{const{formatRelativeTime:r,formatDate:a,formatTime:o}=(0,L.useIntl)(),i=(0,ut.intervalToDuration)({start:e,end:Date.now()}),l=_r.find(f=>i[f]>0&&Object.keys(i).includes(f)),s=(0,ut.isPast)(e)?-i[l]:i[l],u=t.find(f=>i[f.unit]<f.threshold),d=u?u.text:r(s,l,{numeric:"auto"});return n.default.createElement("time",{dateTime:e.toISOString(),title:`${a(e)} ${o(e)}`},d)},vr=({label:e,placeholder:t,trackedEvent:r,trackedEventDetails:a})=>{const o=n.useRef(null),i=n.useRef(null),[{query:l},s]=Y(),[u,d]=n.useState(l?._q||""),[f,m]=n.useState(!!u),{formatMessage:v}=(0,L.useIntl)(),{trackUsage:_}=Z(),g=()=>m(S=>!S);n.useLayoutEffect(()=>{f&&o.current&&o.current.focus()},[f]);const x=()=>{d(""),s({_q:""},"remove")},h=S=>{S.preventDefault(),u?(r&&_(r,a),s({_q:encodeURIComponent(u),page:1})):(g(),s({_q:""},"remove"))};return f?n.createElement(c.SearchForm,{onSubmit:h},n.createElement(c.Searchbar,{ref:o,name:"search",onChange:S=>d(S.target.value),value:u,clearLabel:v({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,size:"S",placeholder:t},e)):n.createElement(c.IconButton,{ref:i,icon:n.createElement(c.Icon,{as:M.Search,color:"neutral800"}),label:v({id:"global.search",defaultMessage:"Search"}),onClick:g})};var Er=e=>{var t={};return k.d(t,e),t},Qs=e=>()=>e,hr=Er({Helmet:()=>At.Helmet});const br=({name:e})=>{const{formatMessage:t}=(0,L.useIntl)(),r=t({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return n.createElement(hr.Helmet,{title:r})},xr=R.default.div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:t})=>e.colors[t]};
`,yr=({variant:e="primary"})=>{const t=`${e}600`;return n.default.createElement(xr,{backgroundColor:t})},dt=n.createContext({allLayoutData:{components:{}},createActionAllowedFields:[],formErrors:{},hasDraftAndPublish:!1,initialData:{},isCreatingEntry:!1,isSingleType:!1,modifiedData:{},readActionAllowedFields:[],slug:void 0,upateActionAllowedFields:[]}),Tr=()=>n.useContext(dt);var Cr=e=>{var t={};return k.d(t,e),t},Vs=e=>()=>e,ee=Cr({default:()=>Ft.default});const Le=(e,t)=>(0,ee.default)(e,["attributes",t,"type"],""),te=(e,t)=>(0,ee.default)(e,["attributes",...t],"");var Sr=e=>{var t={};return k.d(t,e),t},Xs=e=>()=>e,ft=Sr({createPortal:()=>Rt.createPortal});const Ie=n.createContext({}),kr=30*1e3,Lr=({children:e})=>{const[t,r]=n.useState(!1),[a,o]=n.useState({}),[i,l]=n.useState(!1),s=n.useCallback((_={})=>{r(!0),o(_)},[]),u=n.useCallback(()=>{r(!1),o({})},[]);n.useEffect(()=>{if(t){const _=setTimeout(()=>{l(!0)},kr);return()=>{clearTimeout(_)}}},[t]);let d=a?.icon||"reload",f={id:a?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},m={id:a?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};i&&(d="time",f={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},m={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const v=n.useMemo(()=>({lockAppWithAutoreload:s,unlockAppWithAutoreload:u}),[s,u]);return n.createElement(Ie.Provider,{value:v},n.createElement(Ir,{displayedIcon:d,isOpen:t,description:f,title:m}),e)},Ir=({displayedIcon:e,description:t,title:r,isOpen:a})=>{const{formatMessage:o}=(0,L.useIntl)();return a&&globalThis?.document?.body?(0,ft.createPortal)(n.createElement(Mr,{id:"autoReloadOverlayBlocker",direction:"column",alignItems:"center",gap:6},n.createElement(c.Flex,{direction:"column",alignItems:"center",gap:2},n.createElement(c.Typography,{as:"h1",variant:"alpha"},o(r)),n.createElement(c.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},o(t))),e==="reload"&&n.createElement(pt,{padding:6,background:"primary100",borderColor:"primary200"},n.createElement(Pr,{width:U(36),height:U(36)})),e==="time"&&n.createElement(pt,{padding:6,background:"primary100",borderColor:"primary200"},n.createElement(M.Clock,{width:U(40),height:U(40)})),n.createElement(c.Box,{marginTop:2},n.createElement(re.Link,{href:"https://docs.strapi.io",isExternal:!0},o({id:"global.documentation",defaultMessage:"Read the documentation"})))),globalThis.document.body):null},wr=(0,R.keyframes)`
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  `,Pr=(0,R.default)(M.Refresh)`
  animation: ${wr} 1s infinite linear;
`,Mr=(0,R.default)(c.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
  padding-top: ${U(160)};

  & > * {
    position: relative;
    z-index: 1;
  }

  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:e})=>e.colors.neutral0};
    opacity: 0.9;
  }
`,pt=(0,R.default)(c.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:e})=>e.colors.primary600} !important;
    }
  }
`,Or=()=>n.useContext(Ie),we=n.createContext({get(){},getAll(){return{}}}),Ar=({children:e,customFields:t})=>{const r=t.get.bind(t),a=t.getAll.bind(t),o=n.useMemo(()=>({get:r,getAll:a}),[r,a]);return n.createElement(we.Provider,{value:o},e)},Fr=()=>n.useContext(we),Pe=n.createContext({currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0,setCurrentStep:()=>null,setGuidedTourVisibility:()=>null,setSkipped:()=>null,setStepState:()=>null,startSection:()=>null}),Rr=({children:e,currentStep:t=null,guidedTourState:r,isGuidedTourVisible:a=!1,isSkipped:o,setCurrentStep:i,setGuidedTourVisibility:l,setSkipped:s,setStepState:u,startSection:d})=>{const f=n.useMemo(()=>({currentStep:t,guidedTourState:r,isGuidedTourVisible:a,isSkipped:o,setCurrentStep:i,setGuidedTourVisibility:l,setSkipped:s,setStepState:u,startSection:d}),[t,r,a,o,i,l,s,u,d]);return n.createElement(Pe.Provider,{value:f},e)},$r=()=>n.useContext(Pe),Me=n.createContext({}),Dr=({children:e,fields:t,components:r})=>{const a=n.useMemo(()=>({fields:t,components:r}),[t,r]);return n.createElement(Me.Provider,{value:a},e)},Br=()=>n.useContext(Me),Oe=n.createContext({}),Nr=({children:e})=>{const[t,r]=n.useState(!1),a=n.useCallback(()=>{r(!0)},[]),o=n.useCallback(()=>{r(!1)},[]),i=n.useMemo(()=>({lockApp:a,unlockApp:o}),[a,o]);return n.createElement(Oe.Provider,{value:i},e,t&&globalThis?.document?.body?(0,ft.createPortal)(n.createElement(jr,{id:"overlayBlocker"}),globalThis.document.body):null)},jr=(0,R.default)(c.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
`,Ur=()=>n.useContext(Oe),Wr="apiError.";function mt(e,t){const r=`${Wr}${e}`;return typeof t=="function"?t(r):r}function _t(e,{name:t,intlMessagePrefixCallback:r}){const{message:a}=e,o={id:mt(a,r),defaultMessage:a,name:e.name??t,values:{}};return"path"in e&&(o.values={path:e.path.join(".")}),o}const qr=e=>typeof e.details=="object"&&e.details!==null&&"errors"in e.details;function Ae(e,t){const r=e.response?.data.error;return r?qr(r)?{name:r.name,message:r?.message||null,errors:r.details.errors.map(a=>_t(a,{name:r.name,intlMessagePrefixCallback:t}))}:_t(r,{intlMessagePrefixCallback:t}):null}function Yr(e){const{formatMessage:t}=(0,L.useIntl)();return{formatAPIError(r){try{const a=Hr(r,{intlMessagePrefixCallback:e,formatMessage:t});return a||zr(r,{intlMessagePrefixCallback:e,formatMessage:t})}catch{throw new Error("formatAPIError: Unknown error:",r)}}}}function zr(e,{intlMessagePrefixCallback:t,formatMessage:r}){const{code:a,message:o}=e;return r({id:mt(o,t),defaultMessage:o},{code:a})}function Hr(e,{formatMessage:t,intlMessagePrefixCallback:r}){if(!t)throw new Error("The formatMessage callback is a mandatory argument.");const a=Ae(e,r);return a?"message"in a&&a.message!==null?a.message:"errors"in a?a.errors.map(({id:o,defaultMessage:i,values:l})=>t({id:o,defaultMessage:i},l)).join(`
`):t(a):null}const Qr=()=>({copy:(0,n.useCallback)(async t=>{try{if(typeof t!="string"&&typeof t!="number")throw new Error(`Cannot copy typeof ${typeof t} to clipboard, must be a string`);if(t==="")throw new Error("Cannot copy empty string to clipboard.");const r=t.toString();return await navigator.clipboard.writeText(r),!0}catch{return!1}},[])}),Fe=new Map;function gt(e,t){const r=e+(t?Object.entries(t).sort((o,i)=>o[0]<i[0]?-1:1).join():"");if(Fe.has(r))return Fe.get(r);const a=new Intl.Collator(e,t);return Fe.set(r,a),a}const vt=()=>{const e=(0,n.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,n.useEffect)(()=>()=>{e.current.abort()},[]),(0,n.useMemo)(()=>ve({signal:e.current.signal}),[])};function Vr(e,t){const r=gt(e,{usage:"search",...t});return{startsWith(a,o){return o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),r.compare(a.slice(0,o.length),o)===0)},endsWith(a,o){return o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),r.compare(a.slice(-o.length),o)===0)},includes(a,o){if(o.length===0)return!0;a=a.normalize("NFC"),o=o.normalize("NFC");let i=0;const l=o.length;for(;i+l<=a.length;i++){const s=a.slice(i,i+l);if(r.compare(o,s)===0)return!0}return!1}}}const Xr=({selector:e="main",dependencies:t=[]}={})=>{n.useEffect(()=>{const r=document.querySelector(e);r?(r.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},t)},Kr=({lockScroll:e})=>{n.useEffect(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])},Gr=(e,t)=>{const[r,a]=(0,n.useState)(()=>{const o=window.localStorage.getItem(e);if(o!==null)try{return JSON.parse(o)}catch{return o}return t});return(0,n.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(r))},[e,r]),[r,a]};var Jr=e=>{var t={};return k.d(t,e),t},Ks=e=>()=>e,Zr=Jr({useQueries:()=>$t.useQueries});const ea=(e,t)=>{const[r,a]=(0,n.useState)(!1),o=(0,n.useMemo)(()=>Object.keys(e).map(g=>({name:g,hasPermission:!1})),[e]),{allPermissions:i}=ae(),{post:l}=vt(),s=t||i,u=Object.entries(e),d=(0,Zr.useQueries)(u.map(([g,x])=>({queryKey:["useRBAC",g,x,s],async queryFn(){if(!x||!x.length)return{name:g,hasPermission:!0};if(!s)return;const h=s.filter(S=>x.find(y=>y.action===S.action&&y.subject===S.subject)!==void 0);if(h.length>0&&h.every(S=>Array.isArray(S.conditions)&&S.conditions.length>0))try{const{data:{data:S}}=await l("/admin/permissions/check",{permissions:h.map(({action:C,subject:y})=>({action:C,subject:y}))});return{name:g,hasPermission:Array.isArray(S)&&S.every(C=>C===!0)}}catch{return{name:g,hasPermission:!1}}return{name:g,hasPermission:h.length>0}}}))),f=(0,n.useCallback)(()=>{a(!0)},[]),m=r||d.some(g=>g.isLoading),v=d.map(g=>g.data);return{allowedActions:(v.some(g=>g===void 0)?o:v).reduce((g,x)=>{if(!x)return g;const{name:h,hasPermission:S}=x;return g[`can${ta(h)}`]=S,g},{}),isLoading:m,setIsLoading:f}},ta=e=>e.charAt(0).toUpperCase()+e.slice(1),na=(e,t)=>{const[r,a]=(0,n.useState)(t);return[r,{selectOne:d=>{const f=r.findIndex(m=>e.every(v=>m[v]===d[v]));f>-1?a(m=>[...m.slice(0,f),...m.slice(f+1)]):a(m=>[...m,d])},selectAll:d=>{r.length>0?a([]):a(d)},selectOnly:d=>{r.indexOf(d)>-1?a([]):a([d])},selectMultiple:d=>{a(f=>[...f,...d.filter(m=>f.findIndex(v=>e.every(_=>v[_]===m[_]))===-1)])},deselectMultiple:d=>{a(f=>[...f.filter(m=>d.findIndex(v=>e.every(_=>m[_]===v[_]))===-1)])},setSelections:a}]},ra=(0,R.default)(c.IconButton)(({theme:e})=>`
  border-radius: ${U(30)};
  width: ${U(20)};
  height: ${U(20)};
  padding: ${U(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${U(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`),aa=e=>n.default.createElement(ra,{icon:n.default.createElement(M.Minus,null),...e}),oa=["createdBy","updatedBy","publishedAt","id","_id"],sa=(e,t,r,a=oa)=>{const o=(i,l)=>Object.keys(i).reduce((s,u)=>{const d=Le(l,u),f=(0,ee.default)(i,u),m=te(l,[u,"component"]),v=te(l,[u,"repeatable"]);let _=(0,ee.default)(l,["options","timestamps"]);return Array.isArray(_)||(_=[]),[...a,..._].indexOf(u)!==-1?(delete s[u],s):f?d==="dynamiczone"&&Array.isArray(f)?(s[u]=f.map(g=>o(g,r[g.__component])),s):(d==="component"&&(v&&Array.isArray(f)?s[u]=f.map(g=>o(g,r[m])):s[u]=o(f,r[m])),s):s},Object.assign({},i));return o(e,t)},la=(e,t,r)=>{const a=(o,i)=>Object.keys(o).reduce((l,s)=>{const u=Le(i,s),d=(0,ee.default)(o,s),f=te(i,[s,"component"]),m=te(i,[s,"repeatable"]);if(u==="json"&&d!==void 0)return l[s]=JSON.stringify(d,null,2),l;if(!d)return l[s]=d,l;if(u==="dynamiczone"&&Array.isArray(d))return l[s]=d.map(v=>a(v,r[v.__component])),l;if(u==="component"){let v;return m&&Array.isArray(d)?v=d.map((_,g)=>{const x={..._,__temp_key__:g};return a(x,r[f])}):v=a(d,r[f]),l[s]=v,l}return l[s]=d,l},{});return a(e,t)},ia=(e,t)=>e.then(function(r){return[null,r]}).catch(function(r){return t&&Object.assign(r,t),[r,void 0]});var ca=e=>{var t={};return k.d(t,e),t},Gs=e=>()=>e,ua=ca({default:()=>Dt.default}),da=e=>{var t={};return k.d(t,e),t},Js=e=>()=>e,Et=da({default:()=>Bt.default}),fa=e=>{var t={};return k.d(t,e),t},Zs=e=>()=>e,pa=fa({default:()=>Nt.default});function ma(e,t){function r(a,o){return(0,pa.default)(a,(i,l,s)=>((0,ua.default)(l,o[s])||(i[s]=(0,Et.default)(l)&&(0,Et.default)(o[s])?r(l,o[s]):l),i))}return r(e,t)}/**
 *
 * Returns a normalized error message
 *
 * @deprecated
 * @preserve
 */function _a(e,{getTrad:t}){const r=Ae(e,t);return r&&"errors"in r?r.errors.reduce((a,o)=>("path"in o.values&&(a[o.values.path]={id:o.id,defaultMessage:o.defaultMessage}),a),{}):r?.defaultMessage}const ga=e=>e&&e[0]==="."?e.substr(1):e,va=(e,t)=>!e||!t?{}:{[e]:t[e]},Ea=e=>(e?.inner||[]).reduce((t,r)=>(r.path&&(t[r.path.split("[").join(".").split("]").join("")]={id:r.message,defaultMessage:r.message,values:va(r?.type,r?.params)}),t),{}),ha=e=>e&&e.startsWith("/")?`${window.strapi.backendURL}${e}`:e,ba=(e,t)=>{if(!t)throw new TypeError("pluginId can't be empty");return Object.keys(e).reduce((r,a)=>(r[`${t}.${a}`]=e[a],r),{})};var xa=e=>{var t={};return k.d(t,e),t},el=e=>()=>e,ya=xa({default:()=>jt.default});async function ht(e){return e instanceof Response?e.json():e}async function Ta(e,t=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&O.getToken()&&t&&(O.clearAppStorage(),window.location.reload()),ht(e).then(r=>{const a=new Error(e.statusText);throw a.response=e,a.response.payload=r,a}).catch(()=>{const r=new Error(e.statusText);throw r.response=e,r}))}function Ca(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}async function bt(e){return new Promise(t=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",keepalive:!1,headers:{"Content-Type":"application/json"}}).then(r=>{if(r.status>=400)throw new Error("not available");t(e)}).catch(()=>{setTimeout(()=>bt(e).then(t),100)})})}const Sa=Je(console.warn);async function ka(e,t={},r,a=!0,{noAuth:o}={noAuth:!1}){Sa("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead."),t.headers||(t.headers=Object.assign({"Content-Type":"application/json"},t.headers));const i=O.getToken();if(i&&!o&&(t.headers=Object.assign({Authorization:`Bearer ${i}`},t.headers)),e=(0,ya.default)(e,"/")?`${window.strapi.backendURL}${e}`:e,t&&t.params){const l=Ca(t.params);e=`${e}?${l}`}return t&&t.body&&a&&(t.body=JSON.stringify(t.body)),fetch(e,t).then(Ta).then(ht).then(l=>r?bt(l):l)}const La=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,xt={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},Ia=({fn:e,condition:t=!0})=>{if(t)return{style:{cursor:"pointer"},onClick:e}},wa=()=>n.createElement("div",xt),Pa={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"},tl=null;function Ma(e){const r=()=>{};return{request:(...o)=>(r(),e.request(...o)),get:(...o)=>(r(),e.get(...o)),head:(...o)=>(r(),e.head(...o)),delete:(...o)=>(r(),e.delete(...o)),options:(...o)=>(r(),e.options(...o)),post:(...o)=>(r(),e.post(...o)),put:(...o)=>(r(),e.put(...o)),patch:(...o)=>(r(),e.patch(...o)),getUri:(...o)=>(r(),e.getUri(...o))}}var Oa=p.Hn,Aa=p.xC,Fa=p.iq,Ra=p.NY,$a=p.OB,Da=p.ug,Ba=p.m$,Na=p.uT,ja=p.O4,Ua=p.jW,Wa=p.QH,qa=p.Y_,Ya=p.W1,za=p.vq,Ha=p.MG,Qa=p.xZ,Va=p.tM,Xa=p.c4,Ka=p.x7,Ga=p.W$,Ja=p.J5,Za=p.l0,eo=p.jm,to=p.JQ,no=p.Zc,ro=p.XL,ao=p.Hw,oo=p.rt,so=p.rU,lo=p.Qj,io=p.dO,co=p.dJ,uo=p.Hz,fo=p.ZF,po=p.X0,mo=p.cJ,_o=p.N$,go=p.vG,vo=p.w7,Eo=p.v4,ho=p.tU,bo=p.RM,xo=p.oL,yo=p.JV,To=p.ij,Co=p.fG,So=p.fC,ko=p.m,Lo=p.SL,Io=p.fz,wo=p.qb,Po=p.t3,Mo=p.Bg,Oo=p._Y,Ao=p.iA,Fo=p.Ui,Ro=p.L8,$o=p.I8,Do=p.w6,Bo=p.e5,No=p.ZT,jo=p.dU,Uo=p.nn,Wo=p.tg,qo=p.mD,Yo=p.k2,zo=p.UN,Ho=p.CJ,Qo=p.qX,Vo=p.OT,Xo=p.X7,Ko=p.CR,Go=p.jV,Jo=p.Q1,Zo=p.WY,es=p.YB,ts=p.UW,ns=p.to,rs=p.I0,as=p.So,os=p.L7,ss=p.QI,ls=p.Vu,is=p.Wq,cs=p.W6,us=p.VP,ds=p.Xe,fs=p.mZ,ps=p.kY,ms=p.L0,_s=p.E2,gs=p.go,vs=p.c1,Es=p.yX,hs=p.F5,bs=p.lm,xs=p.o1,ys=p.Yw,Ts=p.aM,Cs=p.Kx,Ss=p.ss,ks=p.vn,Ls=p.Uq,Is=p.j1,ws=p.Sh,Ps=p.rS,Ms=p.Od;export{Oa as AnErrorOccurred,Aa as AppInfoContext,Fa as AppInfoProvider,Ra as AppInfosContext,$a as AppInfosProvider,Da as AutoReloadOverlayBlockerContext,Ba as AutoReloadOverlayBlockerProvider,Na as Body,ja as CheckPagePermissions,Ua as CheckPermissions,Wa as ConfirmDialog,qa as ContentBox,Ya as ContentManagerEditViewDataManagerContext,za as CustomFieldsContext,Ha as CustomFieldsProvider,Qa as DateTimePicker,Va as DynamicTable,Xa as EmptyBodyTable,Ka as EmptyStateLayout,Ga as FilterListURLQuery,Ja as FilterPopoverURLQuery,Za as Form,eo as GenericInput,to as GuidedTourContext,no as GuidedTourProvider,ro as InjectionZone,ao as LibraryContext,oo as LibraryProvider,so as Link,lo as LinkButton,io as LoadingIndicatorPage,co as NoContent,uo as NoMedia,fo as NoPermissions,po as NotAllowedInput,mo as NotificationsContext,_o as NotificationsProvider,go as OverlayBlockerContext,vo as OverlayBlockerProvider,Eo as PageSizeURLQuery,ho as PaginationURLQuery,bo as RBACContext,xo as RBACProviderContext,yo as ReactSelect,To as RelativeTime,Co as RemoveRoundedButton,So as Root,ko as SearchURLQuery,Lo as SettingsPageTitle,Io as SortIcon,wo as Status,Po as StopPropagation,Mo as StrapiAppContext,Oo as StrapiAppProvider,Ao as Table,Fo as TrackingContext,Ro as TrackingProvider,$o as auth,Do as contentManagementUtilRemoveFieldsFromData,Bo as difference,No as findMatchingPermissions,jo as formatContentTypeData,Uo as getAPIInnerErrors,Wo as getFetchClient,qo as getFileExtension,Yo as getOtherInfos,zo as getType,Ho as getYupInnerErrors,Qo as hasPermissions,Vo as normalizeAPIError,Xo as onRowClick,Ko as prefixFileUrlWithBackendUrl,Go as prefixPluginTranslations,Jo as pxToRem,Zo as request,es as setHexOpacity,ts as stopPropagation,ns as to,rs as translatedErrors,as as useAPIErrorHandler,os as useAppInfo,ss as useAppInfos,ls as useAutoReloadOverlayBlocker,is as useCMEditViewDataManager,cs as useCallbackRef,us as useClipboard,ds as useCollator,fs as useCustomFields,ps as useFetchClient,ms as useFilter,_s as useFocusInputField,gs as useFocusWhenNavigate,vs as useGuidedTour,Es as useLibrary,hs as useLockScroll,bs as useNotification,xs as useOverlayBlocker,ys as usePersistentState,Ts as useQuery,Cs as useQueryParams,Ss as useRBAC,ks as useRBACProvider,Ls as useSelectionState,Is as useStrapiApp,ws as useTableContext,Ps as useTracking,Ms as wrapAxiosInstance};
