(function(){"use strict";var _={};(function(){_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,{a:t}),t}})(),function(){_.d=function(e,t){for(var n in t)_.o(t,n)&&!_.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){_.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var G={};_.r(G),_.d(G,{AnErrorOccurred:function(){return ht},AppInfoContext:function(){return oe},AppInfoProvider:function(){return ze},AppInfosContext:function(){return qt},AppInfosProvider:function(){return Nt},AutoReloadOverlayBlockerContext:function(){return Te},AutoReloadOverlayBlockerProvider:function(){return wn},Body:function(){return ge},CheckPagePermissions:function(){return _t},CheckPermissions:function(){return Ft},ConfirmDialog:function(){return H},ContentBox:function(){return Rt},ContentManagerEditViewDataManagerContext:function(){return nt},CustomFieldsContext:function(){return Ce},CustomFieldsProvider:function(){return Bn},DateTimePicker:function(){return Bt},DynamicTable:function(){return Wt},EmptyBodyTable:function(){return We},EmptyStateLayout:function(){return ve},FilterListURLQuery:function(){return Qt},FilterPopoverURLQuery:function(){return Jt},Form:function(){return Zt},GenericInput:function(){return rn},GuidedTourContext:function(){return Ie},GuidedTourProvider:function(){return Nn},InjectionZone:function(){return on},LibraryContext:function(){return Me},LibraryProvider:function(){return Un},Link:function(){return sn},LinkButton:function(){return ln},LoadingIndicatorPage:function(){return Ue},NoContent:function(){return cn},NoMedia:function(){return un},NoPermissions:function(){return dn},NotAllowedInput:function(){return fn},NotificationsContext:function(){return se},NotificationsProvider:function(){return Et},OverlayBlockerContext:function(){return xe},OverlayBlockerProvider:function(){return zn},PageSizeURLQuery:function(){return gn},PaginationURLQuery:function(){return pn},RBACContext:function(){return ie},RBACProviderContext:function(){return yt},ReactSelect:function(){return En},RelativeTime:function(){return Cn},RemoveRoundedButton:function(){return ir},Root:function(){return me},SearchURLQuery:function(){return In},SettingsPageTitle:function(){return xn},SortIcon:function(){return Ee},Status:function(){return Pn},StopPropagation:function(){return $r},StrapiAppContext:function(){return be},StrapiAppProvider:function(){return an},Table:function(){return Vt},TrackingContext:function(){return he},TrackingProvider:function(){return Ut},auth:function(){return F},contentManagementUtilRemoveFieldsFromData:function(){return ur},difference:function(){return vr},findMatchingPermissions:function(){return qe},formatContentTypeData:function(){return dr},getAPIInnerErrors:function(){return yr},getFetchClient:function(){return ue},getFileExtension:function(){return br},getOtherInfos:function(){return Z},getType:function(){return Se},getYupInnerErrors:function(){return Tr},hasPermissions:function(){return de},normalizeAPIError:function(){return Le},onRowClick:function(){return wr},prefixFileUrlWithBackendUrl:function(){return Cr},prefixPluginTranslations:function(){return Ir},pxToRem:function(){return B},request:function(){return _r},setHexOpacity:function(){return Fr},stopPropagation:function(){return ft},to:function(){return fr},translatedErrors:function(){return kr},useAPIErrorHandler:function(){return Gn},useAppInfo:function(){return pe},useAppInfos:function(){return jt},useAutoReloadOverlayBlocker:function(){return Dn},useCMEditViewDataManager:function(){return On},useCallbackRef:function(){return Fe},useClipboard:function(){return Xn},useCollator:function(){return lt},useCustomFields:function(){return jn},useFetchClient:function(){return it},useFilter:function(){return Zn},useFocusInputField:function(){return Ke},useFocusWhenNavigate:function(){return er},useGuidedTour:function(){return qn},useLibrary:function(){return Yn},useLockScroll:function(){return tr},useNotification:function(){return le},useOverlayBlocker:function(){return Hn},usePersistentState:function(){return nr},useQuery:function(){return Je},useQueryParams:function(){return N},useRBAC:function(){return ar},useRBACProvider:function(){return te},useSelectionState:function(){return sr},useStrapiApp:function(){return Xe},useTableContext:function(){return U},useTracking:function(){return K},wrapAxiosInstance:function(){return Rr}});var o=require("react"),m=_.n(o),c=require("@strapi/design-system"),O=require("@strapi/icons"),M=require("react-intl");const ht=({content:e={id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}},...t})=>{const{formatMessage:n}=(0,M.useIntl)();return o.createElement(c.EmptyStateLayout,{...t,icon:o.createElement(O.ExclamationMarkCircle,{width:"10rem"}),content:n({id:e.id,defaultMessage:e.defaultMessage},e.values)})};var z=require("react-router-dom"),ee=require("@strapi/design-system/v2");const Fe=e=>{const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>t.current?.(...n),[])},se=o.createContext(null),Et=({children:e})=>{const t=o.useRef(0),[n,r]=o.useState([]),a=o.useCallback(({type:s,message:u,link:d,timeout:f,blockTransition:g,onClose:E,title:p})=>{r(h=>[...h,{id:t.current++,type:s,message:u,link:d,timeout:f,blockTransition:g,onClose:E,title:p}])},[]),i=o.useCallback(s=>{r(u=>u.filter(d=>d.id!==s))},[]),l=o.useMemo(()=>({toggleNotification:a}),[a]);return o.createElement(se.Provider,{value:l},o.createElement(c.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},n.map(s=>o.createElement(vt,{key:s.id,...s,clearNotification:i}))),e)},vt=({clearNotification:e,blockTransition:t=!1,id:n,link:r,message:a={id:"notification.success.saved",defaultMessage:"Saved"},onClose:i,timeout:l=2500,title:s="success",type:u})=>{const{formatMessage:d}=(0,M.useIntl)(),f=Fe(i),g=o.useCallback(()=>{f(),e(n)},[e,n,f]);o.useEffect(()=>{if(!t){const h=setTimeout(()=>{g()},l);return()=>{clearTimeout(h)}}},[t,g,l]);let E,p;return u==="info"?(E="default",p=d({id:"notification.default.title",defaultMessage:"Information:"})):u==="warning"?(E="danger",p=d({id:"notification.warning.title",defaultMessage:"Warning:"})):u==="softWarning"?(E="warning",p=d({id:"notification.warning.title",defaultMessage:"Warning:"})):(E="success",p=d({id:"notification.success.title",defaultMessage:"Success:"})),s&&(p=typeof s=="string"?s:d({id:s.id,defaultMessage:s.defaultMessage??s.id},s.values)),o.createElement(c.Alert,{action:r?o.createElement(ee.Link,{href:r.url,isExternal:!0},d({id:typeof r.label=="object"?r.label.id:r.label,defaultMessage:typeof r.label=="object"?r.label.defaultMessage??r.label.id:r.label})):void 0,onClose:g,closeLabel:d({id:"global.close",defaultMessage:"Close"}),title:p,variant:E},d({id:typeof a=="object"?a.id:a,defaultMessage:typeof a=="object"?a.defaultMessage??a.id:a},typeof a=="object"?a.values:void 0))};/**
 * @preserve
 * @description Returns an object to interact with the notification
 * system. The callbacks are wrapped in `useCallback` for a stable
 * identity.
 *
 * @example
 * ```tsx
 * import { useNotification } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { toggleNotification } = useNotification();
 *
 *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
 */const le=()=>o.useContext(se)?.toggleNotification,ie=o.createContext({}),yt=ie,te=()=>o.useContext(ie);var bt=require("axios"),we=_.n(bt),ne=require("qs"),St=_.n(ne),Tt=require("lodash/isEmpty"),Ct=_.n(Tt),It=require("lodash/isNil"),$e=_.n(It);const re="jwtToken",ce="userInfo",ke="GUIDED_TOUR_CURRENT_STEP",Re="GUIDED_TOUR_COMPLETED_STEPS",Ae="GUIDED_TOUR_SKIPPED",De="STRAPI_THEME",Be="STRAPI_UPLOAD_MODAL_VIEW",je="STRAPI_UPLOAD_LIBRARY_VIEW",Ne=JSON.parse,j=JSON.stringify,F={clear(e){return localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=F.get("videos"),t=F.get("onboarding"),n=F.get("STRAPI_UPDATE_NOTIF"),r=localStorage.getItem("strapi-admin-language"),a=F.get(ke),i=F.get(Re),l=F.get(Ae),s=F.get(De),u=F.get(je),d=F.get(Be);localStorage.clear(),localStorage.setItem("videos",j(e)),localStorage.setItem(ke,j(a)),localStorage.setItem(Re,j(i)),localStorage.setItem(Ae,j(l)),localStorage.setItem("STRAPI_UPDATE_NOTIF",j(n)),t&&localStorage.setItem("onboarding",j(t)),r&&localStorage.setItem("strapi-admin-language",r),s&&localStorage.setItem(De,s),$e()(u)||localStorage.setItem(je,j(u)),$e()(d)||localStorage.setItem(Be,j(d))}sessionStorage.clear()},get(e){const t=localStorage.getItem(e);if(t)try{return Ne(t)}catch{return t}const n=sessionStorage.getItem(e);if(n)try{return Ne(n)}catch{return n}return null},set(e,t,n){return Ct()(e)?null:n?localStorage.setItem(t,j(e)):sessionStorage.setItem(t,j(e))},clearToken(e=re){F.clear(e)},clearUserInfo(e=ce){return F.clear(e)},getToken(e=re){return F.get(e)},getUserInfo(e=ce){return F.get(e)},setToken(e="",t=!1,n=re){F.set(e,n,t)},setUserInfo(e,t=!1,n=ce){F.set(e,n,t)},updateToken(e=""){const t=Boolean(localStorage.getItem(re));F.setToken(e,t)}},J=(()=>{const e=we().create({headers:{Accept:"application/json","Content-Type":"application/json"},paramsSerializer:t=>St().stringify(t,{encode:!1})});return e.interceptors.request.use(async t=>(t.headers.Authorization=`Bearer ${F.getToken()}`,t),t=>Promise.reject(t)),e.interceptors.response.use(t=>t,t=>{throw t?.response?.status===401&&(F.clearAppStorage(),window.location.reload()),t}),e})(),Mt=e=>e.charAt(0)!=="/"?`/${e}`:e,xt=e=>new RegExp("^(?:[a-z+]+:)?//","i").test(e),ae=e=>xt(e)?e:Mt(e),ue=(e={})=>(J.defaults.baseURL=window.strapi.backendURL,{get:(t,n)=>J.get(ae(t),{...e,...n}),put:(t,n,r)=>J.put(ae(t),n,{...e,...r}),post:(t,n,r)=>J.post(ae(t),n,{...e,...r}),del:(t,n)=>J.delete(ae(t),{...e,...n})}),qe=(e,t)=>e.reduce((n,r)=>(t.find(i=>i.action===r.action&&i.subject===r.subject)&&n.push(r),n),[]),Lt=e=>e.map(t=>{if(!t.action)return{};const n={action:t.action};return t.subject&&(n.subject=t.subject),n}),Pt=e=>e.length>0&&e.every(t=>Array.isArray(t.conditions)&&t.conditions.length>0),de=async(e,t,n)=>{if(!t||!t.length)return!0;const r=qe(e,t);if(Pt(r)){let a=!1;try{const{data:{data:i}}=await ue().post("/admin/permissions/check",{permissions:Lt(r)},{signal:n});a=i.every(l=>l===!0)}catch(i){console.error("Error while checking permissions",i)}return a}return r.length>0};var fe=require("styled-components"),R=_.n(fe);const Ot=R()(c.Flex)`
  height: 100vh;
`,Ue=({children:e="Loading content.","data-testid":t="loader"})=>o.createElement(Ot,{justifyContent:"space-around","data-testid":t},o.createElement(c.Loader,null,e)),_t=({permissions:e=[],children:t})=>{const n=new AbortController,{signal:r}=n,{allPermissions:a}=te(),i=le(),[l,s]=o.useState({isLoading:!0,canAccess:!1}),u=o.useRef(!0);return o.useEffect(()=>((async()=>{try{s({isLoading:!0,canAccess:!1});const f=await de(a||[],e,r);u.current&&s({isLoading:!1,canAccess:f})}catch(f){u.current&&(console.error(f),i?.({type:"warning",message:{id:"notification.error"}}),s({isLoading:!1,canAccess:!1}))}})(),()=>{n.abort()}),[e]),o.useEffect(()=>()=>{u.current=!1},[]),l.isLoading?o.createElement(Ue,null):l.canAccess?t:o.createElement(z.Redirect,{to:"/"})},Ft=({permissions:e=[],children:t})=>{const{allPermissions:n}=te(),r=le(),[a,i]=o.useState({isLoading:!0,canAccess:!1}),l=o.useRef(!0),s=new AbortController,{signal:u}=s;return o.useEffect(()=>((async()=>{try{i({isLoading:!0,canAccess:!1});const f=await de(n||[],e,u);l.current&&i({isLoading:!1,canAccess:f})}catch(f){l.current&&(console.error(f),r?.({type:"warning",message:{id:"notification.error"}}),i({isLoading:!1,canAccess:!1}))}})(),()=>{s.abort()}),[e]),o.useEffect(()=>()=>{l.current=!1},[]),a.isLoading||!a.canAccess?null:t},me=({children:e,iconRightButton:t,isConfirmButtonLoading:n=!1,isOpen:r,onConfirm:a,onToggleDialog:i,leftButtonText:l={id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:s={id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:u={id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:d="danger-light",...f})=>{const{formatMessage:g}=(0,M.useIntl)();return m().createElement(c.Dialog,{onClose:i,title:g({id:u.id,defaultMessage:u.defaultMessage}),isOpen:r,id:"confirmation",...f},m().createElement(c.Box,{id:"confirm-description"},e),m().createElement(wt,{iconRightButton:t,isConfirmButtonLoading:n,leftButtonText:l,onConfirm:a,onToggleDialog:i,rightButtonText:s,variantRightButton:d}))},ge=({iconBody:e=m().createElement(O.ExclamationMarkCircle,null),children:t})=>m().createElement(c.DialogBody,{icon:e},m().createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:2},m().createElement(c.Flex,{justifyContent:"center"},t))),wt=({iconRightButton:e=m().createElement(O.Trash,null),isConfirmButtonLoading:t,leftButtonText:n,onConfirm:r,onToggleDialog:a,rightButtonText:i,variantRightButton:l})=>{const{formatMessage:s}=(0,M.useIntl)();return m().createElement(c.DialogFooter,{startAction:m().createElement(c.Button,{onClick:a,variant:"tertiary"},s({id:n.id,defaultMessage:n.defaultMessage})),endAction:m().createElement(c.Button,{onClick:r,variant:l,startIcon:e,id:"confirm-delete",loading:t},s({id:i.id,defaultMessage:i.defaultMessage}))})},H=({bodyText:e={id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},...t})=>{const{formatMessage:n}=(0,M.useIntl)();return m().createElement(me,{...t},m().createElement(ge,null,m().createElement(c.Typography,{variant:"omega"},n({id:e.id,defaultMessage:e.defaultMessage}))))};H.Root=me,H.Body=ge;const $t=R()(c.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,kt=R()(c.Typography)`
  word-break: break-all;
`,Rt=({title:e,subtitle:t,icon:n,iconBackground:r,endAction:a,titleEllipsis:i=!1})=>(e&&e.length>70&&i&&(e=`${e.substring(0,70)}...`),m().createElement(c.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},m().createElement($t,{background:r,hasRadius:!0,padding:3},n),m().createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:a?0:1},m().createElement(c.Flex,null,m().createElement(kt,{fontWeight:"semiBold",variant:"pi"},e),a),m().createElement(c.Typography,{textColor:"neutral600"},t)))),At="[@strapi/helper-plugin]:",Ye=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${At} once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Dt=Ye(console.warn),Bt=e=>(Dt(`
      Deprecation warning: Usage of "DateTimePicker" component from the helper-plugin is deprecated and will be removed in the next major release. Instead, use the DateTimePicker from the Design System: import { DateTimePicker } from '@strapi/design-system';"
    `),o.createElement(c.DateTimePicker,{...e})),oe=o.createContext({}),ze=({children:e,autoReload:t,communityEdition:n,currentEnvironment:r,dependencies:a,latestStrapiReleaseTag:i,nodeVersion:l,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:d,strapiVersion:f,useYarn:g,userDisplayName:E,userId:p})=>{const h=o.useMemo(()=>({autoReload:t,communityEdition:n,currentEnvironment:r,dependencies:a,latestStrapiReleaseTag:i,nodeVersion:l,projectId:s,setUserDisplayName:u,shouldUpdateStrapi:d,strapiVersion:f,useYarn:g,userDisplayName:E,userId:p}),[t,n,r,a,i,l,s,u,d,f,g,E,p]);return o.createElement(oe.Provider,{value:h},e)},pe=()=>o.useContext(oe);/**
 * @preserve
 * @deprecated use useAppInfo instead
 */const jt=pe;/**
 * @preserve
 * @deprecated use AppInfoProvider instead
 */const Nt=ze;/**
 * @preserve
 * @deprecated use AppInfoContext instead
 */const qt=oe,he=o.createContext({uuid:!1}),Ut=({value:e={uuid:!1},children:t})=>{const n=o.useMemo(()=>e,[e]);return o.createElement(he.Provider,{value:n},t)},K=()=>{const{uuid:e,telemetryProperties:t,deviceId:n}=o.useContext(he),a=pe()?.userId;return{trackUsage:o.useCallback(async(l,s)=>{try{if(e&&!window.strapi.telemetryDisabled)return await we().post("https://analytics.strapi.io/api/v2/track",{event:l,userId:a,deviceId:n,eventProperties:{...s},userProperties:{},groupProperties:{...t,projectId:e,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json","X-Strapi-Event":l}})}catch{}return null},[n,t,a,e])}},N=e=>{const{search:t}=(0,z.useLocation)(),{push:n}=(0,z.useHistory)(),r=(0,o.useMemo)(()=>{const i=t.substring(1);return t?(0,ne.parse)(i):e},[t,e]),a=(0,o.useCallback)((i,l="push")=>{let s={...r};l==="remove"?Object.keys(i).forEach(u=>{Object.prototype.hasOwnProperty.call(s,u)&&delete s[u]}):s={...r,...i},n({search:(0,ne.stringify)(s,{encode:!1})})},[n,r]);return[{query:r,rawQuery:t},a]},Yt={isUp:!0},Ee=R()(O.CarretDown).withConfig({shouldForwardProp:(e,t)=>!Yt[e]&&t(e)})`
  transform: ${({isUp:e=!1})=>`rotate(${e?"180":"0"}deg)`};
`,zt={document:O.EmptyDocuments,media:O.EmptyPictures,permissions:O.EmptyPermissions},ve=({action:e,content:t={id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found"},hasRadius:n=!0,icon:r="document",shadow:a="tableShadow"})=>{const i=zt[r],{formatMessage:l}=(0,M.useIntl)();return m().createElement(c.EmptyStateLayout,{action:e,content:l({id:t.id,defaultMessage:t.defaultMessage},t.values),hasRadius:n,icon:m().createElement(i,{width:"10rem"}),shadow:a})},We=({colSpan:e,isLoading:t=!1,...n})=>t?m().createElement(c.Tbody,null,m().createElement(c.Tr,null,m().createElement(c.Td,{colSpan:e},m().createElement(c.Flex,{justifyContent:"center"},m().createElement(c.Box,{padding:11,background:"neutral0"},m().createElement(c.Loader,null,"Loading content...")))))):m().createElement(c.Tbody,null,m().createElement(c.Tr,null,m().createElement(c.Td,{colSpan:e},m().createElement(ve,{...n,hasRadius:!1})))),Wt=({action:e,children:t,contentType:n,components:r,footer:a,headers:i=[],isLoading:l=!1,onConfirmDeleteAll:s,onConfirmDelete:u,rows:d=[],withBulkActions:f=!1,withMainAction:g=!1,renderBulkActionsBar:E,...p})=>{const[h,b]=(0,o.useState)([]),[y,I]=(0,o.useState)(!1),[C,S]=(0,o.useState)(!1),[T,L]=(0,o.useState)(!1),[{query:A}]=N(),{formatMessage:P}=(0,M.useIntl)(),{trackUsage:V}=K(),$=d.length+1,W=i.length+(f?1:0)+(g?1:0),Oe=A?.filters!==void 0,w=h.length===d.length&&d.length>0,k=Oe?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:n}}:void 0,q=async()=>{try{L(!0),await s?.(h),Y(),b([]),L(!1)}catch{L(!1),Y()}},v=async()=>{try{L(!0),await u?.(h[0]),Q(),L(!1)}catch{L(!1),Q()}},x=()=>{b(w?[]:d.map(D=>D.id))},Y=()=>{y||V("willBulkDeleteEntries"),I(D=>!D)},Q=()=>{C&&b([]),S(D=>!D)},_e=D=>{b([D]),Q()},Ar=({name:D,value:Nr})=>{b(pt=>Nr?pt.concat(D):pt.filter(qr=>qr!==D))},Dr=()=>{b([])},Br=r?.ConfirmDialogDeleteAll?r.ConfirmDialogDeleteAll:H,jr=r?.ConfirmDialogDelete?r.ConfirmDialogDelete:H;return m().createElement(m().Fragment,null,h.length>0&&m().createElement(c.Flex,{gap:3},m().createElement(c.Typography,{variant:"omega",textColor:"neutral500"},P({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:h.length})),E?E({selectedEntries:h,clearSelectedEntries:Dr}):m().createElement(c.Button,{onClick:Y,startIcon:m().createElement(O.Trash,null),size:"L",variant:"danger-light"},P({id:"global.delete",defaultMessage:"Delete"}))),m().createElement(c.Table,{colCount:W,rowCount:$,footer:a},m().createElement(Ht,{areAllEntriesSelected:w,entriesToDelete:h,headers:i,onSelectAll:x,withMainAction:g,withBulkActions:f}),!d.length||l?m().createElement(We,{colSpan:W,content:k,isLoading:l,action:e}):o.Children.toArray(t).map(D=>(0,o.cloneElement)(D,{entriesToDelete:h,onClickDelete:_e,onSelectRow:Ar,headers:i,rows:d,withBulkActions:f,withMainAction:g,...p}))),m().createElement(Br,{isConfirmButtonLoading:T,onConfirm:q,onToggleDialog:Y,isOpen:y}),m().createElement(jr,{isConfirmButtonLoading:T,onConfirm:v,onToggleDialog:Q,isOpen:C}))},Ht=({areAllEntriesSelected:e=!1,entriesToDelete:t=[],headers:n=[],onSelectAll:r,withMainAction:a,withBulkActions:i})=>{const{formatMessage:l}=(0,M.useIntl)(),[{query:s},u]=N(),d=typeof s?.sort=="string"?s.sort:"",[f,g]=d.split(":"),E=!e&&t.length>0;return m().createElement(c.Thead,null,m().createElement(c.Tr,null,a&&m().createElement(c.Th,null,m().createElement(c.BaseCheckbox,{"aria-label":l({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:E,onChange:r})),n.map(({fieldSchema:p,name:h,metadatas:{sortable:b,label:y,mainField:I}})=>{let C=f===h;const S=g==="ASC";p?.type==="relation"&&I&&(C=f===`${h.split(".")[0]}[${I.name}]`);const T=l({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:y}),L=(A=!0)=>{if(b&&A){let P=h;p?.type==="relation"&&I&&(P=`${h.split(".")[0]}[${I.name}]`),u({sort:`${P}:${C&&g==="ASC"?"DESC":"ASC"}`})}};return m().createElement(c.Th,{key:h,action:C&&m().createElement(c.IconButton,{label:T,onClick:()=>L(),icon:C&&m().createElement(Ee,{isUp:S}),noBorder:!0})},m().createElement(c.Tooltip,{label:b?T:y},m().createElement(c.Typography,{as:!C&&b?"button":"span",textColor:"neutral600",onClick:()=>L(!C),variant:"sigma"},y)))}),i&&m().createElement(c.Th,null,m().createElement(c.VisuallyHidden,null,l({id:"global.actions",defaultMessage:"Actions"})))))},He=o.createContext(null),U=()=>{const e=o.useContext(He);if(!e)throw new Error("useTableContext must be used within a TableProvider");return e},Vt={Content:({children:e,footer:t})=>{const{rowCount:n,colCount:r}=U();return o.createElement(c.Table,{rowCount:n,colCount:r,footer:t},e)},Root:({children:e,defaultSelectedEntries:t=[],rows:n=[],colCount:r=0,isLoading:a,isFetching:i})=>{const[l,s]=o.useState(t),u=n.length+1,d=o.useCallback(({name:g,value:E})=>{s(p=>E?p.concat(g):p.filter(h=>h!==g))},[]),f=o.useMemo(()=>({selectedEntries:l,setSelectedEntries:s,onSelectRow:d,rows:n,isLoading:a,isFetching:i,colCount:r,rowCount:u}),[d,l,s,n,a,i,r,u]);return o.createElement(He.Provider,{value:f},e)},Body:({children:e})=>{const{rows:t,isLoading:n}=U();return n||t.length===0?null:o.createElement(c.Tbody,null,e)},ActionBar:({children:e})=>{const{formatMessage:t}=(0,M.useIntl)(),{selectedEntries:n}=U();return n.length===0?null:o.createElement(c.Flex,{gap:2},o.createElement(c.Typography,{variant:"omega",textColor:"neutral500"},t({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:n.length})),e)},Head:({children:e})=>o.createElement(c.Thead,null,o.createElement(c.Tr,null,e)),HeaderCell:({fieldSchemaType:e,name:t,relationFieldName:n,isSortable:r,label:a})=>{const[{query:i},l]=N(),s=typeof i?.sort=="string"?i.sort:"",[u,d]=s.split(":"),{formatMessage:f}=(0,M.useIntl)();let g=u===t;const E=d==="ASC";e==="relation"&&n&&(g=u===`${t.split(".")[0]}[${n}]`);const p=f({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:a}),h=(b=!0)=>{if(r&&b){let y=t;e==="relation"&&n&&(y=`${t.split(".")[0]}[${n}]`),l({sort:`${y}:${g&&d==="ASC"?"DESC":"ASC"}`})}};return o.createElement(c.Th,{key:t,action:g&&r&&o.createElement(c.IconButton,{label:p,onClick:()=>h(!0),icon:o.createElement(Ee,{isUp:E}),noBorder:!0})},o.createElement(c.Tooltip,{label:r?p:a},o.createElement(c.Typography,{textColor:"neutral600",as:!g&&r?"button":"span",onClick:()=>h(),variant:"sigma"},a)))},HeaderHiddenActionsCell:()=>{const{formatMessage:e}=(0,M.useIntl)();return o.createElement(c.Th,null,o.createElement(c.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"})))},HeaderCheckboxCell:()=>{const{selectedEntries:e,setSelectedEntries:t,rows:n}=U(),{formatMessage:r}=(0,M.useIntl)(),a=e.length===n.length&&n.length>0,i=!a&&e.length>0,l=()=>{t(a?[]:n.map(s=>s.id))};return n.length===0?null:o.createElement(c.Th,null,o.createElement(c.BaseCheckbox,{"aria-label":r({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:a,indeterminate:i,onChange:l}))},LoadingBody:()=>{const{isLoading:e,colCount:t}=U();return e?o.createElement(c.Tbody,null,o.createElement(c.Tr,null,o.createElement(c.Td,{colSpan:t},o.createElement(c.Flex,{justifyContent:"center"},o.createElement(c.Box,{padding:11,background:"neutral0"},o.createElement(c.Loader,null,"Loading content")))))):null},EmptyBody:({contentType:e,...t})=>{const{rows:n,colCount:r,isLoading:a}=U(),[{query:i}]=N(),s=i?.filters!==void 0?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:e}}:void 0;return n?.length>0||a?null:o.createElement(c.Tbody,null,o.createElement(c.Tr,null,o.createElement(c.Td,{colSpan:r},o.createElement(ve,{...t,content:s,hasRadius:!1,shadow:void 0}))))},BulkDeleteButton:({onConfirmDeleteAll:e})=>{const{selectedEntries:t,setSelectedEntries:n}=U(),{formatMessage:r}=(0,M.useIntl)(),[a,i]=o.useState(!1),[l,s]=o.useState(!1),u=async()=>{try{s(!0),await e(t),s(!1),d(),n([])}catch{s(!1),d()}},d=()=>{i(f=>!f)};return o.createElement(o.Fragment,null,o.createElement(c.Button,{onClick:d,startIcon:o.createElement(O.Trash,null),size:"L",variant:"danger-light"},r({id:"global.delete",defaultMessage:"Delete"})),o.createElement(H,{isConfirmButtonLoading:l,onConfirm:u,onToggleDialog:d,isOpen:a}))}},Qt=({filtersSchema:e=[]})=>{const[{query:t},n]=N(),r=a=>{const i=(t?.filters?.$and||[]).filter(l=>{const s=Object.keys(a)[0],u=Object.keys(a[s])[0],d=a[s][u];return l[s]?.[u]!==d});n({filters:{$and:i},page:1})};return t?.filters?.$and?.length?o.createElement(o.Fragment,null,t?.filters?.$and?.map((a,i)=>{const l=Object.keys(a)[0],s=e.find(({name:u})=>u===l);if(!s)return null;if(s.fieldSchema.type==="relation"){const u=s?.fieldSchema?.mainField?.name,d=a[l][u];if(typeof d=="object"&&d!==null){const f=Object.keys(d)[0],g=d[f]??"";return o.createElement(Ve,{key:`${l}-${i}`,attribute:s,filter:a,onClick:r,operator:f,value:g})}return null}else{const u=a[l],d=Object.keys(u)[0],f=u[d];return typeof f=="string"||f===null?o.createElement(Ve,{key:`${l}-${i}`,attribute:s,filter:a,onClick:r,operator:d,value:f??""}):null}})):null},Ve=({attribute:e,filter:t,onClick:n,operator:r,value:a})=>{const{formatMessage:i,formatDate:l,formatTime:s,formatNumber:u}=(0,M.useIntl)(),d=()=>{n(t)},{fieldSchema:f}=e,g=f.type==="relation"?f?.mainField?.schema?.type:f.type;let E=a;if(g==="date"&&(E=l(a,{dateStyle:"full"})),g==="datetime"&&(E=l(a,{dateStyle:"full",timeStyle:"short"})),g==="time"){const[h,b]=a.split(":"),y=new Date;y.setHours(Number(h)),y.setMinutes(Number(b)),E=s(y,{hour:"numeric",minute:"numeric"})}["float","integer","biginteger","decimal"].includes(g)&&(E=u(Number(a))),e.metadatas.customInput&&e.metadatas.options&&(E=e.metadatas.options.find(b=>b.customValue===a)?.label||a);const p=`${e.metadatas.label||e.name} ${i({id:`components.FilterOptions.FILTER_TYPES.${r}`,defaultMessage:r})} ${r!=="$null"&&r!=="$notNull"?E:""}`;return o.createElement(c.Box,{padding:1},o.createElement(c.Tag,{onClick:d,icon:o.createElement(O.Cross,null)},p))};var Gt=require("date-fns/formatISO"),Qe=_.n(Gt);const Jt=({displayedFilters:e,isVisible:t,onBlur:n,onToggle:r,source:a})=>{const[{query:i},l]=N(),{formatMessage:s}=(0,M.useIntl)(),{trackUsage:u}=K(),d={fieldSchema:{type:"string"}},[f,g]=o.useState({name:e[0]?.name||"",filter:ye((e[0]||d).fieldSchema)[0].value,value:""});if(!t||e.length===0)return null;const E=S=>{const T=e.find($=>$.name===S);if(!T)return;const{fieldSchema:{type:L,options:A}}=T;let P="";L==="boolean"&&(P="true"),L==="enumeration"&&Array.isArray(A)&&(P=A[0]);const V=ye(T.fieldSchema)[0].value;g({name:S,filter:V,value:P})},p=S=>{S.preventDefault();const T=i?.filters?.$and.find(L=>L[f.name]&&L[f.name]?.[f.filter]===f.value)!==void 0;if(f.value&&!T){const L=e.find(({name:A})=>A===f.name);if(L){L.trackedEvent&&u(L.trackedEvent.name,L.trackedEvent.properties);let A;L.fieldSchema.type==="relation"?A={[f.name]:{[L.fieldSchema.mainField.name]:{[f.filter]:f.value}}}:A={[f.name]:{[f.filter]:f.value}};const P=[...i?.filters?.$and||[],A];l({filters:{$and:P},page:1})}}r()},h=S=>{if(S==="$null"||S==="$notNull"){g(T=>({...T,value:"true",filter:S}));return}g(T=>({...T,filter:S,value:""}))},b=e.find(S=>S.name===f.name),y=f.filter,I=b.metadatas.customOperators||ye(b.fieldSchema),C=b.metadatas.customInput||Xt;return o.createElement(c.Popover,{source:a,onDismiss:r,padding:3,spacing:4,onBlur:n},o.createElement("form",{onSubmit:p},o.createElement(c.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},o.createElement(Kt,{direction:"column",alignItems:"stretch",gap:1},o.createElement(c.SingleSelect,{label:s({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:E,value:f.name},e.map(S=>o.createElement(c.SingleSelectOption,{key:S.name,value:S.name},S.metadatas.label))),o.createElement(c.SingleSelect,{label:s({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:f.filter,onChange:S=>h(S)},I.map(S=>o.createElement(c.SingleSelectOption,{key:S.value,value:S.value},s(S.intlLabel))))),y!=="$null"&&y!=="$notNull"&&o.createElement(c.Box,null,o.createElement(C,{...b.metadatas,...b.fieldSchema,value:f.value,onChange:S=>g(T=>({...T,value:S}))})),o.createElement(c.Box,null,o.createElement(c.Button,{size:"L",variant:"secondary",startIcon:o.createElement(O.Plus,null),type:"submit",fullWidth:!0},s({id:"app.utils.add-filter",defaultMessage:"Add filter"}))))))},Kt=R()(c.Flex)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Xt=({label:e="",onChange:t,options:n=[],type:r,value:a=""})=>{const{formatMessage:i}=(0,M.useIntl)();return r==="boolean"?o.createElement(c.SingleSelect,{"aria-label":e,onChange:l=>t(String(l)),value:a},o.createElement(c.SingleSelectOption,{value:"true"},"true"),o.createElement(c.SingleSelectOption,{value:"false"},"false")):r==="date"?o.createElement(c.DatePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:l=>t(l?Qe()(l,{representation:"date"}):null),onClear:()=>t(null),selectedDate:a?new Date(a):void 0}):r==="datetime"?o.createElement(c.DateTimePicker,{clearLabel:i({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:l=>t(l?l.toISOString():null),onClear:()=>t(null),value:a?new Date(a):void 0}):r==="enumeration"?o.createElement(c.SingleSelect,{"aria-label":e,onChange:t,value:a},n.map(l=>o.createElement(c.SingleSelectOption,{key:l,value:l},l))):["float","integer","biginteger","decimal"].includes(r)?o.createElement(c.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:l=>t(l?String(l):null),value:a||0}):r==="time"?o.createElement(c.TimePicker,{"aria-label":e,onClear:()=>t(""),onChange:l=>t(l||null),value:a??void 0,clearLabel:"Clear the selected time picker value"}):o.createElement(c.Field,null,o.createElement(c.FieldInput,{"aria-label":i({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:l}})=>t(l),value:a??void 0,size:"M"}))},ye=e=>{let t=e.type;switch(e.type==="relation"&&(t=e.mainField.schema.type),t){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$nei",defaultMessage:"is not (case insensitive)"},value:"$nei"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$containsi",defaultMessage:"contains (case insensitive)"},value:"$containsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContainsi",defaultMessage:"not contains (case insensitive)"},value:"$notContainsi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWithi",defaultMessage:"starts with (case insensitive)"},value:"$startsWithi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWithi",defaultMessage:"ends with (case insensitive)"},value:"$endsWithi"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eqi",defaultMessage:"is (case insensitive)"},value:"$eqi"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};var Ge=require("formik");const Zt=({...e})=>{const t=(0,o.useRef)(null),{isSubmitting:n,isValidating:r,errors:a,touched:i}=(0,Ge.useFormikContext)();return(0,o.useEffect)(()=>{if(n&&!r){const l=t.current.querySelectorAll("[data-strapi-field-error]");if(l&&l.length>0){const u=l[0].getAttribute("id"),d=t.current.querySelector(`[aria-describedby="${u}"]`);d&&d instanceof HTMLElement&&d.focus()}}if(!n&&!r&&Object.keys(a).length){const l=document.getElementById("global-form-error");l&&l.focus()}},[a,n,r,i]),m().createElement(Ge.Form,{ref:t,...e,noValidate:!0})},en=({description:e,fieldSchema:t,type:n})=>{const{formatMessage:r}=(0,M.useIntl)(),a=()=>e?.id?r({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:l,minimum:s}=nn(t),u=tn({type:n,minimum:s,maximum:l}),d=typeof s=="number",f=typeof l=="number",g=f&&d,E=f||d;return!e?.id&&!E?"":r({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:s,max:l,description:a(),unit:u?.message&&E?r(u.message,u.values):null,divider:g?r({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:E?m().createElement("br",null):null})})()}},tn=({type:e,minimum:t,maximum:n})=>{if(e&&["biginteger","integer","number"].includes(e))return{};const r=Math.max(t||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:r}}},nn=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:t,maxLength:n,max:r,min:a}=e;let i,l;const s=Number(a),u=Number(t);Number.isNaN(s)?Number.isNaN(u)||(i=u):i=s;const d=Number(r),f=Number(n);return Number.isNaN(d)?Number.isNaN(f)||(l=f):l=d,{maximum:l,minimum:i}},Je=()=>{const{search:e}=(0,z.useLocation)();return(0,o.useMemo)(()=>new URLSearchParams(e),[e])},Ke=e=>{const t=Je(),[n,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{t.has("field")&&t.get("field")===e&&n&&("input"in n?(n.input.current.focus(),n.input.current.scrollIntoView({block:"center"})):(n.focus(),n.scrollIntoView({block:"center"})))},[t,e,n]),r},B=e=>`${e/16}rem`,rn=({autoComplete:e,customInputs:t,description:n,disabled:r,intlLabel:a,labelAction:i,error:l,name:s,onChange:u,options:d=[],placeholder:f,required:g,step:E,type:p,value:h,isNullable:b,attribute:y,...I})=>{const{formatMessage:C}=(0,M.useIntl)(),S=(v,x)=>{if(v&&(x==="minLength"&&x in v||x==="maxLength"&&x in v||x==="max"&&x in v||x==="min"&&x in v))return v[x]},{hint:T}=en({description:n,fieldSchema:{minLength:S(y,"minLength"),maxLength:S(y,"maxLength"),max:S(y,"max"),min:S(y,"min")},type:y?.type||p}),[L,A]=o.useState(!1),P=Ke(s),V=t?t[p]:null,$=h??void 0,W=$??"";function Oe(v){if(!v)return null;if(typeof v=="string")return C({id:v,defaultMessage:v});const x={...v.values};return C({id:v.id,defaultMessage:v?.defaultMessage??v.id},x)}const w=Oe(l)??void 0;if(V)return o.createElement(V,{...I,ref:P,attribute:y,description:n,hint:T,disabled:r,intlLabel:a,labelAction:i,error:w||"",name:s,onChange:u,options:d,required:g,placeholder:f,type:p,value:$});const k=a.id?C({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):s,q=f?C({id:f.id,defaultMessage:f.defaultMessage},{...f.values}):"";switch(p){case"json":return o.createElement(c.JSONInput,{ref:P,label:k,labelAction:i,value:$,error:w,disabled:r,hint:T,required:g,onChange:v=>{const x="required"in y&&!y?.required&&!v.length?null:v;u({target:{name:s,value:x}},!1)},minHeight:B(252),maxHeight:B(504)});case"bool":return o.createElement(c.ToggleInput,{ref:P,checked:h===null?null:h||!1,disabled:r,hint:T,label:k,error:w,labelAction:i,name:s,offLabel:C({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:C({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:v=>{u({target:{name:s,value:v.target.checked}})},required:g,onClear:()=>{u({target:{name:s,value:null}})},clearLabel:b?C({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"}):void 0});case"checkbox":return o.createElement(c.Checkbox,{ref:P,disabled:r,error:w,hint:T,id:s,name:s,onValueChange:v=>{u({target:{name:s,value:v}})},required:g,value:Boolean($)},k);case"datetime":return o.createElement(c.DateTimePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>{const x=v?v.toISOString():null;u({target:{name:s,value:x,type:p}})},onClear:()=>u({target:{name:s,value:null,type:p}}),placeholder:q,required:g,value:$});case"date":return o.createElement(c.DatePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,error:w,label:k,id:s,hint:T,name:s,onChange:v=>{u({target:{name:s,value:v?Qe()(v,{representation:"date"}):null,type:p}})},onClear:()=>u({target:{name:s,value:null,type:p}}),placeholder:q,required:g,selectedDate:$});case"number":return o.createElement(c.NumberInput,{ref:P,disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onValueChange:v=>{u({target:{name:s,value:v,type:p}})},placeholder:q,required:g,step:E,value:$});case"email":return o.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>{u({target:{name:s,value:v.target.value,type:p}})},placeholder:q,required:g,type:"email",value:W});case"timestamp":case"text":case"string":return o.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>{u({target:{name:s,value:v.target.value,type:p}})},placeholder:q,required:g,type:"text",value:W});case"password":return o.createElement(c.TextInput,{ref:P,autoComplete:e,disabled:r,error:w,endAction:o.createElement("button",{"aria-label":C({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{A(v=>!v)},style:{border:"none",padding:0,background:"transparent"},type:"button"},L?o.createElement(c.Icon,{as:O.Eye,color:"neutral500"}):o.createElement(c.Icon,{as:O.EyeStriked,color:"neutral500"})),label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>{u({target:{name:s,value:v.target.value,type:p}})},placeholder:q,required:g,type:L?"text":"password",value:W});case"select":return o.createElement(c.SingleSelect,{ref:P,disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>{u({target:{name:s,value:v,type:"select"}})},placeholder:q,required:g,value:$},d.map(({metadatas:{intlLabel:v,disabled:x,hidden:Y},key:Q,value:_e})=>o.createElement(c.SingleSelectOption,{key:Q,value:_e,disabled:x,hidden:Y},C(v))));case"textarea":return o.createElement(c.Textarea,{ref:P,disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:v=>u({target:{name:s,value:v.target.value,type:p}}),required:g,placeholder:q,value:W});case"time":{let v=$;if(typeof $=="string"&&$.split(":").length>2){const[x,Y]=$.split(":");v=`${x}:${Y}`}return o.createElement(c.TimePicker,{ref:P,clearLabel:C({id:"clearLabel",defaultMessage:"Clear"}),disabled:r,error:w,label:k,labelAction:i,id:s,hint:T,name:s,onChange:x=>{u({target:{name:s,value:`${x}`,type:p}})},onClear:()=>{u({target:{name:s,value:null,type:p}})},required:g,value:v})}default:return o.createElement(c.TextInput,{disabled:!0,error:w,label:k,labelAction:i,id:s,hint:T,name:s,placeholder:"Not supported",required:g,type:"text",value:""})}},be=o.createContext({getPlugin:()=>{},menu:[],plugins:{},settings:{},runHookParallel:()=>Promise.resolve(),runHookWaterfall:()=>Promise.resolve(),runHookSeries:()=>Promise.resolve()}),an=({children:e,getPlugin:t,menu:n,plugins:r,runHookParallel:a,runHookSeries:i,runHookWaterfall:l,settings:s})=>{const u=o.useMemo(()=>({getPlugin:t,menu:n,plugins:r,runHookParallel:a,runHookSeries:i,runHookWaterfall:l,settings:s}),[t,n,r,a,i,l,s]);return o.createElement(be.Provider,{value:u},e)},Xe=()=>o.useContext(be),on=({area:e,...t})=>{const{getPlugin:n}=Xe(),[r,a,i]=e.split("."),l=n(r);if(!l)return null;const s=l.getInjectedComponents(a,i);return s?s.map(({name:u,Component:d})=>o.createElement(d,{key:u,...t})):null};/**
 * @preserve
 *
 * @deprecated Use @strapi/design-system LinkButton instead.
 */const sn=e=>m().createElement(ee.Link,{...e,as:z.NavLink});/**
 * @preserve
 *
 * @deprecated Use @strapi/design-system LinkButton instead.
 */const ln=e=>m().createElement(ee.LinkButton,{...e,as:z.NavLink}),cn=({content:e={id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},...t})=>{const{formatMessage:n}=(0,M.useIntl)();return m().createElement(c.EmptyStateLayout,{...t,icon:m().createElement(O.EmptyDocuments,{width:"10rem"}),content:n({id:e.id,defaultMessage:e.defaultMessage},e.values)})},un=e=>m().createElement(c.EmptyStateLayout,{...e,icon:m().createElement(O.EmptyPictures,{width:"10rem"})}),dn=({action:e})=>{const{formatMessage:t}=(0,M.useIntl)();return m().createElement(c.EmptyStateLayout,{icon:m().createElement(O.EmptyPermissions,{width:"10rem"}),content:t({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})},fn=({description:e,error:t,intlLabel:n,labelAction:r,name:a=""})=>{const{formatMessage:i}=(0,M.useIntl)(),l=n?.id?i({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):a,s=e?.id?i({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",u=i({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),d=t?i({id:t,defaultMessage:t}):"";return m().createElement(c.TextInput,{disabled:!0,error:d,label:l,labelAction:r,id:a,hint:s,name:a,placeholder:u,startAction:m().createElement(mn,null),type:"text",value:""})},mn=R()(O.EyeStriked)`
  & > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,gn=({trackedEvent:e,options:t=["10","20","50","100"],defaultValue:n="10"})=>{const{formatMessage:r}=(0,M.useIntl)(),[{query:a},i]=N(),{trackUsage:l}=K(),s=d=>{e&&l(e),i({pageSize:d,page:1})},u=typeof a?.pageSize=="string"&&a?.pageSize!==""?a.pageSize:n;return o.createElement(c.Flex,{gap:2},o.createElement(c.SingleSelect,{size:"S","aria-label":r({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:s,value:u},t.map(d=>o.createElement(c.SingleSelectOption,{key:d,value:d},d))),o.createElement(c.Typography,{textColor:"neutral600",as:"span"},r({id:"components.PageFooter.select",defaultMessage:"Entries per page"})))},pn=({pagination:{pageCount:e},boundaryCount:t=1,siblingCount:n=1})=>{const[{query:r}]=N(),a=parseInt(r?.page||"1",10),{pathname:i}=(0,z.useLocation)(),{formatMessage:l}=(0,M.useIntl)(),s=y=>(0,ne.stringify)({...r,page:y},{encode:!1}),u=s(a+(e>1?1:0)),d=s(a-1),f=(y,I)=>{const C=I-y+1;return Array.from({length:C},(S,T)=>y+T)},g=f(1,Math.min(t,e)),E=f(Math.max(e-t+1,t+1),e),p=Math.max(Math.min(a-n,e-t-n*2-1),t+2),h=Math.min(Math.max(a+n,t+n*2+2),E.length>0?E[0]-2:e-1),b=[...g,...p>t+2?["start-ellipsis"]:t+1<e-t?[t+1]:[],...f(p,h),...h<e-t-1?["end-ellipsis"]:e-t>t?[e-t]:[],...E];return m().createElement(c.Pagination,{activePage:a,pageCount:e},m().createElement(c.PreviousLink,{active:!1,to:{pathname:i,search:d}},l({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),b.map(y=>typeof y=="number"?m().createElement(c.PageLink,{active:y===a,key:y,number:y,to:{pathname:i,search:s(y)}},l({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:y})):m().createElement(c.Dots,{key:y})),m().createElement(c.NextLink,{active:!1,to:{pathname:i,search:u}},l({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};var Ze=require("react-select"),hn=_.n(Ze);const En=({components:e,styles:t,error:n,ariaErrorMessage:r,...a})=>{const i=(0,fe.useTheme)(),l=Sn(i,n);return m().createElement(hn(),{menuPosition:"fixed",components:{ClearIndicator:vn,DropdownIndicator:bn,IndicatorSeparator:()=>null,LoadingIndicator:()=>null,...e},"aria-errormessage":n&&r,"aria-invalid":!!n,styles:{...l,...t},...a})},et=R()(c.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,vn=e=>{const t=Ze.components.ClearIndicator;return m().createElement(t,{...e},m().createElement(et,{as:"button",type:"button"},m().createElement(O.Cross,null)))},yn=R()(et)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`,bn=({innerProps:e})=>m().createElement(yn,{paddingRight:3,...e},m().createElement(O.CarretDown,null)),Sn=(e,t)=>({clearIndicator:n=>({...n,padding:0,paddingRight:e.spaces[3]}),container:n=>({...n,background:e.colors.neutral0,lineHeight:"normal"}),control(n,r){let a=e.colors.neutral200,i,l;return r.isFocused?(a=e.colors.primary600,i=e.colors.primary600):t&&(a=e.colors.danger600),r.isDisabled&&(l=`${e.colors.neutral150} !important`),{...n,fontSize:e.fontSizes[2],height:40,border:`1px solid ${a} !important`,outline:0,backgroundColor:l,borderRadius:e.borderRadius,boxShadow:i?`${i} 0px 0px 0px 2px`:""}},indicatorsContainer:n=>({...n,padding:0,paddingRight:e.spaces[3]}),input:n=>({...n,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(n){return{...n,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:n=>({...n,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:n=>({...n,zIndex:100}),option(n,r){let a=n.backgroundColor;return(r.isFocused||r.isSelected)&&(a=e.colors.primary100),{...n,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:a,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:n=>({...n,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(n,r){let a=e.colors.neutral800;return r.isDisabled&&(a=e.colors.neutral600),{...n,marginLeft:0,color:a}},valueContainer:n=>({...n,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});var tt=require("date-fns");const Tn=["years","months","days","hours","minutes","seconds"],Cn=({timestamp:e,customIntervals:t=[]})=>{const{formatRelativeTime:n,formatDate:r,formatTime:a}=(0,M.useIntl)(),i=(0,tt.intervalToDuration)({start:e,end:Date.now()}),l=Tn.find(f=>i[f]>0&&Object.keys(i).includes(f)),s=(0,tt.isPast)(e)?-i[l]:i[l],u=t.find(f=>i[f.unit]<f.threshold),d=u?u.text:n(s,l,{numeric:"auto"});return m().createElement("time",{dateTime:e.toISOString(),title:`${r(e)} ${a(e)}`},d)},In=({label:e,placeholder:t,trackedEvent:n,trackedEventDetails:r})=>{const a=o.useRef(null),i=o.useRef(null),[{query:l},s]=N(),[u,d]=o.useState(l?._q||""),[f,g]=o.useState(!!u),{formatMessage:E}=(0,M.useIntl)(),{trackUsage:p}=K(),h=()=>g(I=>!I);o.useLayoutEffect(()=>{f&&a.current&&a.current.focus()},[f]);const b=()=>{d(""),s({_q:""},"remove")},y=I=>{I.preventDefault(),u?(n&&p(n,r),s({_q:encodeURIComponent(u),page:1})):(h(),s({_q:""},"remove"))};return f?o.createElement(c.SearchForm,{onSubmit:y},o.createElement(c.Searchbar,{ref:a,name:"search",onChange:I=>d(I.target.value),value:u,clearLabel:E({id:"clearLabel",defaultMessage:"Clear"}),onClear:b,size:"S",placeholder:t},e)):o.createElement(c.IconButton,{ref:i,icon:o.createElement(c.Icon,{as:O.Search,color:"neutral800"}),label:E({id:"global.search",defaultMessage:"Search"}),onClick:h})};var Mn=require("react-helmet");const xn=({name:e})=>{const{formatMessage:t}=(0,M.useIntl)(),n=t({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return o.createElement(Mn.Helmet,{title:n})},Ln=R().div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:t})=>e.colors[t]};
`,Pn=({variant:e="primary"})=>{const t=`${e}600`;return m().createElement(Ln,{backgroundColor:t})},nt=o.createContext({allLayoutData:{components:{}},createActionAllowedFields:[],formErrors:{},hasDraftAndPublish:!1,initialData:{},isCreatingEntry:!1,isSingleType:!1,modifiedData:{},readActionAllowedFields:[],slug:void 0,upateActionAllowedFields:[]}),On=()=>o.useContext(nt);var _n=require("lodash/get"),X=_.n(_n);const Se=(e,t)=>X()(e,["attributes",t,"type"],""),Z=(e,t)=>X()(e,["attributes",...t],"");var rt=require("react-dom");const Te=o.createContext({}),Fn=30*1e3,wn=({children:e})=>{const[t,n]=o.useState(!1),[r,a]=o.useState({}),[i,l]=o.useState(!1),s=o.useCallback((p={})=>{n(!0),a(p)},[]),u=o.useCallback(()=>{n(!1),a({})},[]);o.useEffect(()=>{if(t){const p=setTimeout(()=>{l(!0)},Fn);return()=>{clearTimeout(p)}}},[t]);let d=r?.icon||"reload",f={id:r?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},g={id:r?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};i&&(d="time",f={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},g={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const E=o.useMemo(()=>({lockAppWithAutoreload:s,unlockAppWithAutoreload:u}),[s,u]);return o.createElement(Te.Provider,{value:E},o.createElement($n,{displayedIcon:d,isOpen:t,description:f,title:g}),e)},$n=({displayedIcon:e,description:t,title:n,isOpen:r})=>{const{formatMessage:a}=(0,M.useIntl)();return r&&globalThis?.document?.body?(0,rt.createPortal)(o.createElement(An,{id:"autoReloadOverlayBlocker",direction:"column",alignItems:"center",gap:6},o.createElement(c.Flex,{direction:"column",alignItems:"center",gap:2},o.createElement(c.Typography,{as:"h1",variant:"alpha"},a(n)),o.createElement(c.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},a(t))),e==="reload"&&o.createElement(at,{padding:6,background:"primary100",borderColor:"primary200"},o.createElement(Rn,{width:B(36),height:B(36)})),e==="time"&&o.createElement(at,{padding:6,background:"primary100",borderColor:"primary200"},o.createElement(O.Clock,{width:B(40),height:B(40)})),o.createElement(c.Box,{marginTop:2},o.createElement(ee.Link,{href:"https://docs.strapi.io",isExternal:!0},a({id:"global.documentation",defaultMessage:"Read the documentation"})))),globalThis.document.body):null},kn=(0,fe.keyframes)`
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  `,Rn=R()(O.Refresh)`
  animation: ${kn} 1s infinite linear;
`,An=R()(c.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
  padding-top: ${B(160)};

  & > * {
    position: relative;
    z-index: 1;
  }

  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:e})=>e.colors.neutral0};
    opacity: 0.9;
  }
`,at=R()(c.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:e})=>e.colors.primary600} !important;
    }
  }
`,Dn=()=>o.useContext(Te),Ce=o.createContext({get(){},getAll(){return{}}}),Bn=({children:e,customFields:t})=>{const n=t.get.bind(t),r=t.getAll.bind(t),a=o.useMemo(()=>({get:n,getAll:r}),[n,r]);return o.createElement(Ce.Provider,{value:a},e)},jn=()=>o.useContext(Ce),Ie=o.createContext({currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0,setCurrentStep:()=>null,setGuidedTourVisibility:()=>null,setSkipped:()=>null,setStepState:()=>null,startSection:()=>null}),Nn=({children:e,currentStep:t=null,guidedTourState:n,isGuidedTourVisible:r=!1,isSkipped:a,setCurrentStep:i,setGuidedTourVisibility:l,setSkipped:s,setStepState:u,startSection:d})=>{const f=o.useMemo(()=>({currentStep:t,guidedTourState:n,isGuidedTourVisible:r,isSkipped:a,setCurrentStep:i,setGuidedTourVisibility:l,setSkipped:s,setStepState:u,startSection:d}),[t,n,r,a,i,l,s,u,d]);return o.createElement(Ie.Provider,{value:f},e)},qn=()=>o.useContext(Ie),Me=o.createContext({}),Un=({children:e,fields:t,components:n})=>{const r=o.useMemo(()=>({fields:t,components:n}),[t,n]);return o.createElement(Me.Provider,{value:r},e)},Yn=()=>o.useContext(Me),xe=o.createContext({}),zn=({children:e})=>{const[t,n]=o.useState(!1),r=o.useCallback(()=>{n(!0)},[]),a=o.useCallback(()=>{n(!1)},[]),i=o.useMemo(()=>({lockApp:r,unlockApp:a}),[r,a]);return o.createElement(xe.Provider,{value:i},e,t&&globalThis?.document?.body?(0,rt.createPortal)(o.createElement(Wn,{id:"overlayBlocker"}),globalThis.document.body):null)},Wn=R()(c.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
`,Hn=()=>o.useContext(xe),Vn="apiError.";function ot(e,t){const n=`${Vn}${e}`;return typeof t=="function"?t(n):n}function st(e,{name:t,intlMessagePrefixCallback:n}){const{message:r}=e,a={id:ot(r,n),defaultMessage:r,name:e.name??t,values:{}};return"path"in e&&(a.values={path:e.path.join(".")}),a}const Qn=e=>typeof e.details=="object"&&e.details!==null&&"errors"in e.details;function Le(e,t){const n=e.response?.data.error;return n?Qn(n)?{name:n.name,message:n?.message||null,errors:n.details.errors.map(r=>st(r,{name:n.name,intlMessagePrefixCallback:t}))}:st(n,{intlMessagePrefixCallback:t}):null}function Gn(e){const{formatMessage:t}=(0,M.useIntl)();return{formatAPIError(n){try{const r=Kn(n,{intlMessagePrefixCallback:e,formatMessage:t});return r||Jn(n,{intlMessagePrefixCallback:e,formatMessage:t})}catch{throw new Error("formatAPIError: Unknown error:",n)}}}}function Jn(e,{intlMessagePrefixCallback:t,formatMessage:n}){const{code:r,message:a}=e;return n({id:ot(a,t),defaultMessage:a},{code:r})}function Kn(e,{formatMessage:t,intlMessagePrefixCallback:n}){if(!t)throw new Error("The formatMessage callback is a mandatory argument.");const r=Le(e,n);return r?"message"in r&&r.message!==null?r.message:"errors"in r?r.errors.map(({id:a,defaultMessage:i,values:l})=>t({id:a,defaultMessage:i},l)).join(`
`):t(r):null}const Xn=()=>({copy:(0,o.useCallback)(async t=>{try{if(typeof t!="string"&&typeof t!="number")throw new Error(`Cannot copy typeof ${typeof t} to clipboard, must be a string`);if(t==="")throw new Error("Cannot copy empty string to clipboard.");const n=t.toString();return await navigator.clipboard.writeText(n),!0}catch{return!1}},[])}),Pe=new Map;function lt(e,t){const n=e+(t?Object.entries(t).sort((a,i)=>a[0]<i[0]?-1:1).join():"");if(Pe.has(n))return Pe.get(n);const r=new Intl.Collator(e,t);return Pe.set(n,r),r}const it=()=>{const e=(0,o.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,o.useEffect)(()=>()=>{e.current.abort()},[]),(0,o.useMemo)(()=>ue({signal:e.current.signal}),[])};function Zn(e,t){const n=lt(e,{usage:"search",...t});return{startsWith(r,a){return a.length===0?!0:(r=r.normalize("NFC"),a=a.normalize("NFC"),n.compare(r.slice(0,a.length),a)===0)},endsWith(r,a){return a.length===0?!0:(r=r.normalize("NFC"),a=a.normalize("NFC"),n.compare(r.slice(-a.length),a)===0)},includes(r,a){if(a.length===0)return!0;r=r.normalize("NFC"),a=a.normalize("NFC");let i=0;const l=a.length;for(;i+l<=r.length;i++){const s=r.slice(i,i+l);if(n.compare(a,s)===0)return!0}return!1}}}const er=({selector:e="main",dependencies:t=[]}={})=>{o.useEffect(()=>{const n=document.querySelector(e);n?(n.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},t)},tr=({lockScroll:e})=>{o.useEffect(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])},nr=(e,t)=>{const[n,r]=(0,o.useState)(()=>{const a=window.localStorage.getItem(e);if(a!==null)try{return JSON.parse(a)}catch{return a}return t});return(0,o.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,r]};var rr=require("react-query");const ar=(e,t)=>{const[n,r]=(0,o.useState)(!1),a=(0,o.useMemo)(()=>Object.keys(e).map(h=>({name:h,hasPermission:!1})),[e]),{allPermissions:i}=te(),{post:l}=it(),s=t||i,u=Object.entries(e),d=(0,rr.useQueries)(u.map(([h,b])=>({queryKey:["useRBAC",h,b,s],async queryFn(){if(!b||!b.length)return{name:h,hasPermission:!0};if(!s)return;const y=s.filter(I=>b.find(S=>S.action===I.action&&S.subject===I.subject)!==void 0);if(y.length>0&&y.every(I=>Array.isArray(I.conditions)&&I.conditions.length>0))try{const{data:{data:I}}=await l("/admin/permissions/check",{permissions:y.map(({action:C,subject:S})=>({action:C,subject:S}))});return{name:h,hasPermission:Array.isArray(I)&&I.every(C=>C===!0)}}catch{return{name:h,hasPermission:!1}}return{name:h,hasPermission:y.length>0}}}))),f=(0,o.useCallback)(()=>{r(!0)},[]),g=n||d.some(h=>h.isLoading),E=d.map(h=>h.data);return{allowedActions:(E.some(h=>h===void 0)?a:E).reduce((h,b)=>{if(!b)return h;const{name:y,hasPermission:I}=b;return h[`can${or(y)}`]=I,h},{}),isLoading:g,setIsLoading:f}},or=e=>e.charAt(0).toUpperCase()+e.slice(1),sr=(e,t)=>{const[n,r]=(0,o.useState)(t);return[n,{selectOne:d=>{const f=n.findIndex(g=>e.every(E=>g[E]===d[E]));f>-1?r(g=>[...g.slice(0,f),...g.slice(f+1)]):r(g=>[...g,d])},selectAll:d=>{n.length>0?r([]):r(d)},selectOnly:d=>{n.indexOf(d)>-1?r([]):r([d])},selectMultiple:d=>{r(f=>[...f,...d.filter(g=>f.findIndex(E=>e.every(p=>E[p]===g[p]))===-1)])},deselectMultiple:d=>{r(f=>[...f.filter(g=>d.findIndex(E=>e.every(p=>g[p]===E[p]))===-1)])},setSelections:r}]},lr=R()(c.IconButton)(({theme:e})=>`
  border-radius: ${B(30)};
  width: ${B(20)};
  height: ${B(20)};
  padding: ${B(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${B(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`),ir=e=>m().createElement(lr,{icon:m().createElement(O.Minus,null),...e}),cr=["createdBy","updatedBy","publishedAt","id","_id"],ur=(e,t,n,r=cr)=>{const a=(i,l)=>Object.keys(i).reduce((s,u)=>{const d=Se(l,u),f=X()(i,u),g=Z(l,[u,"component"]),E=Z(l,[u,"repeatable"]);let p=X()(l,["options","timestamps"]);return Array.isArray(p)||(p=[]),[...r,...p].indexOf(u)!==-1?(delete s[u],s):f?d==="dynamiczone"&&Array.isArray(f)?(s[u]=f.map(h=>a(h,n[h.__component])),s):(d==="component"&&(E&&Array.isArray(f)?s[u]=f.map(h=>a(h,n[g])):s[u]=a(f,n[g])),s):s},Object.assign({},i));return a(e,t)},dr=(e,t,n)=>{const r=(a,i)=>Object.keys(a).reduce((l,s)=>{const u=Se(i,s),d=X()(a,s),f=Z(i,[s,"component"]),g=Z(i,[s,"repeatable"]);if(u==="json"&&d!==void 0)return l[s]=JSON.stringify(d,null,2),l;if(!d)return l[s]=d,l;if(u==="dynamiczone"&&Array.isArray(d))return l[s]=d.map(E=>r(E,n[E.__component])),l;if(u==="component"){let E;return g&&Array.isArray(d)?E=d.map((p,h)=>{const b={...p,__temp_key__:h};return r(b,n[f])}):E=r(d,n[f]),l[s]=E,l}return l[s]=d,l},{});return r(e,t)},fr=(e,t)=>e.then(function(n){return[null,n]}).catch(function(n){return t&&Object.assign(n,t),[n,void 0]});var mr=require("lodash/isEqual"),gr=_.n(mr),pr=require("lodash/isObject"),ct=_.n(pr),hr=require("lodash/transform"),Er=_.n(hr);function vr(e,t){function n(r,a){return Er()(r,(i,l,s)=>(gr()(l,a[s])||(i[s]=ct()(l)&&ct()(a[s])?n(l,a[s]):l),i))}return n(e,t)}/**
 *
 * Returns a normalized error message
 *
 * @deprecated
 * @preserve
 */function yr(e,{getTrad:t}){const n=Le(e,t);return n&&"errors"in n?n.errors.reduce((r,a)=>("path"in a.values&&(r[a.values.path]={id:a.id,defaultMessage:a.defaultMessage}),r),{}):n?.defaultMessage}const br=e=>e&&e[0]==="."?e.substr(1):e,Sr=(e,t)=>!e||!t?{}:{[e]:t[e]},Tr=e=>(e?.inner||[]).reduce((t,n)=>(n.path&&(t[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:Sr(n?.type,n?.params)}),t),{}),Cr=e=>e&&e.startsWith("/")?`${window.strapi.backendURL}${e}`:e,Ir=(e,t)=>{if(!t)throw new TypeError("pluginId can't be empty");return Object.keys(e).reduce((n,r)=>(n[`${t}.${r}`]=e[r],n),{})};var Mr=require("lodash/startsWith"),xr=_.n(Mr);async function ut(e){return e instanceof Response?e.json():e}async function Lr(e,t=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&F.getToken()&&t&&(F.clearAppStorage(),window.location.reload()),ut(e).then(n=>{const r=new Error(e.statusText);throw r.response=e,r.response.payload=n,r}).catch(()=>{const n=new Error(e.statusText);throw n.response=e,n}))}function Pr(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}async function dt(e){return new Promise(t=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",keepalive:!1,headers:{"Content-Type":"application/json"}}).then(n=>{if(n.status>=400)throw new Error("not available");t(e)}).catch(()=>{setTimeout(()=>dt(e).then(t),100)})})}const Or=Ye(console.warn);async function _r(e,t={},n,r=!0,{noAuth:a}={noAuth:!1}){Or("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead."),t.headers||(t.headers=Object.assign({"Content-Type":"application/json"},t.headers));const i=F.getToken();if(i&&!a&&(t.headers=Object.assign({Authorization:`Bearer ${i}`},t.headers)),e=xr()(e,"/")?`${window.strapi.backendURL}${e}`:e,t&&t.params){const l=Pr(t.params);e=`${e}?${l}`}return t&&t.body&&r&&(t.body=JSON.stringify(t.body)),fetch(e,t).then(Lr).then(ut).then(l=>n?dt(l):l)}const Fr=(e,t)=>`${e}${Math.floor(t*255).toString(16).padStart(2,"0")}`,ft={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},wr=({fn:e,condition:t=!0})=>{if(t)return{style:{cursor:"pointer"},onClick:e}},$r=()=>o.createElement("div",ft),kr={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"},ta=null;function Rr(e){const n=()=>{};return{request:(...a)=>(n(),e.request(...a)),get:(...a)=>(n(),e.get(...a)),head:(...a)=>(n(),e.head(...a)),delete:(...a)=>(n(),e.delete(...a)),options:(...a)=>(n(),e.options(...a)),post:(...a)=>(n(),e.post(...a)),put:(...a)=>(n(),e.put(...a)),patch:(...a)=>(n(),e.patch(...a)),getUri:(...a)=>(n(),e.getUri(...a))}}var mt=exports;for(var gt in G)mt[gt]=G[gt];G.__esModule&&Object.defineProperty(mt,"__esModule",{value:!0})})();
